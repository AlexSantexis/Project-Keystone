[27-06-2024 09:27:25292 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 09:27:25431 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 09:27:25432 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 09:27:25433 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 09:27:25433 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 09:27:25434 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 09:27:26614 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 09:27:26724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 113.9432ms
[27-06-2024 09:27:26744 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 09:27:26744 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 09:27:26744 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 09:27:26753 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 9.4141ms
[27-06-2024 09:27:26757 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 09:27:26758 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 14.1485ms
[27-06-2024 09:27:26772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 28.3397ms
[27-06-2024 09:27:26801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 09:27:26803 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 09:27:26804 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.5768ms
[27-06-2024 09:27:26834 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 09:27:26928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 94.6714ms
[27-06-2024 09:27:46782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/register""" - "application/json" 115
[27-06-2024 09:27:46785 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:27:46832 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Register (Project-Keystone)"'
[27-06-2024 09:27:46845 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Register\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Project_Keystone.Api.Models.DTOs.UserDTOs.UserRegisterDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:27:47605 +03:00 Project_Keystone.Core.Services.AuthService ] Before CreateAsync: User ID: ef219d01-356f-4045-bd9f-54e2d7b50f5c, UserName: user@example.com
[27-06-2024 09:27:48027 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:27:48053 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:27:48154 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 512), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USERS] ([Id], [CONCURRENCY_STAMP], [CREATED_AT], [EMAIL], [FIRSTNAME], [LASTNAME], [NormalizedEmail], [NORMALIZED_USER_NAME], [PASSWORD_HASH], [RefreshToken], [RefreshTokenExpiryTime], [UPDATED_AT], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
[27-06-2024 09:27:48169 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [ROLES] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0"
[27-06-2024 09:27:48202 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [USER_ROLES] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1"
[27-06-2024 09:27:48207 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [ROLES] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0"
[27-06-2024 09:27:48215 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:27:48218 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:27:48241 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p14='?' (Size = 450), @p15='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;
INSERT INTO [USER_ROLES] ([RoleId], [UserId])
VALUES (@p14, @p15);"
[27-06-2024 09:27:48250 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" registered successfully.
[27-06-2024 09:27:48251 +03:00 Project_Keystone.Api.Controllers.AuthController ] User "user@example.com" registered successfully
[27-06-2024 09:27:48254 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:27:48260 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Register (Project-Keystone)" in 1411.958ms
[27-06-2024 09:27:48261 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Register (Project-Keystone)"'
[27-06-2024 09:27:48265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/register""" - 200 null "application/json; charset=utf-8" 1482.9028ms
[27-06-2024 09:28:05195 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 09:28:05197 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:28:05199 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:28:05202 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:28:05246 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:28:05310 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:28:05311 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:28:05313 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 09:28:05339 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 09:28:05358 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[27-06-2024 09:28:05359 +03:00 Project_Keystone.Api.Controllers.AuthController ] User "user@example.com" logged in successfully
[27-06-2024 09:28:05359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:28:05361 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 157.8014ms
[27-06-2024 09:28:05361 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:28:05362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 166.6732ms
[27-06-2024 09:29:30860 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - "application/json" 130
[27-06-2024 09:29:30864 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:29:30894 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:29:30897 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:29:30921 +03:00 Project_Keystone.Api.Controllers.AuthController ] Change password failed. User ID not found in the token
[27-06-2024 09:29:30921 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"System.String"'.
[27-06-2024 09:29:30922 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 24.4263ms
[27-06-2024 09:29:30925 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:29:30926 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - 401 null "text/plain; charset=utf-8" 65.6526ms
[27-06-2024 09:30:08573 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - "application/json" 130
[27-06-2024 09:30:08574 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:30:08575 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:30:08576 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:30:08579 +03:00 Project_Keystone.Api.Controllers.AuthController ] Change password failed. User ID not found in the token
[27-06-2024 09:30:08579 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"System.String"'.
[27-06-2024 09:30:08580 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 3.4716ms
[27-06-2024 09:30:08582 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:30:08583 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - 401 null "text/plain; charset=utf-8" 10.7101ms
[27-06-2024 09:30:30545 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - "application/json" 130
[27-06-2024 09:30:30546 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:30:30548 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:30:30548 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:30:30551 +03:00 Project_Keystone.Api.Controllers.AuthController ] Change password failed. User ID not found in the token
[27-06-2024 09:30:30551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"System.String"'.
[27-06-2024 09:30:30552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 3.3864ms
[27-06-2024 09:30:30554 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:30:30555 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - 401 null "text/plain; charset=utf-8" 10.3226ms
[27-06-2024 09:33:27195 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 09:33:27350 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 09:33:27350 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 09:33:27351 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 09:33:27352 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 09:33:27352 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 09:33:28352 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 09:33:28459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 110.915ms
[27-06-2024 09:33:28485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 09:33:28485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 09:33:28485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 09:33:28493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 7.885ms
[27-06-2024 09:33:28501 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 09:33:28502 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 16.881ms
[27-06-2024 09:33:28516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 31.3944ms
[27-06-2024 09:33:28545 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 09:33:28547 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 09:33:28548 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.8632ms
[27-06-2024 09:33:28577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 09:33:28666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 89.5827ms
[27-06-2024 09:33:39510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 09:33:39512 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:33:39560 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:33:39572 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:33:40708 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:33:40833 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:33:40840 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:33:40901 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 09:33:40936 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 09:33:40956 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[27-06-2024 09:33:40957 +03:00 Project_Keystone.Api.Controllers.AuthController ] User "user@example.com" logged in successfully
[27-06-2024 09:33:40961 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:33:40967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1392.0058ms
[27-06-2024 09:33:40968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:33:40973 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1463.3284ms
[27-06-2024 09:35:16460 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - "application/json" 130
[27-06-2024 09:35:16462 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:35:16493 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:35:16496 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:35:16538 +03:00 Project_Keystone.Api.Controllers.AuthController ] Change password failed. User ID not found in the token
[27-06-2024 09:35:16538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"System.String"'.
[27-06-2024 09:35:16539 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 41.7549ms
[27-06-2024 09:35:16541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:35:16542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - 401 null "text/plain; charset=utf-8" 83.8345ms
[27-06-2024 09:35:23928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - "application/json" 130
[27-06-2024 09:35:23929 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:35:23931 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:35:23932 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:35:23953 +03:00 Project_Keystone.Api.Controllers.AuthController ] Change password failed. User ID not found in the token
[27-06-2024 09:35:23953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"System.String"'.
[27-06-2024 09:35:23953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 20.9579ms
[27-06-2024 09:35:23954 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:35:23954 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - 401 null "text/plain; charset=utf-8" 26.9703ms
[27-06-2024 09:40:04919 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 09:40:05060 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 09:40:05061 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 09:40:05062 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 09:40:05063 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 09:40:05063 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 09:40:05876 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 09:40:05987 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 112.8862ms
[27-06-2024 09:40:06006 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 09:40:06006 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 09:40:06006 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 09:40:06015 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.5157ms
[27-06-2024 09:40:06021 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 09:40:06022 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.871ms
[27-06-2024 09:40:06037 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.9131ms
[27-06-2024 09:40:06063 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 09:40:06065 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 09:40:06066 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.7297ms
[27-06-2024 09:40:06095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 09:40:06186 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 91.2669ms
[27-06-2024 09:40:18726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 09:40:18729 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:40:18777 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:40:18790 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:40:19954 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:40:20086 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:40:20092 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:40:20158 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 09:40:20194 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 09:40:20213 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[27-06-2024 09:40:20214 +03:00 Project_Keystone.Api.Controllers.AuthController ] User "user@example.com" logged in successfully
[27-06-2024 09:40:20218 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:40:20224 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1431.4802ms
[27-06-2024 09:40:20225 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:40:20230 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1503.8267ms
[27-06-2024 09:44:06365 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 09:44:06526 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 09:44:06527 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 09:44:06528 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 09:44:06529 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 09:44:06530 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 09:44:07707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 09:44:07823 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 121.2157ms
[27-06-2024 09:44:07845 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 09:44:07845 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 09:44:07845 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 09:44:07855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 10.7426ms
[27-06-2024 09:44:07860 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 09:44:07860 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.82ms
[27-06-2024 09:44:07877 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 32.5999ms
[27-06-2024 09:44:07910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 09:44:07912 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 09:44:07913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.8943ms
[27-06-2024 09:44:07941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 09:44:08038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 96.9029ms
[27-06-2024 09:44:33047 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 09:44:33050 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:44:33099 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:44:33112 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:44:34213 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:44:34339 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:44:34345 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:44:34407 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 09:44:34441 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 09:44:34460 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[27-06-2024 09:44:34460 +03:00 Project_Keystone.Api.Controllers.AuthController ] User "user@example.com" logged in successfully
[27-06-2024 09:44:34465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:44:34471 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1355.8623ms
[27-06-2024 09:44:34472 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:44:34476 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1428.803ms
[27-06-2024 09:48:38951 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 09:48:39091 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 09:48:39091 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 09:48:39092 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 09:48:39093 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 09:48:39093 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 09:48:39876 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 09:48:39992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 119.4197ms
[27-06-2024 09:48:40017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 09:48:40017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 09:48:40022 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 09:48:40026 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.5936ms
[27-06-2024 09:48:40029 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 09:48:40031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 14.2148ms
[27-06-2024 09:48:40051 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.0776ms
[27-06-2024 09:48:40085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 09:48:40087 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 09:48:40087 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.3882ms
[27-06-2024 09:48:40112 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 09:48:40205 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 92.8536ms
[27-06-2024 09:54:38794 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 09:54:38946 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 09:54:38946 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 09:54:38947 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 09:54:38948 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 09:54:38948 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 09:54:39833 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 09:54:39944 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 114.406ms
[27-06-2024 09:54:39974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 09:54:39974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 09:54:39974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 09:54:39982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.0496ms
[27-06-2024 09:54:39989 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 09:54:39990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 16.411ms
[27-06-2024 09:54:40003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 28.974ms
[27-06-2024 09:54:40030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 09:54:40032 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 09:54:40032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.6246ms
[27-06-2024 09:54:40063 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 09:54:40151 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 88.7983ms
[27-06-2024 09:54:50591 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 09:54:50593 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:54:50639 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:54:50653 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:54:51755 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:54:51881 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:54:51888 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:54:51949 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 09:54:51985 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 09:54:52004 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[27-06-2024 09:54:52004 +03:00 Project_Keystone.Api.Controllers.AuthController ] User "user@example.com" logged in successfully
[27-06-2024 09:54:52008 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:54:52014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1358.8334ms
[27-06-2024 09:54:52015 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:54:52020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1429.7808ms
[27-06-2024 09:55:13316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - "application/json" 78
[27-06-2024 09:55:13318 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:55:13348 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:55:13351 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:55:13411 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 09:55:13534 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:55:13536 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:55:13538 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 09:55:13539 +03:00 Project_Keystone.Core.Services.AuthService ] Password changed successfully for user "user@example.com"
[27-06-2024 09:55:13540 +03:00 Project_Keystone.Api.Controllers.AuthController ] Password changed successfully for user with ID "ef219d01-356f-4045-bd9f-54e2d7b50f5c"
[27-06-2024 09:55:13540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:55:13542 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 189.8462ms
[27-06-2024 09:55:13542 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:55:13543 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - 200 null "application/json; charset=utf-8" 226.8911ms
[27-06-2024 09:55:36894 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Auth/me""" - null null
[27-06-2024 09:55:36897 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 09:55:36900 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:55:36924 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 09:55:36929 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 09:55:36937 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 36.3626ms
[27-06-2024 09:55:36937 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 09:55:36938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Auth/me""" - 200 null "application/json; charset=utf-8" 44.0816ms
[27-06-2024 09:56:56378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - "application/json" 78
[27-06-2024 09:56:56379 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:56:56380 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:56:56381 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:56:56386 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 09:56:56446 +03:00 Project_Keystone.Core.Services.AuthService ] Change password failed for "user@example.com": "Microsoft.AspNetCore.Identity.IdentityError"
[27-06-2024 09:56:56446 +03:00 Project_Keystone.Api.Controllers.AuthController ] Change password failed for user with ID "ef219d01-356f-4045-bd9f-54e2d7b50f5c"
[27-06-2024 09:56:56447 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:56:56447 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 65.7477ms
[27-06-2024 09:56:56447 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:56:56448 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - 400 null "application/json; charset=utf-8" 70.0339ms
[27-06-2024 09:57:20241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - "application/json" 78
[27-06-2024 09:57:20242 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:20243 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:57:20243 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:57:20248 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 09:57:20363 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:57:20365 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:57:20367 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 09:57:20368 +03:00 Project_Keystone.Core.Services.AuthService ] Password changed successfully for user "user@example.com"
[27-06-2024 09:57:20368 +03:00 Project_Keystone.Api.Controllers.AuthController ] Password changed successfully for user with ID "ef219d01-356f-4045-bd9f-54e2d7b50f5c"
[27-06-2024 09:57:20369 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:57:20369 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 125.5424ms
[27-06-2024 09:57:20370 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 09:57:20371 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - 200 null "application/json; charset=utf-8" 129.7582ms
[27-06-2024 09:57:38308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 09:57:38309 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:38310 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 09:57:38313 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 09:57:38363 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[27-06-2024 09:57:38369 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 09:57:38415 +03:00 Project_Keystone.Api.Controllers.ProductController ] Retrieved product details. Page: 1, PageSize: 20
[27-06-2024 09:57:38416 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 09:57:38428 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 113.9971ms
[27-06-2024 09:57:38428 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 09:57:38429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 120.3064ms
[27-06-2024 09:57:38893 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 09:57:38894 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:38895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.9001ms
[27-06-2024 09:57:38896 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 09:57:38897 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:38899 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/27/2024 6:16:11 AM', Current time (UTC): '6/27/2024 6:57:38 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[27-06-2024 09:57:38903 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/27/2024 6:16:11 AM', Current time (UTC): '6/27/2024 6:57:38 AM'."
[27-06-2024 09:57:38904 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[27-06-2024 09:57:38907 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[27-06-2024 09:57:38907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 11.1668ms
[27-06-2024 09:57:40207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 09:57:40208 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:40209 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 09:57:40209 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 09:57:40214 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 09:57:40223 +03:00 Project_Keystone.Api.Controllers.ProductController ] Retrieved product details. Page: 1, PageSize: 20
[27-06-2024 09:57:40223 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 09:57:40226 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 16.0944ms
[27-06-2024 09:57:40227 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 09:57:40227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 20.3229ms
[27-06-2024 09:57:46940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[27-06-2024 09:57:46941 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:46942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.3181ms
[27-06-2024 09:57:46943 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[27-06-2024 09:57:46944 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:46944 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:57:46944 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:57:46948 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:57:47006 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 09:57:47007 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:57:47009 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 09:57:47011 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 09:57:47011 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[27-06-2024 09:57:47012 +03:00 Project_Keystone.Api.Controllers.AuthController ] User "user@example.com" logged in successfully
[27-06-2024 09:57:47012 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 09:57:47013 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 67.7709ms
[27-06-2024 09:57:47013 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:57:47013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 71.0225ms
[27-06-2024 09:57:47019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 09:57:47020 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:47020 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 09:57:47021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 09:57:47026 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 09:57:47032 +03:00 Project_Keystone.Api.Controllers.ProductController ] Retrieved product details. Page: 1, PageSize: 20
[27-06-2024 09:57:47032 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 09:57:47033 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.7452ms
[27-06-2024 09:57:47033 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 09:57:47034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 15.1707ms
[27-06-2024 09:57:48030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 09:57:48031 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:48031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.5547ms
[27-06-2024 09:57:48032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 09:57:48033 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:48034 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 09:57:48034 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:57:48038 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 09:57:48040 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 09:57:48040 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.5777ms
[27-06-2024 09:57:48041 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 09:57:48041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.1997ms
[27-06-2024 09:57:49630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 09:57:49631 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:57:49632 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 09:57:49632 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 09:57:49637 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 09:57:49642 +03:00 Project_Keystone.Api.Controllers.ProductController ] Retrieved product details. Page: 1, PageSize: 20
[27-06-2024 09:57:49642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 09:57:49643 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.6295ms
[27-06-2024 09:57:49644 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 09:57:49644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.062ms
[27-06-2024 09:58:27450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[27-06-2024 09:58:27451 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:58:27452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.4315ms
[27-06-2024 09:58:27452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[27-06-2024 09:58:27454 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:58:27454 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:58:27454 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:58:27458 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:58:27515 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[27-06-2024 09:58:27541 +03:00 Project_Keystone.Core.Services.AuthService ] An error occurred while logging in user "user@example.com"
System.Exception: Login failed. Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 75
[27-06-2024 09:58:27576 +03:00 Project_Keystone.Api.Controllers.AuthController ] An error occurred while logging in user "user@example.com"
System.Exception: Login failed. Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 75
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 62
[27-06-2024 09:58:27577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[27-06-2024 09:58:27577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 122.3109ms
[27-06-2024 09:58:27578 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:58:27578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 500 null "text/plain; charset=utf-8" 125.7136ms
[27-06-2024 09:58:28485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[27-06-2024 09:58:28486 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:58:28487 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:58:28487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:58:28490 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:58:28547 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[27-06-2024 09:58:28560 +03:00 Project_Keystone.Core.Services.AuthService ] An error occurred while logging in user "user@example.com"
System.Exception: Login failed. Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 75
[27-06-2024 09:58:28588 +03:00 Project_Keystone.Api.Controllers.AuthController ] An error occurred while logging in user "user@example.com"
System.Exception: Login failed. Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 75
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 62
[27-06-2024 09:58:28589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[27-06-2024 09:58:28589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 101.8194ms
[27-06-2024 09:58:28590 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:58:28590 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 500 null "text/plain; charset=utf-8" 104.6716ms
[27-06-2024 09:59:20135 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 09:59:20136 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 09:59:20137 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:59:20137 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 09:59:20141 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 09:59:20200 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[27-06-2024 09:59:20212 +03:00 Project_Keystone.Core.Services.AuthService ] An error occurred while logging in user "user@example.com"
System.Exception: Login failed. Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 75
[27-06-2024 09:59:20240 +03:00 Project_Keystone.Api.Controllers.AuthController ] An error occurred while logging in user "user@example.com"
System.Exception: Login failed. Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 75
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 62
[27-06-2024 09:59:20241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[27-06-2024 09:59:20241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 103.4421ms
[27-06-2024 09:59:20242 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 09:59:20242 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 500 null "text/plain; charset=utf-8" 106.6972ms
[27-06-2024 10:31:15616 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 10:31:15749 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 10:31:15749 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 10:31:15751 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 10:31:15751 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 10:31:15751 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 10:31:16938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 10:31:17071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 138.1986ms
[27-06-2024 10:31:17095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 10:31:17095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 10:31:17095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 10:31:17109 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 13.876ms
[27-06-2024 10:31:17115 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 10:31:17116 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 21.0759ms
[27-06-2024 10:31:17133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 37.8565ms
[27-06-2024 10:31:17166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 10:31:17169 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 10:31:17169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.3728ms
[27-06-2024 10:31:17207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 10:31:17308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 100.5419ms
[27-06-2024 10:31:25626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 10:31:25629 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:31:25678 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:31:25691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:31:26841 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:31:26985 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 10:31:27004 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[27-06-2024 10:31:27008 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:31:27014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1320.326ms
[27-06-2024 10:31:27015 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:31:27020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1393.9636ms
[27-06-2024 10:31:33852 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 10:31:33854 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:31:33856 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:31:33856 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:31:33898 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:31:33956 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[27-06-2024 10:31:33998 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 141.1562ms
[27-06-2024 10:31:33999 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:31:34001 +03:00 Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware ] An unhandled exception has occurred while executing the request.
Project_Keystone.Api.Exceptions.InvalidCredentialsException: Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 66
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[27-06-2024 10:31:34016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 500 null "text/plain; charset=utf-8" 163.8315ms
[27-06-2024 10:33:47639 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 10:33:47774 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 10:33:47775 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 10:33:47776 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 10:33:47777 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 10:33:47777 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 10:33:48937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 10:33:49047 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 112.9777ms
[27-06-2024 10:33:49075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 10:33:49075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 10:33:49076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 10:33:49085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 9.9645ms
[27-06-2024 10:33:49092 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 10:33:49093 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 17.1304ms
[27-06-2024 10:33:49109 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 33.6239ms
[27-06-2024 10:33:49146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 10:33:49148 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 10:33:49149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.1784ms
[27-06-2024 10:33:49188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 10:33:49286 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 98.6748ms
[27-06-2024 10:34:01982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 10:34:01985 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:34:02080 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:34:02094 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:34:03251 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:34:03368 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[27-06-2024 10:34:03415 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1318.096ms
[27-06-2024 10:34:03416 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:34:03460 +03:00 Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware ] An unhandled exception occurred
Project_Keystone.Api.Exceptions.InvalidCredentialsException: Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 66
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Middleware\GlobalExceptionHandlerMiddleware.cs:line 22
[27-06-2024 10:34:03479 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 401 null "application/json" 1496.9156ms
[27-06-2024 10:34:21946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 10:34:21947 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:34:21949 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:34:21950 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:34:21995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:34:22079 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 10:34:22097 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[27-06-2024 10:34:22100 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:34:22103 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 152.8824ms
[27-06-2024 10:34:22104 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:34:22104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 158.8853ms
[27-06-2024 10:34:29754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Auth/me""" - null null
[27-06-2024 10:34:29760 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[27-06-2024 10:34:29763 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[27-06-2024 10:34:29763 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Auth/me""" - 401 0 null 9.1632ms
[27-06-2024 10:34:35773 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Auth/me""" - null null
[27-06-2024 10:34:35803 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:34:35806 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:34:35844 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:34:35851 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 10:34:35858 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 51.7916ms
[27-06-2024 10:34:35858 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:34:35859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Auth/me""" - 200 null "application/json; charset=utf-8" 86.1347ms
[27-06-2024 10:34:50571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/update""" - "application/json" 88
[27-06-2024 10:34:50572 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:34:50574 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[27-06-2024 10:34:50576 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:34:50584 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:34:50597 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 10:34:50603 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:34:50665 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 10:34:50673 +03:00 Project_Keystone.Core.Services.AuthService ] User with email "user@example.com" updated successfully
[27-06-2024 10:34:50674 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 10:34:50676 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:34:50677 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 99.7475ms
[27-06-2024 10:34:50677 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[27-06-2024 10:34:50678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/update""" - 200 null "application/json; charset=utf-8" 107.1174ms
[27-06-2024 10:35:19950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - "application/json" 79
[27-06-2024 10:35:19951 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:35:19951 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 10:35:19954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:35:19961 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:35:20083 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 10:35:20085 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:35:20087 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[27-06-2024 10:35:20089 +03:00 Project_Keystone.Core.Services.AuthService ] Password changed successfully for user "user@example.com"
[27-06-2024 10:35:20089 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:35:20090 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 135.8325ms
[27-06-2024 10:35:20091 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[27-06-2024 10:35:20091 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/change-password""" - 200 null "application/json; charset=utf-8" 141.6703ms
[27-06-2024 10:37:34024 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 10:37:34173 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 10:37:34174 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 10:37:34175 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 10:37:34176 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 10:37:34176 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 10:37:35403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 10:37:35520 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 120.3527ms
[27-06-2024 10:37:35546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 10:37:35546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 10:37:35546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 10:37:35554 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.2532ms
[27-06-2024 10:37:35561 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 10:37:35562 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 16.0414ms
[27-06-2024 10:37:35577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.5939ms
[27-06-2024 10:37:35603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 10:37:35606 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 10:37:35606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.8866ms
[27-06-2024 10:37:35638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 10:37:35732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 94.4046ms
[27-06-2024 10:44:01277 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 10:44:01422 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 10:44:01424 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 10:44:01425 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 10:44:01426 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 10:44:01426 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 10:44:02201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 10:44:02321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 123.7847ms
[27-06-2024 10:44:02344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 10:44:02344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 10:44:02344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 10:44:02348 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 4.8174ms
[27-06-2024 10:44:02358 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 10:44:02359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.6357ms
[27-06-2024 10:44:02374 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.2045ms
[27-06-2024 10:44:02414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 10:44:02417 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 10:44:02417 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.3797ms
[27-06-2024 10:44:02452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 10:44:02553 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 100.7452ms
[27-06-2024 10:44:13604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 10:44:13607 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:44:13657 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:44:13671 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:44:14861 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:44:14974 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[27-06-2024 10:44:15022 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1348.2883ms
[27-06-2024 10:44:15023 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:44:15069 +03:00 Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware ] An unhandled exception occurred
Project_Keystone.Api.Exceptions.AuthExceptions.InvalidCredentialsException: Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 61
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
[27-06-2024 10:44:15087 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 401 null "application/json" 1483.0011ms
[27-06-2024 10:44:27109 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[27-06-2024 10:44:27110 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:44:27112 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:44:27113 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:44:27159 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:44:27216 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[27-06-2024 10:44:27250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 136.2444ms
[27-06-2024 10:44:27251 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:44:27286 +03:00 Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware ] An unhandled exception occurred
Project_Keystone.Api.Exceptions.AuthExceptions.InvalidCredentialsException: Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 61
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
[27-06-2024 10:44:27288 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 401 null "application/json" 179.5349ms
[27-06-2024 10:44:47813 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 69
[27-06-2024 10:44:47814 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:44:47816 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:44:47816 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:44:47839 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:44:47928 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 10:44:47949 +03:00 Project_Keystone.Core.Services.AuthService ] User "admin@example.com" logged in successfully.
[27-06-2024 10:44:47952 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:44:47956 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 139.0164ms
[27-06-2024 10:44:47956 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:44:47957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 143.9082ms
[27-06-2024 10:45:01753 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Auth/me""" - null null
[27-06-2024 10:45:01786 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:45:01788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:45:01811 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:45:01818 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 10:45:01825 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 36.2458ms
[27-06-2024 10:45:01826 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:45:01826 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Auth/me""" - 200 null "application/json; charset=utf-8" 74.0083ms
[27-06-2024 10:45:27787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Product""" - "multipart/form-data; boundary=---------------------------327762898339233120833562221171" 1045
[27-06-2024 10:45:27789 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:45:27791 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.CreateProduct (Project-Keystone)"'
[27-06-2024 10:45:27796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateProduct\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]] CreateProduct(Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductCreateDTO)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:45:27817 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[27-06-2024 10:45:27826 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.CreateProduct (Project-Keystone)" in 29.7333ms
[27-06-2024 10:45:27830 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.CreateProduct (Project-Keystone)"'
[27-06-2024 10:45:27831 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Product""" - 400 null "application/problem+json; charset=utf-8" 44.5709ms
[27-06-2024 10:45:32860 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Product""" - "multipart/form-data; boundary=---------------------------21408021585006106581036621187" 1037
[27-06-2024 10:45:32860 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:45:32862 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.CreateProduct (Project-Keystone)"'
[27-06-2024 10:45:32862 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateProduct\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]] CreateProduct(Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductCreateDTO)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:45:32992 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 255), @p3='?' (Size = 100), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PRODUCTS] ([CREATED_AT], [DESCRIPTION], [IMAGE_URL], [NAME], [PRICE], [UPDATED_AT])
OUTPUT INSERTED.[PRODUCT_ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[27-06-2024 10:45:33012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PRODUCT_CATEGORIES] ([CategoryId], [ProductId])
VALUES (@p6, @p7);
INSERT INTO [PRODUCT_GENRES] ([GenreId], [ProductId])
VALUES (@p8, @p9);"
[27-06-2024 10:45:33063 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[27-06-2024 10:45:33072 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    WHERE [p].[PRODUCT_ID] = @__productId_0
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:45:33086 +03:00 Project_Keystone.Api.Controllers.ProductController ] Product created successfully.
[27-06-2024 10:45:33088 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO"'.
[27-06-2024 10:45:33105 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.CreateProduct (Project-Keystone)" in 242.1654ms
[27-06-2024 10:45:33105 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.CreateProduct (Project-Keystone)"'
[27-06-2024 10:45:33106 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Product""" - 201 null "application/json; charset=utf-8" 246.3159ms
[27-06-2024 10:46:06242 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:46:06243 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:06244 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:06247 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:46:06265 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[27-06-2024 10:46:06270 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:46:06285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:46:06291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 43.6141ms
[27-06-2024 10:46:06291 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:06292 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 49.5774ms
[27-06-2024 10:46:07535 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - null null
[27-06-2024 10:46:07536 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:07537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:07537 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:46:07542 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:46:07548 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:46:07550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.4937ms
[27-06-2024 10:46:07551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:07551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - 200 null "application/json; charset=utf-8" 16.5891ms
[27-06-2024 10:46:08132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:46:08133 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:08133 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:08134 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:46:08139 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:46:08145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:46:08146 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.2861ms
[27-06-2024 10:46:08146 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:08147 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.6709ms
[27-06-2024 10:46:09109 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - null null
[27-06-2024 10:46:09110 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:09111 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:09111 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:46:09116 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:46:09120 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:46:09121 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 9.4402ms
[27-06-2024 10:46:09122 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:09122 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - 200 null "application/json; charset=utf-8" 12.9081ms
[27-06-2024 10:46:11572 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:46:11573 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:11573 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:11574 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:46:11578 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:46:11583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:46:11584 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 9.8613ms
[27-06-2024 10:46:11585 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:11585 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.5673ms
[27-06-2024 10:46:12486 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - null null
[27-06-2024 10:46:12487 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:12487 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:12488 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:46:12492 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:46:12497 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:46:12498 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 9.1891ms
[27-06-2024 10:46:12498 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:12499 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - 200 null "application/json; charset=utf-8" 12.5698ms
[27-06-2024 10:46:15516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:46:15517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:15517 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:15518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:46:15522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:46:15527 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:46:15528 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 9.8787ms
[27-06-2024 10:46:15529 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:46:15529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.3545ms
[27-06-2024 10:46:17002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - null null
[27-06-2024 10:46:17003 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:17004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - 204 null null 1.6645ms
[27-06-2024 10:46:17004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - "application/json" 2
[27-06-2024 10:46:17005 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:17006 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[27-06-2024 10:46:17009 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[27-06-2024 10:46:17009 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - 401 0 null 5.0919ms
[27-06-2024 10:46:25047 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[27-06-2024 10:46:25048 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:25048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.4327ms
[27-06-2024 10:46:25049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[27-06-2024 10:46:25050 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:25051 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:46:25051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:46:25054 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:46:25111 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[27-06-2024 10:46:25145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 93.7735ms
[27-06-2024 10:46:25146 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:46:25180 +03:00 Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware ] An unhandled exception occurred
Project_Keystone.Api.Exceptions.AuthExceptions.InvalidCredentialsException: Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 61
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
[27-06-2024 10:46:25183 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 401 null "application/json" 133.7975ms
[27-06-2024 10:46:32622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[27-06-2024 10:46:32623 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:32624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.295ms
[27-06-2024 10:46:32624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[27-06-2024 10:46:32625 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:46:32626 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:46:32626 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:46:32629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:46:32686 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[27-06-2024 10:46:32716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 89.2671ms
[27-06-2024 10:46:32717 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:46:32749 +03:00 Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware ] An unhandled exception occurred
Project_Keystone.Api.Exceptions.AuthExceptions.InvalidCredentialsException: Invalid email or password.
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 61
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Middleware\GlobalExceptionHandlerMiddleware.cs:line 23
[27-06-2024 10:46:32751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 401 null "application/json" 126.9862ms
[27-06-2024 10:47:33827 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/register""" - null null
[27-06-2024 10:47:33830 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:47:33830 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/register""" - 204 null null 3.8429ms
[27-06-2024 10:47:33831 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/register""" - "application/json" 123
[27-06-2024 10:47:33832 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:47:33833 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Register (Project-Keystone)"'
[27-06-2024 10:47:33835 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Register\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Project_Keystone.Api.Models.DTOs.UserDTOs.UserRegisterDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:47:33842 +03:00 Project_Keystone.Core.Services.AuthService ] Attempting to create user: User ID: 7d3f2b5d-8341-4cd7-b446-5e22b3579650, UserName: alex.santexis@gmail.com
[27-06-2024 10:47:33913 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 10:47:33919 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:47:33937 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 512), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USERS] ([Id], [CONCURRENCY_STAMP], [CREATED_AT], [EMAIL], [FIRSTNAME], [LASTNAME], [NormalizedEmail], [NORMALIZED_USER_NAME], [PASSWORD_HASH], [RefreshToken], [RefreshTokenExpiryTime], [UPDATED_AT], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
[27-06-2024 10:47:33944 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [ROLES] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0"
[27-06-2024 10:47:33956 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [USER_ROLES] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1"
[27-06-2024 10:47:33958 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [ROLES] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0"
[27-06-2024 10:47:33964 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[27-06-2024 10:47:33966 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:47:33976 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p14='?' (Size = 450), @p15='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;
INSERT INTO [USER_ROLES] ([RoleId], [UserId])
VALUES (@p14, @p15);"
[27-06-2024 10:47:33978 +03:00 Project_Keystone.Core.Services.AuthService ] User "alex.santexis@gmail.com" registered successfully.
[27-06-2024 10:47:33979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:47:33979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Register (Project-Keystone)" in 143.717ms
[27-06-2024 10:47:33980 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Register (Project-Keystone)"'
[27-06-2024 10:47:33980 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/register""" - 200 null "application/json; charset=utf-8" 149.0184ms
[27-06-2024 10:47:42067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[27-06-2024 10:47:42068 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:47:42069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.6386ms
[27-06-2024 10:47:42070 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 64
[27-06-2024 10:47:42071 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:47:42071 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:47:42071 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:47:42075 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:47:42133 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 10:47:42134 +03:00 Project_Keystone.Core.Services.AuthService ] User "alex.santexis@gmail.com" logged in successfully.
[27-06-2024 10:47:42134 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:47:42134 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 62.4966ms
[27-06-2024 10:47:42135 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:47:42135 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 65.7254ms
[27-06-2024 10:47:42144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:47:42145 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:47:42145 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:47:42145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:47:42150 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:47:42155 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:47:42156 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.2284ms
[27-06-2024 10:47:42157 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:47:42157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.6882ms
[27-06-2024 10:47:43069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:47:43070 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:47:43070 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.4114ms
[27-06-2024 10:47:43071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:47:43072 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:47:43073 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:47:43073 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:47:43077 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:47:43079 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 10:47:43079 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.3996ms
[27-06-2024 10:47:43080 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:47:43080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.9849ms
[27-06-2024 10:47:45220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:47:45221 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:47:45221 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:47:45222 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:47:45227 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:47:45233 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:47:45234 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.42ms
[27-06-2024 10:47:45234 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:47:45235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 15.3075ms
[27-06-2024 10:55:58957 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 10:55:59092 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 10:55:59092 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 10:55:59094 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 10:55:59094 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 10:55:59094 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 10:55:59814 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 10:55:59924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 112.3324ms
[27-06-2024 10:55:59945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 10:55:59945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 10:55:59945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 10:55:59957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 11.9249ms
[27-06-2024 10:55:59963 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 10:55:59964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 19.2733ms
[27-06-2024 10:55:59978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 33.6955ms
[27-06-2024 10:56:00002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 10:56:00004 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 10:56:00004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.4505ms
[27-06-2024 10:56:00034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 10:56:00127 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 93.702ms
[27-06-2024 10:56:46654 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[27-06-2024 10:56:46790 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[27-06-2024 10:56:46790 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[27-06-2024 10:56:46791 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[27-06-2024 10:56:46792 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[27-06-2024 10:56:46792 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[27-06-2024 10:56:47533 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[27-06-2024 10:56:47648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 118.2743ms
[27-06-2024 10:56:47671 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[27-06-2024 10:56:47671 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[27-06-2024 10:56:47671 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[27-06-2024 10:56:47686 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 15.6404ms
[27-06-2024 10:56:47689 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[27-06-2024 10:56:47689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 18.7303ms
[27-06-2024 10:56:47704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 33.312ms
[27-06-2024 10:56:47734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[27-06-2024 10:56:47736 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[27-06-2024 10:56:47737 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.8586ms
[27-06-2024 10:56:47768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[27-06-2024 10:56:47866 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 97.8274ms
[27-06-2024 10:57:07025 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 73
[27-06-2024 10:57:07027 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:57:07077 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:57:07090 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:57:08276 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:57:08427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 10:57:08445 +03:00 Project_Keystone.Core.Services.AuthService ] User "alex.santexis@gmail.com" logged in successfully.
[27-06-2024 10:57:08450 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:57:08456 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1363.2092ms
[27-06-2024 10:57:08457 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:57:08462 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1437.3327ms
[27-06-2024 10:57:31414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Wishlist""" - null null
[27-06-2024 10:57:31448 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:57:31451 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:57:31509 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:57:31556 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:57:31599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 147.6685ms
[27-06-2024 10:57:31600 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:57:31639 +03:00 Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware ] An unhandled exception occurred
Project_Keystone.Api.Exceptions.WishlistExceptions.WishlistNotFoundException: Wishlist not found for user with ID 7d3f2b5d-8341-4cd7-b446-5e22b3579650.
   at Project_Keystone.Core.Services.WishlistService.GetWishlistItemsAsync(String userId) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\WishlistService.cs:line 141
   at Project_Keystone.Api.Controllers.WishlistController.GetWishlist() in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\WishlistController.cs:line 40
   at lambda_method235(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Middleware\GlobalExceptionHandlerMiddleware.cs:line 24
[27-06-2024 10:57:31654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Wishlist""" - 404 null "application/json" 240.7551ms
[27-06-2024 10:58:00366 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:00368 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:00369 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.2677ms
[27-06-2024 10:58:00370 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:00371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:00374 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:00376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:58:00391 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:58:00396 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 10:58:00403 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 25.9063ms
[27-06-2024 10:58:00403 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:00404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 34.0506ms
[27-06-2024 10:58:04373 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:58:04374 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:04375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.4563ms
[27-06-2024 10:58:04376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:58:04377 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:04378 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:58:04378 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:58:04383 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:58:04385 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:58:04414 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 35.2128ms
[27-06-2024 10:58:04415 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:58:04445 +03:00 Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware ] An unhandled exception occurred
Project_Keystone.Api.Exceptions.WishlistExceptions.WishlistNotFoundException: Wishlist not found for user with ID 7d3f2b5d-8341-4cd7-b446-5e22b3579650.
   at Project_Keystone.Core.Services.WishlistService.GetWishlistItemsAsync(String userId) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\WishlistService.cs:line 141
   at Project_Keystone.Api.Controllers.WishlistController.GetWishlist() in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\WishlistController.cs:line 40
   at lambda_method235(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Middleware\GlobalExceptionHandlerMiddleware.cs:line 24
[27-06-2024 10:58:04447 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 404 null "application/json" 71.6554ms
[27-06-2024 10:58:12495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:12496 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:12496 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.6125ms
[27-06-2024 10:58:12497 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:12498 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:12499 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:12499 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:58:12514 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:58:12516 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 10:58:12517 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 16.7386ms
[27-06-2024 10:58:12517 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:12518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 20.6286ms
[27-06-2024 10:58:14663 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:58:14664 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:14664 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:58:14668 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:58:14690 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[27-06-2024 10:58:14702 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:58:14755 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:58:14766 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 97.9106ms
[27-06-2024 10:58:14767 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:58:14767 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 104.7089ms
[27-06-2024 10:58:21559 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[27-06-2024 10:58:21559 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:21560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.3259ms
[27-06-2024 10:58:21561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 64
[27-06-2024 10:58:21562 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:21562 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:58:21562 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:58:21567 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[27-06-2024 10:58:21626 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[27-06-2024 10:58:21627 +03:00 Project_Keystone.Core.Services.AuthService ] User "alex.santexis@gmail.com" logged in successfully.
[27-06-2024 10:58:21627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:58:21628 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 64.8352ms
[27-06-2024 10:58:21628 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[27-06-2024 10:58:21629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 68.3209ms
[27-06-2024 10:58:21635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:58:21636 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:21637 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:58:21637 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:58:21647 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:58:21654 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:58:21657 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 19.2208ms
[27-06-2024 10:58:21657 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:58:21658 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 23.2555ms
[27-06-2024 10:58:22807 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:22808 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:22808 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.5943ms
[27-06-2024 10:58:22809 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:22810 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:22811 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:22811 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:58:22815 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:58:22816 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 10:58:22817 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.5728ms
[27-06-2024 10:58:22817 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:22818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.9374ms
[27-06-2024 10:58:23897 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:58:23898 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:23899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.5732ms
[27-06-2024 10:58:23900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:58:23902 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:23903 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:58:23903 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:58:23907 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:58:23911 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:58:23942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 38.5514ms
[27-06-2024 10:58:23943 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:58:23974 +03:00 Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware ] An unhandled exception occurred
Project_Keystone.Api.Exceptions.WishlistExceptions.WishlistNotFoundException: Wishlist not found for user with ID 7d3f2b5d-8341-4cd7-b446-5e22b3579650.
   at Project_Keystone.Core.Services.WishlistService.GetWishlistItemsAsync(String userId) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\WishlistService.cs:line 141
   at Project_Keystone.Api.Controllers.WishlistController.GetWishlist() in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\WishlistController.cs:line 40
   at lambda_method235(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Middleware\GlobalExceptionHandlerMiddleware.cs:line 24
[27-06-2024 10:58:23976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 404 null "application/json" 76.584ms
[27-06-2024 10:58:24874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:58:24875 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:24876 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:58:24876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:58:24882 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:58:24890 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:58:24891 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 13.9397ms
[27-06-2024 10:58:24891 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:58:24892 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.6807ms
[27-06-2024 10:58:28104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - null null
[27-06-2024 10:58:28104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:28105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - 204 null null 1.3545ms
[27-06-2024 10:58:28105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - "application/json" 2
[27-06-2024 10:58:28107 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:28107 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:58:28109 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:58:28114 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:58:28190 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLISTS] ([CREATED_AT], [UPDATED_AT], [USER_ID])
OUTPUT INSERTED.[WISHLIST_ID]
VALUES (@p0, @p1, @p2);"
[27-06-2024 10:58:28215 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[27-06-2024 10:58:28216 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 37 to wishlist for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:58:28217 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:58:28218 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 108.1211ms
[27-06-2024 10:58:28219 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:58:28219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - 200 null "application/json; charset=utf-8" 113.7507ms
[27-06-2024 10:58:29433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:29434 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:29434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.3344ms
[27-06-2024 10:58:29435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:29437 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:29437 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:29437 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:58:29441 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:58:29443 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 10:58:29443 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.2811ms
[27-06-2024 10:58:29444 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:29444 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.8102ms
[27-06-2024 10:58:30583 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:58:30583 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:30584 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.4623ms
[27-06-2024 10:58:30585 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:58:30586 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:30586 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:58:30587 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:58:30590 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:58:30594 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:58:30600 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 1 wishlist items for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:58:30601 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[27-06-2024 10:58:30603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 15.3502ms
[27-06-2024 10:58:30603 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:58:30603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 18.652ms
[27-06-2024 10:58:44571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:58:44572 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:44572 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:58:44573 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:58:44578 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:58:44583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:58:44585 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.1933ms
[27-06-2024 10:58:44585 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:58:44586 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 15.4437ms
[27-06-2024 10:58:46119 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - null null
[27-06-2024 10:58:46120 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:46120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - 204 null null 1.2982ms
[27-06-2024 10:58:46121 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - "application/json" 2
[27-06-2024 10:58:46122 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:46123 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:58:46123 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:58:46127 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:58:46161 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 36.8634ms
[27-06-2024 10:58:46161 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:58:46194 +03:00 Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware ] An unhandled exception occurred
Project_Keystone.Api.Exceptions.WishlistExceptions.WishlistItemAlreadyExistsException: Product with ID 37 already exists in the wishlist.
   at Project_Keystone.Core.Services.WishlistService.AddToWishlistAsync(String userId, Int32 productId) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\WishlistService.cs:line 76
   at Project_Keystone.Api.Controllers.WishlistController.AddToWishlist(Int32 productId) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\WishlistController.cs:line 54
   at lambda_method463(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project_Keystone.Api.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Middleware\GlobalExceptionHandlerMiddleware.cs:line 24
[27-06-2024 10:58:46196 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - 400 null "application/json" 75.0774ms
[27-06-2024 10:58:47435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/25""" - null null
[27-06-2024 10:58:47436 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:47436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/25""" - 204 null null 1.2087ms
[27-06-2024 10:58:47436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/25""" - "application/json" 2
[27-06-2024 10:58:47438 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:47438 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:58:47438 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:58:47442 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:58:47451 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[27-06-2024 10:58:47452 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 25 to wishlist for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:58:47452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:58:47452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 13.4701ms
[27-06-2024 10:58:47453 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:58:47453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/25""" - 200 null "application/json; charset=utf-8" 16.9459ms
[27-06-2024 10:58:58491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:58491 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:58492 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.472ms
[27-06-2024 10:58:58493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[27-06-2024 10:58:58494 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:58:58494 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:58495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[27-06-2024 10:58:58498 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:58:58500 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[27-06-2024 10:58:58501 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.4217ms
[27-06-2024 10:58:58501 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[27-06-2024 10:58:58502 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.1887ms
[27-06-2024 10:59:00159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:59:00161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:00161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.6179ms
[27-06-2024 10:59:00162 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:59:00163 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:00163 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:00164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:00167 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:00169 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:00171 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:00172 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[27-06-2024 10:59:00172 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 8.0265ms
[27-06-2024 10:59:00173 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:00173 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 11.6174ms
[27-06-2024 10:59:03668 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/25""" - null null
[27-06-2024 10:59:03669 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:03669 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/25""" - 204 null null 1.2738ms
[27-06-2024 10:59:03670 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/25""" - null null
[27-06-2024 10:59:03671 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:03671 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[27-06-2024 10:59:03674 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:03678 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:03680 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:03687 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[27-06-2024 10:59:03697 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[27-06-2024 10:59:03701 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 25 from wishlist for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:03701 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:59:03702 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 27.1527ms
[27-06-2024 10:59:03702 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[27-06-2024 10:59:03702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/25""" - 200 null "application/json; charset=utf-8" 32.9077ms
[27-06-2024 10:59:03704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:59:03705 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:03705 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:03706 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:03709 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:03711 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:03713 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 1 wishlist items for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:03714 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[27-06-2024 10:59:03714 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 7.9353ms
[27-06-2024 10:59:03714 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:03715 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 11.0819ms
[27-06-2024 10:59:07031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/37""" - null null
[27-06-2024 10:59:07032 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:07033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/37""" - 204 null null 1.2935ms
[27-06-2024 10:59:07033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/37""" - null null
[27-06-2024 10:59:07034 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:07035 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[27-06-2024 10:59:07035 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:07039 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:07041 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:07042 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[27-06-2024 10:59:07044 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[27-06-2024 10:59:07044 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 37 from wishlist for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:07045 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:59:07045 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 9.4104ms
[27-06-2024 10:59:07046 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[27-06-2024 10:59:07046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/37""" - 200 null "application/json; charset=utf-8" 13.1445ms
[27-06-2024 10:59:07048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:59:07048 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:07049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.1361ms
[27-06-2024 10:59:07049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:59:07051 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:07051 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:07051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:07054 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:07056 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:07059 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:07059 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[27-06-2024 10:59:07059 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 7.551ms
[27-06-2024 10:59:07060 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:07060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 10.9813ms
[27-06-2024 10:59:08601 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:59:08602 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:08602 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:59:08603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:59:08608 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:59:08613 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:59:08614 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.7329ms
[27-06-2024 10:59:08615 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:59:08615 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.8269ms
[27-06-2024 10:59:09849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/29""" - null null
[27-06-2024 10:59:09850 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:09850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/29""" - 204 null null 1.286ms
[27-06-2024 10:59:09851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/29""" - "application/json" 2
[27-06-2024 10:59:09852 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:09852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:59:09853 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:09856 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:09858 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[27-06-2024 10:59:09859 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 29 to wishlist for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:09859 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:59:09860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 6.5569ms
[27-06-2024 10:59:09860 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:59:09861 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/29""" - 200 null "application/json; charset=utf-8" 9.9082ms
[27-06-2024 10:59:10901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/15""" - null null
[27-06-2024 10:59:10902 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:10902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/15""" - 204 null null 1.2763ms
[27-06-2024 10:59:10903 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/15""" - "application/json" 2
[27-06-2024 10:59:10904 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:10904 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:59:10905 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:10908 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:10910 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[27-06-2024 10:59:10911 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 15 to wishlist for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:10911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:59:10912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 6.5615ms
[27-06-2024 10:59:10912 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[27-06-2024 10:59:10912 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/15""" - 200 null "application/json; charset=utf-8" 10.0051ms
[27-06-2024 10:59:11973 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:59:11974 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:11975 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:11975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:11978 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:11980 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:11982 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:11983 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[27-06-2024 10:59:11983 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 7.7745ms
[27-06-2024 10:59:11984 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:11984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 11.2859ms
[27-06-2024 10:59:13329 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/15""" - null null
[27-06-2024 10:59:13330 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:13331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/15""" - 204 null null 1.3272ms
[27-06-2024 10:59:13331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/15""" - null null
[27-06-2024 10:59:13332 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:13333 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[27-06-2024 10:59:13333 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:13336 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:13338 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:13339 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[27-06-2024 10:59:13341 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[27-06-2024 10:59:13342 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 15 from wishlist for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:13342 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:59:13342 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 8.8286ms
[27-06-2024 10:59:13343 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[27-06-2024 10:59:13343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/15""" - 200 null "application/json; charset=utf-8" 12.2064ms
[27-06-2024 10:59:13345 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:59:13346 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:13346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.2313ms
[27-06-2024 10:59:13347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:59:13348 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:13349 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:13349 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:13352 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:13354 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:13356 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 1 wishlist items for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:13357 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[27-06-2024 10:59:13357 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 7.846ms
[27-06-2024 10:59:13358 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:13358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 11.4241ms
[27-06-2024 10:59:13828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/29""" - null null
[27-06-2024 10:59:13829 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:13829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/29""" - 204 null null 1.2533ms
[27-06-2024 10:59:13830 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/29""" - null null
[27-06-2024 10:59:13831 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:13832 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[27-06-2024 10:59:13832 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:13835 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:13837 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:13838 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[27-06-2024 10:59:13840 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[27-06-2024 10:59:13841 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 29 from wishlist for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:13841 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[27-06-2024 10:59:13841 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 8.7694ms
[27-06-2024 10:59:13842 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[27-06-2024 10:59:13842 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/29""" - 200 null "application/json; charset=utf-8" 12.2347ms
[27-06-2024 10:59:13844 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[27-06-2024 10:59:13845 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:13845 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:13846 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[27-06-2024 10:59:13849 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[27-06-2024 10:59:13851 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[27-06-2024 10:59:13854 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "7d3f2b5d-8341-4cd7-b446-5e22b3579650"
[27-06-2024 10:59:13854 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[27-06-2024 10:59:13854 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 8.1642ms
[27-06-2024 10:59:13855 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[27-06-2024 10:59:13855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 11.4175ms
[27-06-2024 10:59:14585 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[27-06-2024 10:59:14586 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[27-06-2024 10:59:14587 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:59:14587 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[27-06-2024 10:59:14592 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[27-06-2024 10:59:14598 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[27-06-2024 10:59:14599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.0381ms
[27-06-2024 10:59:14599 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[27-06-2024 10:59:14600 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 15.2802ms
