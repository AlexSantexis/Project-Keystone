[29-06-2024 00:05:07038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:07042 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07042 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.4684ms
[29-06-2024 00:05:07044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:07049 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07050 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 8:54:12 PM', Current time (UTC): '6/28/2024 9:05:07 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:05:07050 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:05:07051 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 8:54:12 PM', Current time (UTC): '6/28/2024 9:05:07 PM'."
[29-06-2024 00:05:07052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07052 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 00:05:07052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:05:07053 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 00:05:07053 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:05:07053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 9.7271ms
[29-06-2024 00:05:07072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 00:05:07072 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:05:07073 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 2.7464ms
[29-06-2024 00:05:07076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 741
[29-06-2024 00:05:07082 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07083 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 8:54:12 PM', Current time (UTC): '6/28/2024 9:05:07 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:05:07086 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 8:54:12 PM', Current time (UTC): '6/28/2024 9:05:07 PM'."
[29-06-2024 00:05:07086 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 00:05:07087 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:05:07088 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:05:07089 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 35.0649ms
[29-06-2024 00:05:07090 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:05:07093 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 42.2693ms
[29-06-2024 00:05:07093 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:05:07097 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 00:05:07101 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 00:05:07103 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:05:07108 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 00:05:07109 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 00:05:07109 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 22.304ms
[29-06-2024 00:05:07110 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 00:05:07111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 34.2323ms
[29-06-2024 00:05:07130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:07131 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:05:07132 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:05:07140 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:05:07143 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:05:07144 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.1983ms
[29-06-2024 00:05:07144 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:05:07145 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.7762ms
[29-06-2024 00:05:08482 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:05:08483 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:08484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3508ms
[29-06-2024 00:05:08485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:05:08484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:05:08486 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:08487 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:08487 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:05:08487 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.9122ms
[29-06-2024 00:05:08488 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:05:08489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:05:08490 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:08491 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:05:08491 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:05:08493 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:05:08521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:05:08522 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 32.3395ms
[29-06-2024 00:05:08522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:05:08523 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:05:08523 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 38.7649ms
[29-06-2024 00:05:08525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:05:08525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 33.3889ms
[29-06-2024 00:05:08526 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:05:08526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 37.6985ms
[29-06-2024 00:05:35854 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:35858 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.4467ms
[29-06-2024 00:05:35859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:35860 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35860 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:05:35861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:05:35864 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:05:35866 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:05:35867 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.5068ms
[29-06-2024 00:05:35867 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:05:35868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.9073ms
[29-06-2024 00:05:35900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:05:35901 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.5279ms
[29-06-2024 00:05:35902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:05:35903 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:05:35909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35909 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 7.4158ms
[29-06-2024 00:05:35910 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:05:35910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:05:35911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:05:35912 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35913 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:05:35913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:05:35915 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:05:35995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:05:35995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:05:35996 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 83.9054ms
[29-06-2024 00:05:36000 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:05:36000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 97.0418ms
[29-06-2024 00:05:36001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:05:36002 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 88.0666ms
[29-06-2024 00:05:36002 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:05:36003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 92.5716ms
[29-06-2024 00:10:20318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:20323 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:20323 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.9194ms
[29-06-2024 00:10:20327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:20329 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:20330 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:20330 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:20339 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:20343 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:20344 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.4963ms
[29-06-2024 00:10:20345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:20345 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.2305ms
[29-06-2024 00:10:31044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:31045 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:31045 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4602ms
[29-06-2024 00:10:31046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:31047 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:31047 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:31047 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:31055 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:31057 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:31058 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.8037ms
[29-06-2024 00:10:31058 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:31059 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.0277ms
[29-06-2024 00:10:34441 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:34441 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:34442 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:34442 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:34446 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:34449 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:34450 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.0378ms
[29-06-2024 00:10:34450 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:34451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.388ms
[29-06-2024 00:10:52179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - null null
[29-06-2024 00:10:52180 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:52181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - 204 null null 1.2363ms
[29-06-2024 00:10:52181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 34
[29-06-2024 00:10:52182 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:52183 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:10:52183 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:52186 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:52188 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 00:10:52190 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:10:52191 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:52193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:52193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 9.973ms
[29-06-2024 00:10:52194 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:10:52194 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 13.049ms
[29-06-2024 00:10:54767 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 34
[29-06-2024 00:10:54768 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:54768 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:10:54769 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:54772 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:54773 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 00:10:54774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:10:54775 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:54777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:54778 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 8.4928ms
[29-06-2024 00:10:54778 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:10:54779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 11.587ms
[29-06-2024 00:11:06791 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:06792 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:06792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2351ms
[29-06-2024 00:11:06793 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:06794 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:06795 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:06795 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:11:06799 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:11:06803 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:11:06804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.2102ms
[29-06-2024 00:11:06805 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:06805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.8485ms
[29-06-2024 00:11:29990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:29994 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:29994 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.0677ms
[29-06-2024 00:11:29995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:29996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:29996 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:29996 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:11:30000 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:11:30003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:11:30003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.0552ms
[29-06-2024 00:11:30004 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:30004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.4996ms
[29-06-2024 00:11:39275 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:39276 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:39276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4436ms
[29-06-2024 00:11:39277 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:39278 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:39279 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:39279 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:11:39289 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:11:39293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:11:39293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.5027ms
[29-06-2024 00:11:39294 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:39294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.2825ms
[29-06-2024 00:12:38071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:12:38076 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:12:38076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.8998ms
[29-06-2024 00:12:38080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:12:38082 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:12:38083 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:12:38083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:12:38093 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:12:38097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:12:38097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.498ms
[29-06-2024 00:12:38098 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:12:38099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.645ms
[29-06-2024 00:12:45158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:12:45158 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:12:45159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1805ms
[29-06-2024 00:12:45159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:12:45161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:12:45161 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:12:45161 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:12:45170 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:12:45173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:12:45173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.2191ms
[29-06-2024 00:12:45174 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:12:45174 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.7785ms
[29-06-2024 00:13:05434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:05438 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:05439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.33ms
[29-06-2024 00:13:05442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:05444 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:05444 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:05445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:05449 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:05453 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:05453 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.7906ms
[29-06-2024 00:13:05454 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:05454 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.334ms
[29-06-2024 00:13:20119 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:20119 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:20120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1688ms
[29-06-2024 00:13:20120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:20122 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:20122 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:20122 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:20126 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:20131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:20131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.6098ms
[29-06-2024 00:13:20132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:20132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.1128ms
[29-06-2024 00:13:29123 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:29124 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:29124 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1784ms
[29-06-2024 00:13:29125 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:29126 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:29126 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:29126 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:29129 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:29132 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:29132 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.6067ms
[29-06-2024 00:13:29133 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:29133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.9149ms
[29-06-2024 00:13:37298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:37299 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:37299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1139ms
[29-06-2024 00:13:37300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:37301 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:37302 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:37302 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:37305 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:37308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:37308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.4873ms
[29-06-2024 00:13:37308 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:37309 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.8134ms
[29-06-2024 00:13:44324 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:44324 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:44325 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3387ms
[29-06-2024 00:13:44326 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:44327 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:44327 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:44328 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:44337 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:44340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:44340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.1849ms
[29-06-2024 00:13:44341 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:44341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 15.4384ms
[29-06-2024 00:13:59039 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:59040 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:59040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.225ms
[29-06-2024 00:13:59041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:59042 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:59042 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:59043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:59049 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:59051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:59052 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.722ms
[29-06-2024 00:13:59052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:59053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.9594ms
[29-06-2024 00:14:03567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:14:03568 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:14:03568 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:14:03568 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:14:03572 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:14:03574 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:14:03575 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.6608ms
[29-06-2024 00:14:03575 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:14:03575 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.6333ms
[29-06-2024 00:14:41318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:14:41321 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:14:41321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.6007ms
[29-06-2024 00:14:41323 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:14:41325 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:14:41326 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:14:41326 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:14:41330 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:14:41332 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:14:41333 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.845ms
[29-06-2024 00:14:41333 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:14:41334 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.5088ms
[29-06-2024 00:17:27972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:27976 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:27976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.3561ms
[29-06-2024 00:17:27979 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:27981 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:27981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:27982 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:17:27990 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:17:27994 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:17:27995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.0794ms
[29-06-2024 00:17:27996 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:27996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.3918ms
[29-06-2024 00:17:36632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:36633 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:36633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2102ms
[29-06-2024 00:17:36634 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:36635 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:36635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:36635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:17:36638 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:17:36641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:17:36641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.5819ms
[29-06-2024 00:17:36642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:36642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.6739ms
[29-06-2024 00:17:54253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:54254 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:54254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1483ms
[29-06-2024 00:17:54255 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:54256 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:54256 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:54256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:17:54260 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:17:54262 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:17:54262 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.5926ms
[29-06-2024 00:17:54263 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:54264 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.9248ms
[29-06-2024 00:18:27246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:27250 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:27250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.3098ms
[29-06-2024 00:18:27253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:27255 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:27255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:18:27256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:18:27263 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:27266 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:18:27266 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.2296ms
[29-06-2024 00:18:27267 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:18:27268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.9359ms
[29-06-2024 00:18:30482 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:30482 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:30483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2083ms
[29-06-2024 00:18:30484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:30485 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:30485 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:18:30488 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:18:30492 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:30495 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:18:30508 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p2;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p3;"
[29-06-2024 00:18:30515 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:30517 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:18:30518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 29.5193ms
[29-06-2024 00:18:30518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:18:30518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 34.9309ms
[29-06-2024 00:18:33528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:18:33529 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:33530 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:18:33530 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:18:33541 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:18:33546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:18:33547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 16.8082ms
[29-06-2024 00:18:33550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:18:33551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 22.843ms
[29-06-2024 00:18:52397 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:52398 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:52398 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3411ms
[29-06-2024 00:18:52399 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:52400 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:52400 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:18:52400 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:18:52403 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:52404 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:18:52405 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:52408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:18:52408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 7.2383ms
[29-06-2024 00:18:52408 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:18:52409 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.2232ms
[29-06-2024 00:18:55433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:18:55434 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:55434 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:18:55434 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:18:55439 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:18:55444 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:18:55445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 9.7349ms
[29-06-2024 00:18:55445 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:18:55446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 12.8933ms
[29-06-2024 00:19:49197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:19:49200 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:19:49203 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:49204 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:49204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 7.0097ms
[29-06-2024 00:19:49204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 4.0419ms
[29-06-2024 00:19:49207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:19:49208 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:19:49212 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:49213 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:49214 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:19:49214 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:19:49214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:19:49214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:19:49218 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:19:49250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:19:49253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 37.8332ms
[29-06-2024 00:19:49253 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:19:49253 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:19:49254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 47.2471ms
[29-06-2024 00:19:49255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:19:49255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 40.2967ms
[29-06-2024 00:19:49256 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:19:49256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 48.7066ms
[29-06-2024 00:19:56444 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:19:56444 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:56445 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.362ms
[29-06-2024 00:19:56446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:19:56447 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:56447 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:19:56447 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:19:56453 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:19:56456 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:19:56457 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.045ms
[29-06-2024 00:19:56457 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:19:56458 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.4337ms
[29-06-2024 00:19:56470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:19:56471 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:56472 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:19:56472 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:19:56485 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:19:56492 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:19:56494 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 21.0415ms
[29-06-2024 00:19:56494 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:19:56495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 24.3824ms
[29-06-2024 00:19:58725 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:19:58725 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:58726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2989ms
[29-06-2024 00:19:58727 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:19:58728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:19:58728 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:58729 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:58729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.512ms
[29-06-2024 00:19:58731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:19:58730 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:19:58732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:58732 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:19:58733 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:19:58734 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:19:58736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:19:58738 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:19:58761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:19:58761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 28.0726ms
[29-06-2024 00:19:58762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:19:58762 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:19:58762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 27.863ms
[29-06-2024 00:19:58762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 34.9164ms
[29-06-2024 00:19:58763 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:19:58764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 33.5699ms
[29-06-2024 00:20:04620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:20:04621 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:04621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:20:04622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:20:04622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4169ms
[29-06-2024 00:20:04622 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:04623 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:04624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.0766ms
[29-06-2024 00:20:04625 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:04625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:20:04626 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:20:04627 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:04628 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:20:04628 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:20:04630 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:20:04654 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:20:04654 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:20:04655 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 27.3501ms
[29-06-2024 00:20:04656 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:04656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:20:04656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 34.1011ms
[29-06-2024 00:20:04657 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 27.9877ms
[29-06-2024 00:20:04658 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:20:04658 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 33.3636ms
[29-06-2024 00:20:05859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:20:05860 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:05860 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:05860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:20:05864 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:20:05887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:20:05888 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 26.9863ms
[29-06-2024 00:20:05888 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:05889 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 30.2449ms
[29-06-2024 00:20:07099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:20:07100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:20:07100 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:07101 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:07101 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:07101 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:20:07102 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:20:07102 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:20:07105 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:20:07106 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:20:07130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:20:07130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 27.4918ms
[29-06-2024 00:20:07131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:20:07131 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:07131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 27.8639ms
[29-06-2024 00:20:07132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 32.393ms
[29-06-2024 00:20:07132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:20:07133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 33.0726ms
[29-06-2024 00:20:14403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:20:14404 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:14404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2899ms
[29-06-2024 00:20:14405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:20:14406 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:14407 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:20:14407 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:20:14410 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:14413 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:20:14414 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.986ms
[29-06-2024 00:20:14414 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:20:14415 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.6428ms
[29-06-2024 00:20:14427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:20:14428 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:14428 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:20:14429 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:20:14434 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:20:14440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:20:14441 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.8786ms
[29-06-2024 00:20:14442 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:20:14442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 15.6202ms
[29-06-2024 00:20:30080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:20:30081 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:30081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.2803ms
[29-06-2024 00:20:30082 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:20:30083 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:30083 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:20:30084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:20:30090 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:30092 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:20:30094 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:20:30096 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:20:30098 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:20:30102 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:30104 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:20:30104 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 19.8362ms
[29-06-2024 00:20:30105 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:20:30105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 23.2114ms
[29-06-2024 00:20:30733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:20:30734 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:30734 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:20:30734 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:20:30737 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:30739 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:20:30741 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:20:30742 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:20:30744 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:20:30745 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:30747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:20:30748 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.9234ms
[29-06-2024 00:20:30748 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:20:30749 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.9473ms
[29-06-2024 00:20:36622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:20:36623 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:36623 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4218ms
[29-06-2024 00:20:36624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:20:36625 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:36625 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:20:36626 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:20:36629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:36630 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:20:36633 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:20:36634 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:36636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:20:36637 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 10.606ms
[29-06-2024 00:20:36637 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:20:36638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.8179ms
[29-06-2024 00:20:39661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:20:39662 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:39662 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:20:39662 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:20:39672 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:20:39677 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:20:39677 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.5186ms
[29-06-2024 00:20:39678 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:20:39678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.6678ms
[29-06-2024 00:24:00358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:24:00362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:00362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 3.9212ms
[29-06-2024 00:24:00364 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:24:00366 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:00367 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:24:00367 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:24:00373 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:00375 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:24:00377 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:24:00378 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:24:00380 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:24:00384 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:00386 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:24:00387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 19.1759ms
[29-06-2024 00:24:00387 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:24:00387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 24.5176ms
[29-06-2024 00:24:00787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:24:00788 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:00788 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:24:00788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:24:00791 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:00793 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:24:00795 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:24:00796 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:24:00797 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:24:00799 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:00801 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:24:00801 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.3823ms
[29-06-2024 00:24:00802 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:24:00802 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.4378ms
[29-06-2024 00:24:09103 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:24:09104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:09104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2547ms
[29-06-2024 00:24:09105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:24:09106 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:09106 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:24:09106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:24:09109 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:09110 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:24:09112 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:24:09114 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:09116 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:24:09116 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 9.4546ms
[29-06-2024 00:24:09117 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:24:09117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.371ms
[29-06-2024 00:24:12142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:24:12143 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:12143 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:24:12144 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:24:12154 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:24:12159 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:24:12159 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.7875ms
[29-06-2024 00:24:12160 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:24:12160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 18.3612ms
[29-06-2024 00:24:23547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:24:23548 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:23548 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2508ms
[29-06-2024 00:24:23549 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:24:23550 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:23551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:24:23551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:24:23555 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:23558 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:24:23558 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.311ms
[29-06-2024 00:24:23559 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:24:23559 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0926ms
[29-06-2024 00:26:04848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:04853 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04853 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.2695ms
[29-06-2024 00:26:04857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:04859 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04860 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 9:20:07 PM', Current time (UTC): '6/28/2024 9:26:04 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:26:04861 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 9:20:07 PM', Current time (UTC): '6/28/2024 9:26:04 PM'."
[29-06-2024 00:26:04862 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 00:26:04863 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 00:26:04863 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 5.7929ms
[29-06-2024 00:26:04921 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 00:26:04922 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04923 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.2987ms
[29-06-2024 00:26:04923 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 741
[29-06-2024 00:26:04925 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04925 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 9:20:07 PM', Current time (UTC): '6/28/2024 9:26:04 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:26:04927 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 9:20:07 PM', Current time (UTC): '6/28/2024 9:26:04 PM'."
[29-06-2024 00:26:04927 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 00:26:04927 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:26:04936 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:26:04940 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 00:26:04943 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 00:26:04944 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:26:04949 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 00:26:04950 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 00:26:04951 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 22.195ms
[29-06-2024 00:26:04951 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 00:26:04952 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 28.2551ms
[29-06-2024 00:26:04955 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:04956 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04956 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:04956 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:04963 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:04966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:04966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.0189ms
[29-06-2024 00:26:04967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:04967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.3401ms
[29-06-2024 00:26:07508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:26:07508 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:07509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2327ms
[29-06-2024 00:26:07509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:26:07510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:26:07514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:07514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:07515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.9682ms
[29-06-2024 00:26:07515 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:26:07516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:26:07517 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:26:07517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:07518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:26:07519 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:26:07522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:26:07538 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:26:07550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:26:07551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 33.0045ms
[29-06-2024 00:26:07551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:26:07551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:26:07552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 32.5505ms
[29-06-2024 00:26:07552 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 42.5256ms
[29-06-2024 00:26:07553 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:26:07554 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 38.1448ms
[29-06-2024 00:26:09544 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:09545 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:09546 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:09546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:09550 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:09553 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:09554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.6556ms
[29-06-2024 00:26:09554 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:09554 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0672ms
[29-06-2024 00:26:09571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:26:09572 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:09572 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:09573 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:26:09586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:26:09595 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:26:09597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 23.6711ms
[29-06-2024 00:26:09597 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:09598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 27.2001ms
[29-06-2024 00:26:11001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:26:11002 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:11003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.4202ms
[29-06-2024 00:26:11003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:26:11004 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:11005 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:26:11005 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:11008 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:11010 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:26:11012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:26:11014 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:26:11016 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:26:11020 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:11023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:11023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 17.5596ms
[29-06-2024 00:26:11024 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:26:11024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 20.688ms
[29-06-2024 00:26:11364 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:26:11365 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:11365 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:26:11366 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:11369 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:11371 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:26:11373 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:26:11374 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:26:11376 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:26:11377 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:11379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:11380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 13.2624ms
[29-06-2024 00:26:11380 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:26:11380 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 16.6868ms
[29-06-2024 00:26:16690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:16691 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:16692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3547ms
[29-06-2024 00:26:16692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:16693 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:16694 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:26:16694 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:16697 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:16698 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:26:16700 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:26:16702 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:16704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:16704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 9.853ms
[29-06-2024 00:26:16705 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:26:16705 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.8824ms
[29-06-2024 00:26:19729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:26:19730 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:19731 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:19731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:26:19736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:26:19741 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:26:19742 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.1204ms
[29-06-2024 00:26:19743 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:19743 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.6108ms
[29-06-2024 00:26:44193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:44196 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:44197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.0805ms
[29-06-2024 00:26:44199 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:44201 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:44201 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:44202 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:44206 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:44209 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:44210 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.5462ms
[29-06-2024 00:26:44211 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:44211 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.328ms
[29-06-2024 00:26:47509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:47510 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:47511 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:47511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:47515 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:47521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:47521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.3173ms
[29-06-2024 00:26:47521 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:47522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.629ms
[29-06-2024 00:26:47536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:26:47537 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:47537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:47538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:26:47542 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:26:47551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:26:47552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.2453ms
[29-06-2024 00:26:47553 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:47554 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.635ms
[29-06-2024 00:26:49728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:49729 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:49730 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.7419ms
[29-06-2024 00:26:49731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:49732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:49732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:49732 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:49736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:49739 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:49739 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.437ms
[29-06-2024 00:26:49740 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:49741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0845ms
[29-06-2024 00:26:49751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:26:49752 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:49752 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:49753 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:26:49757 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:26:49764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:26:49765 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.6382ms
[29-06-2024 00:26:49765 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:49766 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.79ms
[29-06-2024 00:27:07227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:07228 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:07228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3784ms
[29-06-2024 00:27:07229 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:07230 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:07231 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:07231 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:07241 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:07245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:07247 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 14.6748ms
[29-06-2024 00:27:07247 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:07248 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.9053ms
[29-06-2024 00:27:09516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:09517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:09518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:09518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:09522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:09527 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:09527 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.3536ms
[29-06-2024 00:27:09528 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:09529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.5658ms
[29-06-2024 00:27:16845 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:16846 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:16846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.229ms
[29-06-2024 00:27:16847 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:16848 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:16849 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:16849 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:16854 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:16857 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:16858 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.5511ms
[29-06-2024 00:27:16859 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:16859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.977ms
[29-06-2024 00:27:23281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:23282 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:23282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3567ms
[29-06-2024 00:27:23283 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:23285 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:23285 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:23285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:23288 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:23291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:23291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.5463ms
[29-06-2024 00:27:23292 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:23292 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.262ms
[29-06-2024 00:27:24996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:24996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:24997 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:24997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:25001 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:25003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:25004 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.2133ms
[29-06-2024 00:27:25004 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:25005 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.304ms
[29-06-2024 00:27:32319 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:32320 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:32321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2451ms
[29-06-2024 00:27:32321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:32322 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:32323 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:32323 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:32327 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:32331 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:32331 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.2586ms
[29-06-2024 00:27:32332 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:32333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.2318ms
[29-06-2024 00:27:41721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:41722 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:41722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3264ms
[29-06-2024 00:27:41723 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:41724 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:41724 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:41725 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:41728 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:41731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:41731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.9026ms
[29-06-2024 00:27:41732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:41732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.3804ms
[29-06-2024 00:27:46776 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:46777 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:46778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.387ms
[29-06-2024 00:27:46778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:46779 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:46780 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:46780 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:46784 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:46787 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:46788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.1092ms
[29-06-2024 00:27:46788 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:46789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.9277ms
[29-06-2024 00:27:46801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:27:46802 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:46802 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:27:46803 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:27:46814 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:27:46821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:27:46822 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 18.5081ms
[29-06-2024 00:27:46822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:27:46823 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.9397ms
[29-06-2024 00:27:49358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:27:49359 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:49360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.2043ms
[29-06-2024 00:27:49360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:27:49362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:49362 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:27:49363 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:27:49367 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:27:49370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:27:49373 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:27:49373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:27:49374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 10.4055ms
[29-06-2024 00:27:49374 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:27:49374 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 14.13ms
[29-06-2024 00:27:52850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:52851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:52851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3554ms
[29-06-2024 00:27:52852 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:52853 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:52853 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:52854 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:52858 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:52860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:52861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.7107ms
[29-06-2024 00:27:52861 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:52862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.369ms
[29-06-2024 00:27:52875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:27:52875 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:52876 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:27:52876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:27:52883 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:27:52892 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:27:52893 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.9635ms
[29-06-2024 00:27:52894 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:27:52895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 20.5934ms
[29-06-2024 00:27:54341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - null null
[29-06-2024 00:27:54342 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:54342 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - 204 null null 1.2756ms
[29-06-2024 00:27:54343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - "application/json" 2
[29-06-2024 00:27:54344 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:54344 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 00:27:54345 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:27:54348 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:27:54350 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[29-06-2024 00:27:54351 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 37 to wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:27:54352 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:27:54352 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 6.6882ms
[29-06-2024 00:27:54352 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 00:27:54353 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - 200 null "application/json; charset=utf-8" 9.7885ms
[29-06-2024 00:27:54961 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/25""" - null null
[29-06-2024 00:27:54962 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:54963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/25""" - 204 null null 1.3579ms
[29-06-2024 00:27:54963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/25""" - "application/json" 2
[29-06-2024 00:27:54964 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:54965 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 00:27:54965 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:27:54970 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:27:54972 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[29-06-2024 00:27:54973 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 25 to wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:27:54973 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:27:54973 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 7.7771ms
[29-06-2024 00:27:54974 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 00:27:54974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/25""" - 200 null "application/json; charset=utf-8" 10.7855ms
[29-06-2024 00:28:00382 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:28:00383 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:00383 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.3682ms
[29-06-2024 00:28:00384 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:28:00385 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:00385 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:28:00385 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:00388 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:00390 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:28:00392 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:28:00394 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:28:00396 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:28:00400 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:00402 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:00403 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 16.5926ms
[29-06-2024 00:28:00403 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:28:00403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 19.8754ms
[29-06-2024 00:28:00762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:28:00763 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:00764 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:28:00764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:00767 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:00768 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:28:00770 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:28:00772 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:28:00773 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:28:00774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:00777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:00777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.5032ms
[29-06-2024 00:28:00778 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:28:00778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.535ms
[29-06-2024 00:28:07607 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - null null
[29-06-2024 00:28:07608 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:07609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - 204 null null 1.4297ms
[29-06-2024 00:28:07609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 32
[29-06-2024 00:28:07610 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:07611 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:28:07611 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:07617 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:07618 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 00:28:07620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:28:07621 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:07624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:07624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 12.5517ms
[29-06-2024 00:28:07625 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:28:07625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 15.6386ms
[29-06-2024 00:28:09539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 32
[29-06-2024 00:28:09540 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:09540 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:28:09540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:09543 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:09545 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 00:28:09546 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:28:09547 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:09549 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:09549 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 8.318ms
[29-06-2024 00:28:09550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:28:09550 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 11.3856ms
[29-06-2024 00:28:23766 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:28:23767 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:23768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2925ms
[29-06-2024 00:28:23768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:28:23769 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:23770 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:28:23770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:23773 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:23775 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:28:23777 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:28:23778 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:23780 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:23781 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 10.3725ms
[29-06-2024 00:28:23781 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:28:23782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.2598ms
[29-06-2024 00:28:26802 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:28:26803 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:26804 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:28:26804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:28:26815 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:28:26819 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:28:26820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.7694ms
[29-06-2024 00:28:26823 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:28:26823 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.2708ms
[29-06-2024 00:28:34803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:28:34804 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:34804 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.2944ms
[29-06-2024 00:28:34805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:28:34806 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:34806 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:28:34807 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:28:34811 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:28:34814 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:28:34817 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:28:34817 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:28:34818 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 10.0747ms
[29-06-2024 00:28:34818 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:28:34819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 13.7678ms
[29-06-2024 00:29:29598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:29:29602 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:29:29602 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.8018ms
[29-06-2024 00:29:29603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:29:29611 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:29:29611 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:29:29612 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:29:29620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:29:29623 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:29:29624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.5699ms
[29-06-2024 00:29:29624 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:29:29626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 22.0446ms
[29-06-2024 00:29:29643 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:29:29644 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:29:29644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.3771ms
[29-06-2024 00:29:29645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:29:29646 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:29:29647 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:29:29647 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:29:29654 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:29:29662 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:29:29665 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:29:29665 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:29:29666 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 17.963ms
[29-06-2024 00:29:29666 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:29:29666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 21.2135ms
[29-06-2024 00:30:07108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:07112 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:07113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.8917ms
[29-06-2024 00:30:07117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:07118 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:07119 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:30:07119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:07123 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:07127 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:07128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.4264ms
[29-06-2024 00:30:07128 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:30:07129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.6164ms
[29-06-2024 00:30:07149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:07150 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:07150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.2665ms
[29-06-2024 00:30:07152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:07153 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:07154 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:07154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:30:07158 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:30:07161 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:30:07165 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:30:07165 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:30:07166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 11.3807ms
[29-06-2024 00:30:07166 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:07167 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 15.057ms
[29-06-2024 00:30:09356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:30:09357 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:09358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.4186ms
[29-06-2024 00:30:09358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:30:09359 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:09360 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:30:09360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:09363 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:09365 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:30:09366 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:30:09368 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:30:09370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:30:09374 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:09376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:09376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 15.8566ms
[29-06-2024 00:30:09377 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:30:09377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 19.0314ms
[29-06-2024 00:30:10520 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:30:10521 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:10522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:30:10522 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:10525 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:10527 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:30:10528 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:30:10530 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:30:10531 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:30:10532 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:10534 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:10535 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.2588ms
[29-06-2024 00:30:10535 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:30:10536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.3645ms
[29-06-2024 00:30:28509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:28510 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:28510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2059ms
[29-06-2024 00:30:28511 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:28512 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:28512 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:30:28513 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:28518 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:28520 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:30:28522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:30:28523 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:28526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:28526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 12.9563ms
[29-06-2024 00:30:28526 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:30:28527 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.2129ms
[29-06-2024 00:30:29757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:29758 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:29758 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.4274ms
[29-06-2024 00:30:29759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:29760 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:29760 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:29761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:30:29764 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:30:29768 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:30:29770 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:30:29770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:30:29771 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 9.835ms
[29-06-2024 00:30:29771 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:29772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 12.9839ms
[29-06-2024 00:30:31549 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:30:31550 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:31550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:30:31551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:30:31561 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:30:31567 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:30:31567 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 16.1242ms
[29-06-2024 00:30:31568 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:30:31568 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 19.2827ms
[29-06-2024 00:30:39956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:39957 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:39957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.3732ms
[29-06-2024 00:30:39958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:39959 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:39960 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:39960 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:30:39963 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:30:39964 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:30:39967 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:30:39967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:30:39967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 6.9669ms
[29-06-2024 00:30:39968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:39968 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 10.4429ms
[29-06-2024 00:30:40794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:40795 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:40795 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3947ms
[29-06-2024 00:30:40796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:40797 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:40797 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:30:40797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:40801 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:40804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:40805 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9554ms
[29-06-2024 00:30:40805 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:30:40806 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.2346ms
[29-06-2024 00:30:40818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:30:40819 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:40819 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:30:40819 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:30:40824 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:30:40829 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:30:40830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.1997ms
[29-06-2024 00:30:40834 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:30:40835 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.5069ms
[29-06-2024 00:32:17893 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:32:17897 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:17897 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:32:17900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 6.8757ms
[29-06-2024 00:32:17902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:32:17905 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:17907 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:17907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 9.5592ms
[29-06-2024 00:32:17908 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:32:17908 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:32:17909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:17910 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:32:17910 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:32:17911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:32:17915 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:32:17940 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:32:17942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:32:17942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 31.4193ms
[29-06-2024 00:32:17943 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:32:17944 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:32:17944 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 42.152ms
[29-06-2024 00:32:17944 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 33.0038ms
[29-06-2024 00:32:17946 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:32:17946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 38.4053ms
[29-06-2024 00:32:20219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:20220 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:20220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4315ms
[29-06-2024 00:32:20221 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:20222 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:20222 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:20223 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:32:20232 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:32:20236 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:32:20237 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.4859ms
[29-06-2024 00:32:20237 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:20238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.8471ms
[29-06-2024 00:32:52221 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:52226 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52226 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.874ms
[29-06-2024 00:32:52231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:52233 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52233 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:52234 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:32:52241 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:32:52244 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:32:52245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.3206ms
[29-06-2024 00:32:52245 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:52246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.9984ms
[29-06-2024 00:32:52294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:32:52295 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52296 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3388ms
[29-06-2024 00:32:52297 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:32:52298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:32:52298 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52299 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4557ms
[29-06-2024 00:32:52301 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:32:52301 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:32:52305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:32:52306 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:32:52306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:32:52310 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:32:52311 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:32:52339 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:32:52339 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 33.1558ms
[29-06-2024 00:32:52340 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:32:52340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:32:52340 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 42.0681ms
[29-06-2024 00:32:52340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 33.452ms
[29-06-2024 00:32:52342 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:32:52342 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 41.4934ms
[29-06-2024 00:32:53775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:53776 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:53776 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:53777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:32:53780 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:32:53783 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:32:53784 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.3204ms
[29-06-2024 00:32:53784 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:53784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.5149ms
[29-06-2024 00:32:53798 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:32:53799 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:53799 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:32:53800 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:32:53811 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:32:53818 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:32:53819 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 18.4672ms
[29-06-2024 00:32:53819 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:32:53820 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.83ms
[29-06-2024 00:34:01537 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Wishlist""" - null null
[29-06-2024 00:34:01538 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 7:46:09 PM', Current time (UTC): '6/28/2024 9:34:01 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:34:01538 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 7:46:09 PM', Current time (UTC): '6/28/2024 9:34:01 PM'."
[29-06-2024 00:34:01539 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 00:34:01539 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 00:34:01539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Wishlist""" - 401 0 null 3.4682ms
[29-06-2024 00:40:26676 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 00:40:27036 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 00:40:27036 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 00:40:27037 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 00:40:27038 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 00:40:27038 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 00:40:28060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 00:40:28195 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 137.8299ms
[29-06-2024 00:40:28216 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 00:40:28216 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 00:40:28216 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 00:40:28224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 7.8904ms
[29-06-2024 00:40:28231 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 00:40:28231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.461ms
[29-06-2024 00:40:28245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 29.3838ms
[29-06-2024 00:40:28272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 00:40:28274 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 00:40:28274 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.5254ms
[29-06-2024 00:40:28304 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 00:40:28410 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 106.3186ms
[29-06-2024 00:40:29871 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:29873 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:29874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.5655ms
[29-06-2024 00:40:29875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:29877 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:29895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:40:29897 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:29959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:40:29979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:40:30002 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:30005 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:40:31064 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 00:40:31427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:40:31427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:40:31473 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:40:31487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 1478.8041ms
[29-06-2024 00:40:31488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:31490 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:40:31492 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 1616.539ms
[29-06-2024 00:40:31499 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1518.9154ms
[29-06-2024 00:40:31500 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:40:31501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1605.1367ms
[29-06-2024 00:40:33142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:33143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:33143 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:33144 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:33144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.569ms
[29-06-2024 00:40:33144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.41ms
[29-06-2024 00:40:33146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:33146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:33148 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:33148 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:33152 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:33152 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:33154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:40:33154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:40:33202 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:40:33202 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:40:33243 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:40:33245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 90.1301ms
[29-06-2024 00:40:33246 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:33246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 100.5575ms
[29-06-2024 00:40:33263 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:40:33266 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 110.0325ms
[29-06-2024 00:40:33266 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:33267 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 121.4805ms
[29-06-2024 00:40:37603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:37604 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:37604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6473ms
[29-06-2024 00:40:37605 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:37606 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:37608 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:37608 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:40:37617 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:40:37621 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:40:37622 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.345ms
[29-06-2024 00:40:37622 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:37623 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.5314ms
[29-06-2024 00:40:37624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:40:37625 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:37626 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:40:37627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:40:37637 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:40:37650 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:40:37654 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 26.6015ms
[29-06-2024 00:40:37655 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:40:37655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 30.9831ms
[29-06-2024 00:40:38651 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:38652 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:38652 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:38653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.7059ms
[29-06-2024 00:40:38654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:38654 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:38656 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:38656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.649ms
[29-06-2024 00:40:38656 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:38657 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:38658 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:40:38658 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:38660 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:38660 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:40:38663 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:40:38759 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:40:38760 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 100.6656ms
[29-06-2024 00:40:38760 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:38760 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 107.0917ms
[29-06-2024 00:40:38762 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:40:38765 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:40:38766 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 104.6901ms
[29-06-2024 00:40:38766 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:38767 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 110.4295ms
[29-06-2024 00:40:39344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:39345 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:39345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:39346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:40:39355 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:40:39358 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:40:39359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.2682ms
[29-06-2024 00:40:39359 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:39360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.1225ms
[29-06-2024 00:40:39381 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:39383 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:39383 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:39383 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:39384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:39384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:39384 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:40:39385 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:40:39389 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:40:39420 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:40:39421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 35.7524ms
[29-06-2024 00:40:39421 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:39422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 40.5812ms
[29-06-2024 00:40:39428 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:40:39430 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:40:39431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 45.0529ms
[29-06-2024 00:40:39431 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:39432 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 49.1606ms
[29-06-2024 00:43:18622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:43:18623 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:43:18624 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:43:18624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:43:18646 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:43:18655 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:43:18657 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 25.1545ms
[29-06-2024 00:43:18660 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:43:18661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 39.1306ms
[29-06-2024 00:43:46791 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 00:43:46943 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 00:43:46943 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 00:43:46944 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 00:43:46945 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 00:43:46945 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 00:44:04722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 00:44:04824 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 102.1933ms
[29-06-2024 00:44:04841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 00:44:04841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 00:44:04841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 00:44:04851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 9.612ms
[29-06-2024 00:44:04856 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 00:44:04857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.7277ms
[29-06-2024 00:44:04872 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.7683ms
[29-06-2024 00:44:04901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 00:44:04903 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 00:44:04904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.8293ms
[29-06-2024 00:44:04930 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 00:44:05028 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 97.2517ms
[29-06-2024 00:44:35908 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:44:35914 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:44:35981 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 00:44:35984 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 00:44:35984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 76.4263ms
[29-06-2024 00:44:44651 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 00:44:44653 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:44:44653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.9958ms
[29-06-2024 00:44:44655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 00:44:44656 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:44:44659 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 00:44:44672 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:44:45716 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:44:45854 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 00:44:45882 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 00:44:45889 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:44:45950 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 00:44:45958 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 00:44:45962 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 00:44:45967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1292.2248ms
[29-06-2024 00:44:45968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 00:44:45972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 1317.5206ms
[29-06-2024 00:44:45988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:44:45989 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:44:45990 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:44:45994 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:44:46082 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 00:44:46094 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:44:46146 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:44:46160 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 165.5306ms
[29-06-2024 00:44:46161 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:44:46161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 172.9629ms
[29-06-2024 00:47:06878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:47:06879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:06879 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:47:06882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:47:06880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.7044ms
[29-06-2024 00:47:06883 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:06884 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:06885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.6717ms
[29-06-2024 00:47:06886 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:47:06887 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:06913 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:47:06913 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:47:06915 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:47:06915 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:47:06934 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:06939 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:47:06939 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:47:06978 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:47:06979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 62.6366ms
[29-06-2024 00:47:06979 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:47:06980 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 93.7886ms
[29-06-2024 00:47:06980 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 63.4151ms
[29-06-2024 00:47:06981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:47:06982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 99.0674ms
[29-06-2024 00:47:09596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:47:09597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:09598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.526ms
[29-06-2024 00:47:09599 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:47:09600 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:09602 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:47:09604 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:47:09638 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:47:09651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:47:09653 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 48.077ms
[29-06-2024 00:47:09653 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:47:09654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 55.3476ms
[29-06-2024 00:47:09677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:47:09678 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:09678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.4557ms
[29-06-2024 00:47:09679 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:47:09680 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:09681 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:09683 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:09691 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:09707 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:09727 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:09727 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:47:09730 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 46.118ms
[29-06-2024 00:47:09732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:09732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 53.0585ms
[29-06-2024 00:47:11565 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/25""" - null null
[29-06-2024 00:47:11566 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:11566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/25""" - 204 null null 1.2725ms
[29-06-2024 00:47:11567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/25""" - null null
[29-06-2024 00:47:11568 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:11568 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 00:47:11571 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:11576 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:11578 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:11586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:47:11606 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[29-06-2024 00:47:11610 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 25 from wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:11610 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:47:11611 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 39.5727ms
[29-06-2024 00:47:11611 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 00:47:11612 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/25""" - 200 null "application/json; charset=utf-8" 45.1017ms
[29-06-2024 00:47:11615 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:47:11616 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:11616 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:11617 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:11629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:11631 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:11634 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 1 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:11634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:47:11635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 17.2506ms
[29-06-2024 00:47:11635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:11635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 20.6868ms
[29-06-2024 00:47:12359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/37""" - null null
[29-06-2024 00:47:12360 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:12360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/37""" - 204 null null 1.4792ms
[29-06-2024 00:47:12361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/37""" - null null
[29-06-2024 00:47:12362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:12363 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 00:47:12363 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:12368 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:12369 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:12370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:47:12372 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[29-06-2024 00:47:12373 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 37 from wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:12373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:47:12374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 9.965ms
[29-06-2024 00:47:12374 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 00:47:12375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/37""" - 200 null "application/json; charset=utf-8" 13.7599ms
[29-06-2024 00:47:12378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:47:12378 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:12379 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:12379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:12383 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:12385 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:12388 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:12388 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:47:12389 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 8.5887ms
[29-06-2024 00:47:12389 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:12390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 11.9531ms
[29-06-2024 00:47:15077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:47:15077 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:15078 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4919ms
[29-06-2024 00:47:15080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:47:15081 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:15081 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:47:15082 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:47:15089 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:47:15092 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:47:15093 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.2682ms
[29-06-2024 00:47:15093 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:47:15094 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.1305ms
[29-06-2024 00:47:15103 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:47:15104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:15105 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:47:15106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:47:15120 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:47:15134 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:47:15153 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 46.2ms
[29-06-2024 00:47:15153 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:47:15154 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 50.9275ms
[29-06-2024 01:00:20565 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 01:00:20717 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 01:00:20717 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 01:00:20719 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 01:00:20719 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 01:00:20720 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 01:00:22477 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 01:00:22593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 119.3424ms
[29-06-2024 01:00:22621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 01:00:22621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 01:00:22621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 01:00:22631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 10.0512ms
[29-06-2024 01:00:22635 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 01:00:22635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 14.2996ms
[29-06-2024 01:00:22653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 31.6135ms
[29-06-2024 01:00:22682 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 01:00:22684 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 01:00:22685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.9088ms
[29-06-2024 01:00:22717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 01:00:22821 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 104.2134ms
[29-06-2024 01:00:35352 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 69
[29-06-2024 01:00:35355 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 01:00:35405 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:00:35419 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 01:00:36481 +03:00 Microsoft.EntityFrameworkCore.Database.Connection ] An error occurred using the connection to database '"ProjectKeystone"' on server '"localhost\\sqlexpress"'.
[29-06-2024 01:00:36491 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"Project_Keystone.Infrastructure.Data.ProjectKeystoneDbContext"'."
""System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[29-06-2024 01:00:36546 +03:00 Project_Keystone.Api.Controllers.AuthController ] An unexpected error occurred during login for user "admin@example.com"
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 60
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 60
[29-06-2024 01:00:36560 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 01:00:36565 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1143.4026ms
[29-06-2024 01:00:36566 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:00:36571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 500 null "application/json; charset=utf-8" 1219.3031ms
[29-06-2024 01:03:41586 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 01:03:41722 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 01:03:41723 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 01:03:41724 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 01:03:41725 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 01:03:41725 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 01:03:43924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 01:03:44031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 109.808ms
[29-06-2024 01:03:44055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 01:03:44055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 01:03:44055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 01:03:44064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.8664ms
[29-06-2024 01:03:44070 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 01:03:44071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 16.0714ms
[29-06-2024 01:03:44085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.3066ms
[29-06-2024 01:03:44111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 01:03:44113 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 01:03:44113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.4703ms
[29-06-2024 01:03:44145 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 01:03:44256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 111.2836ms
[29-06-2024 01:03:52515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 69
[29-06-2024 01:03:52518 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 01:03:52566 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:03:52579 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 01:03:53743 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 01:03:53888 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 01:03:53916 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 01:03:53923 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 01:03:53988 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 01:03:53996 +03:00 Project_Keystone.Core.Services.AuthService ] User "admin@example.com" logged in successfully.
[29-06-2024 01:03:54002 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 01:03:54007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1424.8884ms
[29-06-2024 01:03:54008 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:03:54013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1497.8527ms
[29-06-2024 01:06:02070 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 01:06:02215 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 01:06:02215 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 01:06:02217 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 01:06:02217 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 01:06:02217 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 01:06:06794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 01:06:06905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 114.0566ms
[29-06-2024 01:06:06928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 01:06:06928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 01:06:06928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 01:06:06942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 13.6495ms
[29-06-2024 01:06:06947 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 01:06:06948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 19.8633ms
[29-06-2024 01:06:06963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 34.3511ms
[29-06-2024 01:06:06991 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 01:06:06993 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 01:06:06994 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.8704ms
[29-06-2024 01:06:07027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 01:06:07131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 105.2417ms
[29-06-2024 01:06:11891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 69
[29-06-2024 01:06:11894 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 01:06:11945 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:06:11959 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 01:06:13091 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 01:06:13236 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 01:06:13265 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 01:06:13272 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 01:06:13337 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 01:06:13345 +03:00 Project_Keystone.Core.Services.AuthService ] User "admin@example.com" logged in successfully.
[29-06-2024 01:06:13350 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 01:06:13355 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1392.9331ms
[29-06-2024 01:06:13356 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:06:13360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1469.4169ms
[29-06-2024 02:10:08250 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 02:10:08399 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 02:10:08399 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 02:10:08401 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 02:10:08401 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 02:10:08402 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 02:10:09642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 02:10:09781 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 141.3413ms
[29-06-2024 02:10:09803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 02:10:09803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 02:10:09803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 02:10:09812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 9.7809ms
[29-06-2024 02:10:09817 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 02:10:09817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 14.876ms
[29-06-2024 02:10:09839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 36.5539ms
[29-06-2024 02:10:09864 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 02:10:09866 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 02:10:09867 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.012ms
[29-06-2024 02:10:09905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 02:10:10011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 106.3799ms
[29-06-2024 02:10:47971 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 02:10:47983 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 14.3063ms
[29-06-2024 02:10:48004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 02:10:48004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 02:10:48010 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 5.9596ms
[29-06-2024 02:10:48017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 13.0532ms
[29-06-2024 02:10:48078 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 02:10:48096 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 18.0037ms
[29-06-2024 02:13:11005 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 02:13:11163 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 02:13:11164 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 02:13:11166 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 02:13:11166 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 02:13:11166 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 02:13:12311 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 02:13:12413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 104.6931ms
[29-06-2024 02:13:12437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 02:13:12437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 02:13:12437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 02:13:12450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 12.6087ms
[29-06-2024 02:13:12452 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 02:13:12452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.3638ms
[29-06-2024 02:13:12467 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.2183ms
[29-06-2024 02:13:12495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 02:13:12497 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 02:13:12497 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.6647ms
[29-06-2024 02:13:12526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 02:13:56346 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 02:13:56494 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 02:13:56495 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 02:13:56496 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 02:13:56496 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 02:13:56497 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 02:13:57938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 02:13:58042 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 106.4425ms
[29-06-2024 02:13:58067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 02:13:58067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 02:13:58067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 02:13:58079 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 11.9279ms
[29-06-2024 02:13:58084 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 02:13:58085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 18.3505ms
[29-06-2024 02:13:58100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 33.3476ms
[29-06-2024 02:13:58130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 02:13:58132 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 02:13:58132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.7506ms
[29-06-2024 02:13:58161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 02:15:19492 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 02:15:19628 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 02:15:19628 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 02:15:19630 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 02:15:19630 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 02:15:19631 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 02:15:20698 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 02:15:20802 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 105.6733ms
[29-06-2024 02:15:20824 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 02:15:20825 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 02:15:20824 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 02:15:20836 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 12.0296ms
[29-06-2024 02:15:20838 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 02:15:20839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 14.7397ms
[29-06-2024 02:15:20854 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 29.2564ms
[29-06-2024 02:15:20881 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 02:15:20883 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 02:15:20883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.6488ms
[29-06-2024 02:15:20913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 02:15:21017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 104.5095ms
[29-06-2024 02:16:58280 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 02:16:58409 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 02:16:58410 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 02:16:58411 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 02:16:58411 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 02:16:58412 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 02:16:59378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 02:16:59491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 117.5987ms
[29-06-2024 02:16:59514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 02:16:59514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 02:16:59517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 02:16:59526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 11.6064ms
[29-06-2024 02:16:59532 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 02:16:59533 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 18.4894ms
[29-06-2024 02:16:59547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.4188ms
[29-06-2024 02:16:59577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 02:16:59579 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 02:16:59579 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.9077ms
[29-06-2024 02:16:59608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 02:16:59705 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 96.5444ms
[29-06-2024 02:30:58746 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 02:30:58913 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 02:30:58914 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 02:30:58915 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 02:30:58916 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 02:30:58916 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 02:31:00365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 02:31:00530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 169.4179ms
[29-06-2024 02:31:00557 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 02:31:00557 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 02:31:00563 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 02:31:00572 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 15.25ms
[29-06-2024 02:31:00579 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 02:31:00579 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 22.4284ms
[29-06-2024 02:31:00612 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 50.4249ms
[29-06-2024 02:31:00648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 02:31:00652 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 02:31:00652 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 4.1204ms
[29-06-2024 02:31:00698 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 02:31:00816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 117.9987ms
[29-06-2024 02:31:05797 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:31:05801 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:05868 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:05883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:31:06804 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 02:31:07012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:31:07099 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:31:07120 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1234.5151ms
[29-06-2024 02:31:07121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:07125 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1328.3426ms
[29-06-2024 02:31:20490 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:31:20492 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:20494 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:20495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:31:20552 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:31:20563 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:31:20564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 68.2694ms
[29-06-2024 02:31:20565 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:20565 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 75.6406ms
[29-06-2024 02:31:28678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:31:28680 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:28682 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:28682 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:31:28706 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:31:28715 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:31:28716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 33.2592ms
[29-06-2024 02:31:28717 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:28717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 38.8955ms
[29-06-2024 02:31:37007 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 02:31:37009 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:37010 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 2.2408ms
[29-06-2024 02:31:37011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 02:31:37012 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:37012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 02:31:37016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:31:37048 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 02:31:37137 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 02:31:37166 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 02:31:37171 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 02:31:37235 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 02:31:37243 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 02:31:37245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 02:31:37246 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 229.4632ms
[29-06-2024 02:31:37246 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 02:31:37248 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 236.7334ms
[29-06-2024 02:31:37259 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:31:37260 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:37261 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:37261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:31:37268 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:31:37283 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:31:37284 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 22.4504ms
[29-06-2024 02:31:37285 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:37286 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 26.6241ms
[29-06-2024 02:31:38229 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:31:38230 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:31:38230 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:38231 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:38231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.3671ms
[29-06-2024 02:31:38231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.6153ms
[29-06-2024 02:31:38232 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:31:38233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:31:38238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:38238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:38269 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:31:38269 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:31:38271 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:31:38272 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 02:31:38281 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 02:31:38322 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:31:38324 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 51.7362ms
[29-06-2024 02:31:38325 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:31:38326 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 93.667ms
[29-06-2024 02:31:38326 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:31:38330 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 02:31:38332 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 60.4098ms
[29-06-2024 02:31:38333 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:31:38333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 100.9379ms
[29-06-2024 02:31:49470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:31:49470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:31:49471 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:49472 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:49472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.3162ms
[29-06-2024 02:31:49473 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:31:49472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.821ms
[29-06-2024 02:31:49473 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:31:49475 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:49476 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:49478 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:31:49478 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:31:49478 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 02:31:49479 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:31:49483 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 02:31:49511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:31:49512 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 32.5998ms
[29-06-2024 02:31:49512 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:31:49513 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 39.8806ms
[29-06-2024 02:31:49518 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:31:49521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 02:31:49521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 41.3275ms
[29-06-2024 02:31:49522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:31:49522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 48.8708ms
[29-06-2024 02:31:51103 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:31:51104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:51104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.475ms
[29-06-2024 02:31:51106 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:31:51109 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:51110 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:31:51112 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:31:51127 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:31:51128 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:51129 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:51129 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:31:51138 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:31:51147 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:31:51155 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:31:51155 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:31:51157 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 27.3368ms
[29-06-2024 02:31:51157 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 44.6755ms
[29-06-2024 02:31:51158 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:31:51159 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:31:51159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 32.4714ms
[29-06-2024 02:31:51160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 54.141ms
[29-06-2024 02:31:54658 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 02:31:54659 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:54660 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.6054ms
[29-06-2024 02:31:54660 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:31:54661 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:54662 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:31:54664 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:31:54672 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:31:54677 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:31:54684 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:31:54692 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:31:54728 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:31:54741 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:31:54744 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:31:54745 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 80.3949ms
[29-06-2024 02:31:54746 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:31:54746 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 85.8804ms
[29-06-2024 02:31:55256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:31:55257 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:55257 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:31:55258 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:31:55262 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:31:55265 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:31:55267 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:31:55269 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:31:55272 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:31:55274 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:31:55276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:31:55277 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 18.27ms
[29-06-2024 02:31:55277 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:31:55277 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 21.8422ms
[29-06-2024 02:31:58615 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - null null
[29-06-2024 02:31:58616 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:58616 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - 204 null null 1.6612ms
[29-06-2024 02:31:58617 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 32
[29-06-2024 02:31:58618 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:58619 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 02:31:58622 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:31:58627 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:31:58633 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 02:31:58638 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 02:31:58640 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:31:58642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:31:58643 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 20.572ms
[29-06-2024 02:31:58643 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 02:31:58644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 26.3956ms
[29-06-2024 02:31:59628 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 32
[29-06-2024 02:31:59629 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:31:59629 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 02:31:59629 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:31:59634 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:31:59636 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 02:31:59638 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 02:31:59639 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:31:59641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:31:59642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 11.7149ms
[29-06-2024 02:31:59642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 02:31:59643 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 15.1023ms
[29-06-2024 02:32:01108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 32
[29-06-2024 02:32:01109 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:01109 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 02:32:01110 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:32:01113 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:32:01116 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 02:32:01117 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 02:32:01118 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:32:01121 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:32:01121 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 11.1328ms
[29-06-2024 02:32:01122 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 02:32:01122 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 14.7063ms
[29-06-2024 02:32:02224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 32
[29-06-2024 02:32:02225 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:02225 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 02:32:02226 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:32:02229 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:32:02231 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 02:32:02233 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 02:32:02234 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:32:02237 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:32:02237 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 11.1108ms
[29-06-2024 02:32:02238 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 02:32:02238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 14.7587ms
[29-06-2024 02:32:08865 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:32:08866 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:08866 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4614ms
[29-06-2024 02:32:08867 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:32:08868 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:08868 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 02:32:08871 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:32:08875 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:32:08878 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:32:08895 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 02:32:08904 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:32:08906 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:32:08907 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 35.5787ms
[29-06-2024 02:32:08907 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 02:32:08907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 40.7922ms
[29-06-2024 02:32:11931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:32:11932 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:11933 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:32:11933 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:32:11938 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:32:11944 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:32:11945 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.8427ms
[29-06-2024 02:32:11945 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:32:11946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.4781ms
[29-06-2024 02:32:14769 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:32:14771 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:14771 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.5578ms
[29-06-2024 02:32:14772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:32:14773 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:14774 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:32:14776 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:32:14781 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:32:14794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:32:14804 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:32:14804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 02:32:14805 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 28.6781ms
[29-06-2024 02:32:14806 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:32:14806 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 34.139ms
[29-06-2024 02:32:15929 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:32:15930 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:15930 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.603ms
[29-06-2024 02:32:15931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:32:15932 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:15933 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:32:15933 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:32:15938 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:32:15942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:32:15942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.3314ms
[29-06-2024 02:32:15943 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:32:15943 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.5475ms
[29-06-2024 02:32:15953 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:32:15954 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:32:15954 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:32:15954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:32:15959 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:32:15966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:32:15967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.3676ms
[29-06-2024 02:32:15968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:32:15969 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.6345ms
[29-06-2024 02:32:58153 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 02:32:58308 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 02:32:58309 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 02:32:58311 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 02:32:58311 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 02:32:58311 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 02:32:59301 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 02:32:59413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 115.4092ms
[29-06-2024 02:32:59436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 02:32:59436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 02:32:59436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 02:32:59451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 15.1375ms
[29-06-2024 02:32:59456 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 02:32:59456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 20.8702ms
[29-06-2024 02:32:59469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 33.6254ms
[29-06-2024 02:32:59497 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 02:32:59499 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 02:32:59500 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.226ms
[29-06-2024 02:32:59528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 02:32:59641 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 112.9781ms
[29-06-2024 02:33:43334 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/category/1""?page=1&pageSize=20" - null null
[29-06-2024 02:33:43339 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:33:43386 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)"'
[29-06-2024 02:33:43400 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductsByCategoryId\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductsByCategoryId(Int32, Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:33:44335 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 02:33:44548 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t].[ProductId], [t].[CategoryId], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p0].[PRODUCT_ID], [p0].[CREATED_AT], [p0].[DESCRIPTION], [p0].[IMAGE_URL], [p0].[NAME], [p0].[PRICE], [p0].[UPDATED_AT], [p].[ProductId], [p].[CategoryId]
    FROM [PRODUCT_CATEGORIES] AS [p]
    INNER JOIN [PRODUCTS] AS [p0] ON [p].[ProductId] = [p0].[PRODUCT_ID]
    WHERE [p].[CategoryId] = @__categoryId_0
    ORDER BY [p0].[NAME]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p1]
    INNER JOIN [CATEGORIES] AS [c] ON [p1].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p2].[ProductId], [p2].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p2]
    INNER JOIN [GENRES] AS [g] ON [p2].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[ProductId], [t].[CategoryId], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:33:44635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:33:44656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)" in 1253.1843ms
[29-06-2024 02:33:44656 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)"'
[29-06-2024 02:33:44661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/category/1""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1326.9453ms
[29-06-2024 02:33:49265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/filter""?sortOrder=asc&page=1&pageSize=8&genreName=Action&categoryName=pc" - null null
[29-06-2024 02:33:49267 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:33:49269 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.FilterAndSortProducts (Project-Keystone)"'
[29-06-2024 02:33:49273 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"FilterAndSortProducts\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] FilterAndSortProducts(System.String, System.String, Int32, Int32, System.String)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:33:49341 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 02:33:49363 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 02:33:49382 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__categoryName_0='?' (Size = 50), @__genreName_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    WHERE EXISTS (
        SELECT 1
        FROM [PRODUCT_CATEGORIES] AS [p0]
        INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
        WHERE [p].[PRODUCT_ID] = [p0].[ProductId] AND LOWER([c].[NAME]) = @__categoryName_0) AND EXISTS (
        SELECT 1
        FROM [PRODUCT_GENRES] AS [p1]
        INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
        WHERE [p].[PRODUCT_ID] = [p1].[ProductId] AND LOWER([g].[NAME]) = @__genreName_1)
    ORDER BY [p].[PRICE]
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p2].[ProductId], [p2].[CategoryId], [c0].[CATEGORY_ID], [c0].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p2]
    INNER JOIN [CATEGORIES] AS [c0] ON [p2].[CategoryId] = [c0].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p3].[ProductId], [p3].[GenreId], [g0].[GENRE_ID], [g0].[NAME]
    FROM [PRODUCT_GENRES] AS [p3]
    INNER JOIN [GENRES] AS [g0] ON [p3].[GenreId] = [g0].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[PRICE], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:33:49389 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:33:49392 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.FilterAndSortProducts (Project-Keystone)" in 118.6502ms
[29-06-2024 02:33:49393 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.FilterAndSortProducts (Project-Keystone)"'
[29-06-2024 02:33:49393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/filter""?sortOrder=asc&page=1&pageSize=8&genreName=Action&categoryName=pc" - 200 null "application/json; charset=utf-8" 128.1743ms
[29-06-2024 02:33:53427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:33:53429 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:33:53430 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 2.775ms
[29-06-2024 02:33:53431 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:33:53432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:33:53457 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:33:53458 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:33:53458 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:33:53463 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:33:53494 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:33:53497 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:33:53499 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 02:33:53511 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:33:53525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:33:53526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 62.9002ms
[29-06-2024 02:33:53531 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:33:53532 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 77.8961ms
[29-06-2024 02:33:53538 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:33:53550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:33:53552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 54.2345ms
[29-06-2024 02:33:53553 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:33:53553 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 122.0735ms
[29-06-2024 02:34:50178 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:34:50179 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:34:50179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.9028ms
[29-06-2024 02:34:50181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:34:50182 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:34:50184 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:34:50184 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:34:50195 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:34:50200 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:34:50201 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 16.0943ms
[29-06-2024 02:34:50202 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:34:50202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 21.9661ms
[29-06-2024 02:34:50208 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:34:50209 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:34:50209 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:34:50210 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:34:50226 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:34:50233 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:34:50235 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 24.3139ms
[29-06-2024 02:34:50236 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:34:50236 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 28.5116ms
[29-06-2024 02:35:04288 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:04289 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:04289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.7397ms
[29-06-2024 02:35:04291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:04292 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:04293 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:04294 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:04301 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:04305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:04306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.9136ms
[29-06-2024 02:35:04307 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:04308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.1775ms
[29-06-2024 02:35:04331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:35:04332 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:04333 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:35:04333 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:35:04344 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:35:04352 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:35:04354 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 19.7175ms
[29-06-2024 02:35:04354 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:35:04355 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 24.3874ms
[29-06-2024 02:35:06531 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 02:35:06532 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:06533 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.6921ms
[29-06-2024 02:35:06534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:35:06535 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:06536 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:35:06538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:06553 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:06563 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:35:06569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:35:06577 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:35:06659 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:35:06678 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:06681 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:06682 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 143.6216ms
[29-06-2024 02:35:06683 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:35:06683 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 149.3673ms
[29-06-2024 02:35:06979 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:35:06980 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:06981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:35:06981 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:06985 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:06989 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:35:06991 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:35:06993 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:35:06995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:35:06997 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:06999 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:07000 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 18.5588ms
[29-06-2024 02:35:07001 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:35:07001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 22.4488ms
[29-06-2024 02:35:09850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:09850 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:09851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.355ms
[29-06-2024 02:35:09852 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:09852 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:09855 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 02:35:09857 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:09862 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:09864 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:35:09880 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 02:35:09890 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:09892 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:09893 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 35.3152ms
[29-06-2024 02:35:09893 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 02:35:09894 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 42.1753ms
[29-06-2024 02:35:28819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:35:28820 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:35:28820 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:28820 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:28821 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.2827ms
[29-06-2024 02:35:28824 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:35:28821 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.582ms
[29-06-2024 02:35:28827 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:35:28832 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:28833 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:28834 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:35:28834 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:35:28836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 02:35:28836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:35:28847 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 02:35:28888 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:35:28890 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 53.3682ms
[29-06-2024 02:35:28891 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:35:28891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 67.4978ms
[29-06-2024 02:35:28893 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:35:28914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 02:35:28917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 79.182ms
[29-06-2024 02:35:28917 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:35:28918 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 91.0992ms
[29-06-2024 02:35:31898 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:31899 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:31899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3297ms
[29-06-2024 02:35:31900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:31901 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:31902 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:31902 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:31907 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:31912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:31912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.4613ms
[29-06-2024 02:35:31914 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:31915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.9424ms
[29-06-2024 02:35:31964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:35:31965 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:31965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.6762ms
[29-06-2024 02:35:31967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:35:31968 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:31968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:31971 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:35:31980 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:35:31996 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:35:32008 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:35:32009 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 02:35:32011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 39.6527ms
[29-06-2024 02:35:32012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:32012 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 45.774ms
[29-06-2024 02:35:34296 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:34297 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:34298 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:34298 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:34303 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:34308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:34308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.2154ms
[29-06-2024 02:35:34314 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:34315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 19.577ms
[29-06-2024 02:35:34369 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:35:34370 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:35:34371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:34371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:34372 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.5967ms
[29-06-2024 02:35:34372 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4023ms
[29-06-2024 02:35:34373 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:35:34373 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:35:34375 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:34376 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:34377 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:35:34377 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 02:35:34377 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:35:34378 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:35:34382 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 02:35:34412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:35:34412 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:35:34414 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 35.9802ms
[29-06-2024 02:35:34415 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:35:34415 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 02:35:34415 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 42.0744ms
[29-06-2024 02:35:34416 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 37.3266ms
[29-06-2024 02:35:34417 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:35:34418 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 44.4685ms
[29-06-2024 02:35:35123 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:35123 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:35124 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:35124 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:35129 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:35133 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:35138 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.0327ms
[29-06-2024 02:35:35139 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:35140 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.5998ms
[29-06-2024 02:35:35152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:35:35154 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:35154 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:35:35155 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:35:35160 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:35:35166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:35:35168 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.4452ms
[29-06-2024 02:35:35168 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:35:35169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.6336ms
[29-06-2024 02:35:36757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - null null
[29-06-2024 02:35:36758 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:36759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - 204 null null 1.4077ms
[29-06-2024 02:35:36759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - "application/json" 2
[29-06-2024 02:35:36761 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:36761 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 02:35:36764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:35:36769 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:35:36787 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[29-06-2024 02:35:36788 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 37 to wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:35:36789 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:35:36789 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 25.1011ms
[29-06-2024 02:35:36790 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 02:35:36790 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - 200 null "application/json; charset=utf-8" 31.0184ms
[29-06-2024 02:35:37361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/25""" - null null
[29-06-2024 02:35:37362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:37362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/25""" - 204 null null 1.614ms
[29-06-2024 02:35:37363 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/25""" - "application/json" 2
[29-06-2024 02:35:37364 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:37365 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 02:35:37366 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:35:37375 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:35:37378 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[29-06-2024 02:35:37379 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 25 to wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:35:37379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:35:37379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 13.3111ms
[29-06-2024 02:35:37380 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 02:35:37380 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/25""" - 200 null "application/json; charset=utf-8" 17.1888ms
[29-06-2024 02:35:39240 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:35:39241 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:39242 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.5092ms
[29-06-2024 02:35:39243 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:35:39244 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:39244 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:39245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:35:39249 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:35:39251 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:35:39254 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:35:39254 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 02:35:39255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 9.7003ms
[29-06-2024 02:35:39256 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:39256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 13.4743ms
[29-06-2024 02:35:41296 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 02:35:41297 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:41297 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.364ms
[29-06-2024 02:35:41298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:35:41299 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:41300 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:35:41300 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:41304 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:41306 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:35:41307 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:35:41308 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:35:41310 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:35:41312 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:41314 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:41314 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 13.5793ms
[29-06-2024 02:35:41315 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:35:41315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 17.2363ms
[29-06-2024 02:35:42249 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:35:42250 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:42251 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:35:42251 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:42255 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:42257 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:35:42258 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:35:42260 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:35:42261 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:35:42263 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:42265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:42265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 13.5576ms
[29-06-2024 02:35:42266 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:35:42266 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 16.9132ms
[29-06-2024 02:35:46997 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:46998 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:46998 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3364ms
[29-06-2024 02:35:46999 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:47000 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:47001 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 02:35:47001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:47008 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:47010 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:35:47013 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 02:35:47014 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:47017 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:47017 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 15.6336ms
[29-06-2024 02:35:47017 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 02:35:47018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.8694ms
[29-06-2024 02:35:49427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:49428 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:49428 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:49429 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:49436 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:49439 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:49439 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.8494ms
[29-06-2024 02:35:49440 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:49440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.5944ms
[29-06-2024 02:35:49467 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:35:49468 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:49469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.8071ms
[29-06-2024 02:35:49470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:35:49471 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:49472 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:49472 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:35:49479 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:35:49483 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:35:49486 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:35:49487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 02:35:49487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 14.0344ms
[29-06-2024 02:35:49488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:49488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 18.0544ms
[29-06-2024 02:35:51128 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/25""" - null null
[29-06-2024 02:35:51129 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:51129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/25""" - 204 null null 1.5826ms
[29-06-2024 02:35:51130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/25""" - null null
[29-06-2024 02:35:51131 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:51132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 02:35:51134 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:35:51139 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:35:51141 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:35:51146 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:35:51154 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[29-06-2024 02:35:51155 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 25 from wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:35:51156 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:35:51156 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 21.6518ms
[29-06-2024 02:35:51157 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 02:35:51157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/25""" - 200 null "application/json; charset=utf-8" 26.8044ms
[29-06-2024 02:35:51160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:35:51161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:51161 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:51162 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:35:51165 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:35:51168 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:35:51170 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 1 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:35:51171 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 02:35:51171 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 8.8708ms
[29-06-2024 02:35:51172 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:51172 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 12.382ms
[29-06-2024 02:35:51701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/37""" - null null
[29-06-2024 02:35:51702 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:51703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/37""" - 204 null null 1.4021ms
[29-06-2024 02:35:51703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/37""" - null null
[29-06-2024 02:35:51705 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:51705 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 02:35:51705 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:35:51709 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:35:51711 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:35:51712 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:35:51714 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[29-06-2024 02:35:51715 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 37 from wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:35:51715 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:35:51716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 9.8779ms
[29-06-2024 02:35:51716 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 02:35:51717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/37""" - 200 null "application/json; charset=utf-8" 13.8398ms
[29-06-2024 02:35:51720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 02:35:51721 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:51721 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:51722 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 02:35:51725 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:35:51727 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 02:35:51730 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 02:35:51730 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 02:35:51731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 8.4135ms
[29-06-2024 02:35:51731 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 02:35:51732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 11.9472ms
[29-06-2024 02:35:54697 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:54698 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:54698 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6739ms
[29-06-2024 02:35:54699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:35:54700 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:54701 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:54701 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:35:54706 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:35:54710 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:35:54710 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.4418ms
[29-06-2024 02:35:54711 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:35:54711 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.3237ms
[29-06-2024 02:35:54718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:35:54719 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:35:54720 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:35:54720 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:35:54731 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:35:54740 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:35:54741 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 20.4238ms
[29-06-2024 02:35:54742 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:35:54742 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 24.1239ms
[29-06-2024 02:38:38827 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:38:38831 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:38:38831 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.1577ms
[29-06-2024 02:38:38834 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:38:38836 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:38:38837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:38:38837 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:38:38846 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:38:38849 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:38:38849 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.6769ms
[29-06-2024 02:38:38850 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:38:38851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.5655ms
[29-06-2024 02:38:38865 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:38:38866 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:38:38867 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:38:38867 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:38:38879 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:38:38886 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:38:38887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 19.6664ms
[29-06-2024 02:38:38888 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:38:38888 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 23.2447ms
[29-06-2024 02:38:53524 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:38:53525 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:38:53525 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4274ms
[29-06-2024 02:38:53529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:38:53530 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:38:53531 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:38:53531 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:38:53535 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:38:53538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:38:53539 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.8638ms
[29-06-2024 02:38:53539 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:38:53540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.6067ms
[29-06-2024 02:38:53566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:38:53567 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:38:53567 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:38:53568 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:38:53575 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:38:53583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:38:53585 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 16.4368ms
[29-06-2024 02:38:53619 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:38:53620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 54.6587ms
[29-06-2024 02:39:03952 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:39:03953 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:39:03954 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6649ms
[29-06-2024 02:39:03955 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:39:03956 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:39:03956 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:39:03957 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:39:03965 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:39:03968 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:39:03969 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.8846ms
[29-06-2024 02:39:03970 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:39:03971 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 15.9099ms
[29-06-2024 02:39:03989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:39:03990 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:39:03990 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:39:03991 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:39:04003 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:39:04009 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:39:04010 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 18.8272ms
[29-06-2024 02:39:04011 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:39:04011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 22.6903ms
[29-06-2024 02:39:20319 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:39:20320 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:39:20320 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.639ms
[29-06-2024 02:39:20321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:39:20322 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:39:20323 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:39:20323 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:39:20331 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:39:20334 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:39:20335 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.6959ms
[29-06-2024 02:39:20335 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:39:20336 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.9205ms
[29-06-2024 02:39:20357 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:39:20358 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:39:20359 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:39:20359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:39:20373 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:39:20379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:39:20380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 20.236ms
[29-06-2024 02:39:20381 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:39:20381 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 23.8775ms
[29-06-2024 02:39:56302 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:39:56305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:39:56306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.8689ms
[29-06-2024 02:39:56308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:39:56310 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:39:56312 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:39:56312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:39:56317 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:39:56321 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:39:56322 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.4416ms
[29-06-2024 02:39:56322 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:39:56323 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.5434ms
[29-06-2024 02:39:56334 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:39:56335 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:39:56335 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:39:56335 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:39:56341 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:39:56348 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:39:56349 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 13.4423ms
[29-06-2024 02:39:56350 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:39:56351 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.9441ms
[29-06-2024 02:41:11264 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:41:11268 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:11268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.7064ms
[29-06-2024 02:41:11272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:41:11274 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:11275 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:41:11276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:41:11285 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:41:11289 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:41:11289 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.735ms
[29-06-2024 02:41:11290 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:41:11291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.8748ms
[29-06-2024 02:41:11308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:41:11310 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:11310 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:41:11311 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:41:11329 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:41:11343 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:41:11344 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 32.8239ms
[29-06-2024 02:41:11345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:41:11346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 37.6849ms
[29-06-2024 02:41:13048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:41:13049 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:13049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:41:13049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.5172ms
[29-06-2024 02:41:13053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:41:13054 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:13056 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:13056 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.9399ms
[29-06-2024 02:41:13057 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:41:13057 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:41:13058 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:13059 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 02:41:13059 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:41:13060 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:41:13064 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 02:41:13095 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:41:13096 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 36.1668ms
[29-06-2024 02:41:13096 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:41:13097 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 43.9552ms
[29-06-2024 02:41:13099 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:41:13101 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 02:41:13101 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 40.2962ms
[29-06-2024 02:41:13102 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:41:13102 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 44.9932ms
[29-06-2024 02:41:13923 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:41:13924 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:13924 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:41:13925 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:41:13928 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:41:13931 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:41:13932 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.3281ms
[29-06-2024 02:41:13932 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:41:13933 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.035ms
[29-06-2024 02:41:13950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:41:13951 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:13951 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:41:13952 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:41:13958 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:41:13964 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:41:13965 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.5678ms
[29-06-2024 02:41:13966 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:41:13966 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.4854ms
[29-06-2024 02:41:39008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:41:39011 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:39012 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.1042ms
[29-06-2024 02:41:39015 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:41:39017 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:39017 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:41:39018 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:41:39026 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:41:39030 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:41:39031 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.3687ms
[29-06-2024 02:41:39031 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:41:39032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.7764ms
[29-06-2024 02:41:39038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:41:39039 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:39040 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:41:39040 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:41:39072 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:41:39078 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:41:39079 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 37.5118ms
[29-06-2024 02:41:39083 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:41:39084 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 45.5287ms
[29-06-2024 02:41:46685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:41:46686 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:46686 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4953ms
[29-06-2024 02:41:46687 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:41:46688 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:46689 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:41:46689 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:41:46693 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:41:46696 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:41:46697 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9099ms
[29-06-2024 02:41:46697 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:41:46698 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.5159ms
[29-06-2024 02:41:46710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:41:46712 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:41:46712 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:41:46712 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:41:46718 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:41:46727 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:41:46730 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 16.7976ms
[29-06-2024 02:41:46733 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:41:46734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 23.1938ms
[29-06-2024 02:43:54857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:43:54862 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:43:54863 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.9732ms
[29-06-2024 02:43:54866 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:43:54867 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:43:54868 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:43:54869 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:43:54881 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:43:54885 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:43:54886 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 16.1852ms
[29-06-2024 02:43:54887 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:43:54892 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 26.1165ms
[29-06-2024 02:43:54928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:43:54929 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:43:54930 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:43:54930 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:43:54943 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:43:54950 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:43:54952 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 21.1635ms
[29-06-2024 02:43:54957 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:43:54957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 29.1286ms
[29-06-2024 02:44:29158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 02:44:29162 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:44:29162 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 3.97ms
[29-06-2024 02:44:29163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:44:29164 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:44:29164 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:44:29164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:44:29168 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:29171 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:44:29172 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:44:29174 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:44:29177 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:44:29181 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:29184 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:44:29184 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 18.9678ms
[29-06-2024 02:44:29185 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:44:29185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 22.4436ms
[29-06-2024 02:44:29608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:44:29609 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:44:29609 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:44:29610 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:44:29613 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:29618 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:44:29620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:44:29622 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:44:29623 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:44:29625 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:29627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:44:29627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 16.961ms
[29-06-2024 02:44:29628 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:44:29628 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 20.3479ms
[29-06-2024 02:44:30790 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:44:30791 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:44:30791 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:44:30792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:44:30795 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:30797 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:44:30798 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:44:30799 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:44:30801 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:44:30802 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:30804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:44:30805 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.3462ms
[29-06-2024 02:44:30805 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:44:30805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.6873ms
[29-06-2024 02:44:31289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 02:44:31290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:44:31290 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:44:31291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:44:31294 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:31296 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:44:31297 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:44:31298 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:44:31299 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:44:31301 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:31303 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:44:31304 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.4484ms
[29-06-2024 02:44:31304 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:44:31305 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.8995ms
[29-06-2024 02:44:37342 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:44:37343 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:44:37343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4149ms
[29-06-2024 02:44:37344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:44:37345 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:44:37346 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 02:44:37346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:44:37353 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:37356 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:44:37359 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p2;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p3;"
[29-06-2024 02:44:37361 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:44:37364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:44:37364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 17.582ms
[29-06-2024 02:44:37365 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 02:44:37365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 21.4029ms
[29-06-2024 02:46:13208 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:46:13211 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:46:13212 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.8804ms
[29-06-2024 02:46:13213 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:46:13217 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:46:13217 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:46:13217 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:46:13224 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:46:13227 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:46:13227 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.2054ms
[29-06-2024 02:46:13228 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:46:13228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 15.5818ms
[29-06-2024 02:46:13260 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:46:13261 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:46:13262 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:46:13262 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:46:13276 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:46:13284 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:46:13286 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 22.8065ms
[29-06-2024 02:46:13289 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:46:13290 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 29.415ms
[29-06-2024 02:55:55882 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 02:55:56035 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 02:55:56036 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 02:55:56037 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 02:55:56038 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 02:55:56038 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 02:55:56879 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 02:55:56992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 116.4385ms
[29-06-2024 02:55:57014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 02:55:57014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 02:55:57014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 02:55:57021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 5.9538ms
[29-06-2024 02:55:57027 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 02:55:57028 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 13.6494ms
[29-06-2024 02:55:57045 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.4408ms
[29-06-2024 02:55:57076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 02:55:57079 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 02:55:57079 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.9309ms
[29-06-2024 02:55:57111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 02:55:57217 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 106.3282ms
[29-06-2024 02:56:12192 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 69
[29-06-2024 02:56:12195 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:56:12244 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 02:56:12257 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:56:13402 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 02:56:13544 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 02:56:13572 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 02:56:13579 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 02:56:13642 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 02:56:13651 +03:00 Project_Keystone.Core.Services.AuthService ] User "admin@example.com" logged in successfully.
[29-06-2024 02:56:13655 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 02:56:13659 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1400.2327ms
[29-06-2024 02:56:13660 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 02:56:13665 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1473.2308ms
[29-06-2024 02:56:24603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Basket""" - null null
[29-06-2024 02:56:24634 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:56:24637 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:56:24724 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:56:24725 +03:00 Project_Keystone.Core.Services.BasketService ] Basket not found for user 720f3eff-b608-4633-801e-ada6b4e7b2f4. Creating a new one.
[29-06-2024 02:56:24762 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKETS] ([CREATED_AT], [UPDATED_AT], [USER_ID])
OUTPUT INSERTED.[BASKET_ID]
VALUES (@p0, @p1, @p2);"
[29-06-2024 02:56:24778 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:56:24784 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 146.4228ms
[29-06-2024 02:56:24785 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:56:24785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Basket""" - 200 null "application/json; charset=utf-8" 182.5837ms
[29-06-2024 02:56:34576 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Basket/items/add""" - "application/json" 37
[29-06-2024 02:56:34577 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:56:34580 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:56:34582 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:56:34598 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:56:34614 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 02:56:34634 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 02:56:34643 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:56:34666 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 02:56:34672 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:56:34676 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:56:34679 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 95.9091ms
[29-06-2024 02:56:34679 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 02:56:34680 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Basket/items/add""" - 200 null "application/json; charset=utf-8" 104.4776ms
[29-06-2024 02:57:14969 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Orders""" - "application/json" 134
[29-06-2024 02:57:14970 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:57:14972 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 02:57:14974 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateOrder\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] CreateOrder(Project_Keystone.Api.Models.DTOs.OrderDTOs.CreateOrderDTO)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 02:57:14984 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 02:57:14988 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:57:15015 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 02:57:15039 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (Size = 450), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
INSERT INTO [ORDERS] ([CITY], [COUNTRY], [ORDER_DATE], [STREET_ADDRESS], [TOTAL_AMOUNT], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ORDER_ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[29-06-2024 02:57:15043 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p8='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ORDER_DETAILS] ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL])
OUTPUT INSERTED.[ORDER_DETAIL_ID]
VALUES (@p8, @p9, @p10, @p11, @p12);"
[29-06-2024 02:57:15058 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO"'.
[29-06-2024 02:57:15074 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)" in 99.9423ms
[29-06-2024 02:57:15075 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 02:57:15075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Orders""" - 201 null "application/json; charset=utf-8" 106.1255ms
[29-06-2024 02:57:24546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:57:24550 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:57:24551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:57:24554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:57:24583 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 02:57:24598 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:57:24636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:57:24653 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 97.8165ms
[29-06-2024 02:57:24654 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:57:24655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 109.7042ms
[29-06-2024 02:57:38488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:57:38490 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:57:38490 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:57:38491 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:57:38498 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:57:38508 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:57:38509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 17.6018ms
[29-06-2024 02:57:38510 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:57:38510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 22.2033ms
[29-06-2024 02:58:04756 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:58:04760 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:04760 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:58:04761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:58:04776 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:58:04782 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:58:04783 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 21.5467ms
[29-06-2024 02:58:04783 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:58:04784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 28.3094ms
[29-06-2024 02:58:19780 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 02:58:19781 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:19782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 2.1764ms
[29-06-2024 02:58:19783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 60
[29-06-2024 02:58:19784 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:19785 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 02:58:19786 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:58:19793 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 02:58:19857 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 02:58:19860 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 02:58:19862 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 02:58:19865 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 02:58:19866 +03:00 Project_Keystone.Core.Services.AuthService ] User "admin@example.com" logged in successfully.
[29-06-2024 02:58:19866 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 02:58:19867 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 80.5255ms
[29-06-2024 02:58:19867 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 02:58:19868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 85.0375ms
[29-06-2024 02:58:19880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/user""" - null null
[29-06-2024 02:58:19881 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:19881 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/user""" - 204 null null 1.478ms
[29-06-2024 02:58:19882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/user""" - null null
[29-06-2024 02:58:19883 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:19885 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.UserController.GetAllUsers (Project-Keystone)"'
[29-06-2024 02:58:19887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAllUsers\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO]]] GetAllUsers()" on controller "Project_Keystone.Api.Controllers.UserController" ("Project-Keystone").
[29-06-2024 02:58:19900 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName], [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [USERS] AS [u]
LEFT JOIN [ADDRESSES] AS [a] ON [u].[Id] = [a].[USER_ID]"
[29-06-2024 02:58:19911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.UserDTOs.UserDetailedDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:58:19914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.UserController.GetAllUsers (Project-Keystone)" in 26.0146ms
[29-06-2024 02:58:19914 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.UserController.GetAllUsers (Project-Keystone)"'
[29-06-2024 02:58:19915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/user""" - 200 null "application/json; charset=utf-8" 32.4003ms
[29-06-2024 02:58:30450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:58:30451 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:30452 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:58:30452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:58:30459 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:58:30465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:58:30466 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.8376ms
[29-06-2024 02:58:30469 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:58:30470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 20.4749ms
[29-06-2024 02:58:40599 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 02:58:40600 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:40600 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.421ms
[29-06-2024 02:58:40601 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 02:58:40602 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:40603 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 02:58:40603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:58:40614 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 02:58:40682 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 02:58:40684 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 02:58:40685 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 02:58:40687 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 02:58:40688 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 02:58:40689 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 02:58:40689 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 85.0412ms
[29-06-2024 02:58:40689 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 02:58:40690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 88.9415ms
[29-06-2024 02:58:40702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 02:58:40703 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:40703 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:58:40704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 02:58:40709 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 02:58:40716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 02:58:40717 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.3945ms
[29-06-2024 02:58:40717 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 02:58:40718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.0702ms
[29-06-2024 02:58:45815 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:58:45816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:58:45816 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:45817 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:45817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.5403ms
[29-06-2024 02:58:45819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 02:58:45819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 02:58:45818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.0184ms
[29-06-2024 02:58:45823 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:45824 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:45825 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:58:45826 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:58:45827 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 02:58:45828 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 02:58:45836 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 02:58:45842 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 02:58:45842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 02:58:45882 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 02:58:45882 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 53.8418ms
[29-06-2024 02:58:45883 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 02:58:45883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 64.6077ms
[29-06-2024 02:58:45884 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 56.0955ms
[29-06-2024 02:58:45885 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 02:58:45885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 66.772ms
[29-06-2024 02:58:47592 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:58:47593 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:47593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3468ms
[29-06-2024 02:58:47594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:58:47596 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:47596 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:58:47597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:58:47604 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:58:47607 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:58:47607 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.9001ms
[29-06-2024 02:58:47608 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:58:47608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.0377ms
[29-06-2024 02:58:47626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/""" - null null
[29-06-2024 02:58:47627 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:47628 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/""" - 204 null null 1.9434ms
[29-06-2024 02:58:47629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/""" - null null
[29-06-2024 02:58:47631 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:47632 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrderById (Project-Keystone)"'
[29-06-2024 02:58:47635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrderById\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] GetOrderById(Int32)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 02:58:47643 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[29-06-2024 02:58:47658 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrderById (Project-Keystone)" in 22.9088ms
[29-06-2024 02:58:47661 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrderById (Project-Keystone)"'
[29-06-2024 02:58:47662 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/""" - 400 null "application/problem+json; charset=utf-8" 32.9511ms
[29-06-2024 02:58:55896 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:58:55897 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:55897 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4535ms
[29-06-2024 02:58:55899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 02:58:55900 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:55900 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:58:55901 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 02:58:55909 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 02:58:55913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 02:58:55913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.0739ms
[29-06-2024 02:58:55914 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 02:58:55915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.1233ms
[29-06-2024 02:58:55937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/""" - null null
[29-06-2024 02:58:55938 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:55938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/""" - 204 null null 1.4204ms
[29-06-2024 02:58:55940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/""" - null null
[29-06-2024 02:58:55941 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 02:58:55942 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrderById (Project-Keystone)"'
[29-06-2024 02:58:55942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrderById\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] GetOrderById(Int32)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 02:58:55949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[29-06-2024 02:58:55949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrderById (Project-Keystone)" in 6.6502ms
[29-06-2024 02:58:55950 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrderById (Project-Keystone)"'
[29-06-2024 02:58:55950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/""" - 400 null "application/problem+json; charset=utf-8" 10.8885ms
[29-06-2024 03:01:46537 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[29-06-2024 03:01:46540 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:01:46541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 03:01:46541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:01:46546 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:01:46604 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 03:01:46606 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 03:01:46607 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:01:46611 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 03:01:46612 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 03:01:46612 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 03:01:46612 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 70.8653ms
[29-06-2024 03:01:46613 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 03:01:46613 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 75.9209ms
[29-06-2024 03:01:55696 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Basket""" - null null
[29-06-2024 03:01:55697 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:01:55697 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:01:55704 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:01:55706 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:01:55707 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.9911ms
[29-06-2024 03:01:55707 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:01:55708 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Basket""" - 200 null "application/json; charset=utf-8" 12.1199ms
[29-06-2024 03:02:00601 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Basket/items/add""" - "application/json" 37
[29-06-2024 03:02:00602 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:00603 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:02:00603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:02:00607 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:02:00609 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 03:02:00611 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 03:02:00613 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:02:00616 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 03:02:00620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:02:00623 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:02:00623 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 19.1616ms
[29-06-2024 03:02:00623 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:02:00624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Basket/items/add""" - 200 null "application/json; charset=utf-8" 22.7777ms
[29-06-2024 03:02:12380 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Orders""" - "application/json" 133
[29-06-2024 03:02:12381 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:12381 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 03:02:12382 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateOrder\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] CreateOrder(Project_Keystone.Api.Models.DTOs.OrderDTOs.CreateOrderDTO)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:02:12386 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:02:12390 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:02:12393 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:02:12396 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (Size = 450), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
INSERT INTO [ORDERS] ([CITY], [COUNTRY], [ORDER_DATE], [STREET_ADDRESS], [TOTAL_AMOUNT], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ORDER_ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[29-06-2024 03:02:12397 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p8='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ORDER_DETAILS] ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL])
OUTPUT INSERTED.[ORDER_DETAIL_ID]
VALUES (@p8, @p9, @p10, @p11, @p12);"
[29-06-2024 03:02:12401 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO"'.
[29-06-2024 03:02:12401 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)" in 19.114ms
[29-06-2024 03:02:12402 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 03:02:12402 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Orders""" - 201 null "application/json; charset=utf-8" 22.6088ms
[29-06-2024 03:02:24391 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Orders/user/user@example.com""" - null null
[29-06-2024 03:02:24392 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:02:24394 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:02:24399 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:02:24412 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:02:24417 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:02:24417 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 22.9177ms
[29-06-2024 03:02:24418 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:02:24418 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 27.7401ms
[29-06-2024 03:02:31934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:02:31935 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:31935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5188ms
[29-06-2024 03:02:31936 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:02:31937 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:31938 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:02:31938 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:02:31943 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:02:31946 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:02:31946 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.3216ms
[29-06-2024 03:02:31947 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:02:31947 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.1948ms
[29-06-2024 03:02:31956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:02:31957 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:31957 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:02:31958 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:02:31969 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:02:31975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:02:31976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 17.4516ms
[29-06-2024 03:02:31976 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:02:31977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.0322ms
[29-06-2024 03:02:32444 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:02:32445 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:32446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:02:32450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 6.2103ms
[29-06-2024 03:02:32459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:02:32459 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:32462 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:32462 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 16.2643ms
[29-06-2024 03:02:32463 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:02:32464 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:02:32465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:02:32466 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:32467 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:02:32467 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:02:32473 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:02:32505 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:02:32506 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 39.4103ms
[29-06-2024 03:02:32506 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:02:32507 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 49.0352ms
[29-06-2024 03:02:32508 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:02:32510 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:02:32511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 39.0829ms
[29-06-2024 03:02:32511 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:02:32512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 47.9076ms
[29-06-2024 03:02:34041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:02:34042 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:34043 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:02:34043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:02:34047 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:02:34050 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:02:34051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.2653ms
[29-06-2024 03:02:34052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:02:34052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.8084ms
[29-06-2024 03:02:34086 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/""" - null null
[29-06-2024 03:02:34088 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:34088 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/""" - 204 null null 1.7071ms
[29-06-2024 03:02:34089 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/""" - null null
[29-06-2024 03:02:34090 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:02:34091 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrderById (Project-Keystone)"'
[29-06-2024 03:02:34091 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrderById\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] GetOrderById(Int32)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:02:34094 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[29-06-2024 03:02:34095 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrderById (Project-Keystone)" in 3.06ms
[29-06-2024 03:02:34095 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrderById (Project-Keystone)"'
[29-06-2024 03:02:34095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/""" - 400 null "application/problem+json; charset=utf-8" 6.7129ms
[29-06-2024 03:16:17917 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:16:17921 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:17921 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:16:17922 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:16:17944 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:16:17981 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:16:17982 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 59.9354ms
[29-06-2024 03:16:17983 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:16:17984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 67.1276ms
[29-06-2024 03:16:27672 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:16:27673 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:27673 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:16:27674 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:16:27685 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:16:27691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:16:27692 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 17.3651ms
[29-06-2024 03:16:27695 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:16:27695 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 23.363ms
[29-06-2024 03:16:37493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 03:16:37494 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:37495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.39ms
[29-06-2024 03:16:37496 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 03:16:37497 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:37497 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 03:16:37498 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:16:37502 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:16:37571 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 03:16:37573 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 03:16:37574 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:16:37578 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 03:16:37579 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 03:16:37580 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 03:16:37580 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 82.18ms
[29-06-2024 03:16:37581 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 03:16:37581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 85.6855ms
[29-06-2024 03:16:37595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:16:37596 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:37596 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:16:37597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:16:37602 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:16:37607 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:16:37608 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.8072ms
[29-06-2024 03:16:37609 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:16:37609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.7711ms
[29-06-2024 03:16:38491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:16:38492 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:16:38492 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:38493 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:38493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.2174ms
[29-06-2024 03:16:38495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:16:38493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.4268ms
[29-06-2024 03:16:38494 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:16:38498 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:38500 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:38501 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:16:38501 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:16:38501 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:16:38501 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:16:38505 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:16:38509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:16:38509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.8479ms
[29-06-2024 03:16:38510 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:16:38512 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:16:38512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 17.1805ms
[29-06-2024 03:16:38538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:16:38539 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 36.4309ms
[29-06-2024 03:16:38539 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:16:38539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 45.0984ms
[29-06-2024 03:16:40837 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:16:40838 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:40838 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3885ms
[29-06-2024 03:16:40840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:16:40841 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:40841 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:16:40842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:16:40848 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:16:40851 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:16:40852 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.4412ms
[29-06-2024 03:16:40852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:16:40853 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.1964ms
[29-06-2024 03:16:40892 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:16:40893 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:40893 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:16:40894 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:16:40897 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:16:40900 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:16:40900 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.6269ms
[29-06-2024 03:16:40900 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:16:40901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:16:40901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.01ms
[29-06-2024 03:16:40902 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:40903 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:16:40904 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:16:40907 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:16:40909 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:16:40909 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.2934ms
[29-06-2024 03:16:40910 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:16:40910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.7574ms
[29-06-2024 03:16:40913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:16:40914 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:40915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.4472ms
[29-06-2024 03:16:40915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:16:40917 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:16:40917 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:16:40917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:16:40921 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:16:40926 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:16:40930 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:16:40930 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 12.4854ms
[29-06-2024 03:16:40931 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:16:40931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 15.8605ms
[29-06-2024 03:17:56414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:17:56417 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:17:56418 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.0095ms
[29-06-2024 03:17:56420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:17:56422 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:17:56423 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:17:56423 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:17:56429 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:17:56432 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:17:56432 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.9494ms
[29-06-2024 03:17:56433 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:17:56434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.9704ms
[29-06-2024 03:17:56453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:17:56453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:17:56457 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:17:56458 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:17:56458 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.3345ms
[29-06-2024 03:17:56458 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.4227ms
[29-06-2024 03:17:56459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:17:56461 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:17:56462 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:17:56462 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:17:56466 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:17:56468 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:17:56468 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.5172ms
[29-06-2024 03:17:56468 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:17:56469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:17:56469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.7352ms
[29-06-2024 03:17:56470 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:17:56471 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:17:56472 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:17:56475 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:17:56477 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:17:56477 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.0773ms
[29-06-2024 03:17:56478 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:17:56478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.6234ms
[29-06-2024 03:17:56480 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:17:56481 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:17:56481 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.4042ms
[29-06-2024 03:17:56482 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:17:56483 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:17:56483 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:17:56483 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:17:56487 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:17:56491 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:17:56495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:17:56495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 11.2944ms
[29-06-2024 03:17:56496 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:17:56496 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 14.708ms
[29-06-2024 03:18:05680 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:18:05681 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:18:05681 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5146ms
[29-06-2024 03:18:05682 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:18:05683 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:18:05684 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:18:05684 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:18:05688 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:18:05690 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:18:05691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.432ms
[29-06-2024 03:18:05691 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:18:05692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.9244ms
[29-06-2024 03:18:05709 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:18:05709 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:18:05710 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:18:05711 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:18:05711 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.6363ms
[29-06-2024 03:18:05712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.6288ms
[29-06-2024 03:18:05712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:18:05714 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:18:05715 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:18:05715 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:18:05719 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:18:05721 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:18:05721 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.3309ms
[29-06-2024 03:18:05722 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:18:05722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:18:05722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.842ms
[29-06-2024 03:18:05723 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:18:05724 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:18:05725 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:18:05728 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:18:05730 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:18:05730 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.1344ms
[29-06-2024 03:18:05731 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:18:05731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.9052ms
[29-06-2024 03:18:05733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:18:05734 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:18:05734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.1074ms
[29-06-2024 03:18:05734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:18:05736 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:18:05736 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:18:05737 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:18:05740 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:18:05742 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:18:05745 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:18:05746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 8.3619ms
[29-06-2024 03:18:05746 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:18:05746 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 12.0322ms
[29-06-2024 03:19:08948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:19:08952 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:08952 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.8046ms
[29-06-2024 03:19:08955 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:19:08957 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:08960 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:19:08961 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:19:08969 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:19:08970 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:19:08970 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:19:08974 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:08975 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:08975 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.2337ms
[29-06-2024 03:19:08975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:19:08975 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.9083ms
[29-06-2024 03:19:08980 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 18.518ms
[29-06-2024 03:19:08978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:19:08981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:19:08982 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:08983 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 28.1839ms
[29-06-2024 03:19:08984 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:19:08985 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:19:08989 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:19:08990 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:19:08991 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.4948ms
[29-06-2024 03:19:08991 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:19:08991 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:19:08992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.6921ms
[29-06-2024 03:19:08993 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:19:08993 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:08994 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:08995 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:19:08995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.5522ms
[29-06-2024 03:19:08995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:19:08995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:19:08997 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:08998 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:19:08998 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:19:09000 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:19:09002 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:19:09003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.7712ms
[29-06-2024 03:19:09003 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:19:09004 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:19:09005 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.8854ms
[29-06-2024 03:19:09008 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:19:09011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:19:09012 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 13.2191ms
[29-06-2024 03:19:09013 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:19:09013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 17.626ms
[29-06-2024 03:19:20883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:19:20884 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:20885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.354ms
[29-06-2024 03:19:20885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:19:20887 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:20887 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:19:20888 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:19:20891 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:19:20894 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:19:20894 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.2346ms
[29-06-2024 03:19:20895 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:19:20896 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.1809ms
[29-06-2024 03:19:20912 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:19:20912 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:19:20913 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:20914 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:20914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.498ms
[29-06-2024 03:19:20914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.3287ms
[29-06-2024 03:19:20915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:19:20917 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:20918 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:19:20918 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:19:20922 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:19:20924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:19:20924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.4199ms
[29-06-2024 03:19:20925 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:19:20925 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:19:20925 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.2515ms
[29-06-2024 03:19:20926 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:20927 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:19:20928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:19:20931 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:19:20933 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:19:20933 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.0736ms
[29-06-2024 03:19:20934 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:19:20934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.2484ms
[29-06-2024 03:19:20935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:19:20936 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:20936 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.1286ms
[29-06-2024 03:19:20937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:19:20938 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:19:20939 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:19:20939 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:19:20942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:19:20944 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:19:20948 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:19:20948 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 8.533ms
[29-06-2024 03:19:20948 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:19:20949 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 11.9587ms
[29-06-2024 03:20:20621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:20:20625 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:20625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.9806ms
[29-06-2024 03:20:20628 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:20:20629 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:20630 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:20630 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:20:20638 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:20:20641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:20:20641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.4145ms
[29-06-2024 03:20:20642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:20642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.82ms
[29-06-2024 03:20:20650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:20650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:20654 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:20655 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:20655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.3928ms
[29-06-2024 03:20:20655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.4383ms
[29-06-2024 03:20:20656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:20658 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:20658 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:20659 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:20663 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:20665 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:20665 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.6423ms
[29-06-2024 03:20:20666 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:20666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:20666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.1268ms
[29-06-2024 03:20:20667 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:20668 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:20668 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:20672 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:20674 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:20674 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.1648ms
[29-06-2024 03:20:20675 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:20675 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.2921ms
[29-06-2024 03:20:20676 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:20:20677 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:20677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.2967ms
[29-06-2024 03:20:20678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:20:20679 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:20679 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:20680 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:20:20684 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:20:20687 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:20:20691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:20:20691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 10.8619ms
[29-06-2024 03:20:20692 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:20692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 13.9698ms
[29-06-2024 03:20:31798 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:20:31798 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:31799 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1699ms
[29-06-2024 03:20:31799 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:20:31801 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:31801 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:31802 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:20:31805 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:20:31808 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:20:31808 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.277ms
[29-06-2024 03:20:31809 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:31810 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.4167ms
[29-06-2024 03:20:31826 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:31826 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:31827 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:31827 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:31828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.31ms
[29-06-2024 03:20:31828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.2577ms
[29-06-2024 03:20:31829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:31831 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:31831 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:31831 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:31835 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:31837 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:31837 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.3744ms
[29-06-2024 03:20:31838 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:31838 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:31839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.0592ms
[29-06-2024 03:20:31839 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:31841 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:31841 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:31844 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:31846 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:31847 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.1488ms
[29-06-2024 03:20:31847 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:31848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.5305ms
[29-06-2024 03:20:31849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:20:31850 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:31850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.1515ms
[29-06-2024 03:20:31851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:20:31852 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:31852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:31853 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:20:31857 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:20:31858 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:20:31862 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:20:31862 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 9.0381ms
[29-06-2024 03:20:31863 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:31863 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 12.9335ms
[29-06-2024 03:20:46551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:20:46552 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:46552 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1546ms
[29-06-2024 03:20:46553 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:20:46554 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:46554 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:46555 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:20:46558 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:20:46561 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:20:46561 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.0875ms
[29-06-2024 03:20:46562 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:46562 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.8361ms
[29-06-2024 03:20:46578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:46578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:46579 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:46580 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:46580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.2686ms
[29-06-2024 03:20:46580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.2115ms
[29-06-2024 03:20:46581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:46583 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:46583 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:46583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:46587 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:46589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:46589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.2476ms
[29-06-2024 03:20:46590 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:46590 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:46590 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.5267ms
[29-06-2024 03:20:46591 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:46592 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:46593 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:46596 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:46597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:46598 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 4.7479ms
[29-06-2024 03:20:46598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:46599 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.8242ms
[29-06-2024 03:20:46600 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:20:46601 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:46601 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.0554ms
[29-06-2024 03:20:46601 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:20:46603 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:46603 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:46603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:20:46607 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:20:46608 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:20:46612 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:20:46612 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 8.1535ms
[29-06-2024 03:20:46613 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:46613 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 11.615ms
[29-06-2024 03:20:50055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:20:50056 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:50057 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:50057 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:20:50064 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:20:50067 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:20:50068 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.5354ms
[29-06-2024 03:20:50068 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:50069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.7433ms
[29-06-2024 03:20:50072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:50073 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:50074 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:50074 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:50079 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:50081 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:50081 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.4382ms
[29-06-2024 03:20:50082 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:50082 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:50083 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.4786ms
[29-06-2024 03:20:50084 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:50085 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:50086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:50091 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:50093 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:50094 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.7085ms
[29-06-2024 03:20:50094 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:50095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.6304ms
[29-06-2024 03:20:50096 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:20:50097 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:50098 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:50098 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:20:50102 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:20:50106 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:20:50110 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:20:50110 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 11.7052ms
[29-06-2024 03:20:50111 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:50111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 15.1101ms
[29-06-2024 03:20:55679 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:20:55680 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:55680 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3662ms
[29-06-2024 03:20:55681 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:20:55682 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:55682 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:55683 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:20:55689 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:20:55692 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:20:55693 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.5154ms
[29-06-2024 03:20:55694 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:20:55694 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.5515ms
[29-06-2024 03:20:55696 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:55696 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:55697 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:55698 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:55698 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.0438ms
[29-06-2024 03:20:55698 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.0623ms
[29-06-2024 03:20:55699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:55701 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:55702 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:55702 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:55707 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:55708 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:55709 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.491ms
[29-06-2024 03:20:55710 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:55710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:20:55710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.3149ms
[29-06-2024 03:20:55711 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:55712 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:55713 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:20:55716 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:20:55719 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:20:55719 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.9388ms
[29-06-2024 03:20:55720 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:20:55720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.5482ms
[29-06-2024 03:20:55722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:20:55723 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:55723 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.2333ms
[29-06-2024 03:20:55724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:20:55725 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:20:55725 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:55726 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:20:55730 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:20:55734 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:20:55737 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:20:55738 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 11.6973ms
[29-06-2024 03:20:55738 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:20:55739 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 15.2388ms
[29-06-2024 03:21:10435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:21:10436 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:10437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4201ms
[29-06-2024 03:21:10437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:21:10439 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:10439 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:21:10439 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:21:10443 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:21:10446 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:21:10446 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.9366ms
[29-06-2024 03:21:10447 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:21:10447 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.738ms
[29-06-2024 03:21:10489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:10490 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:10490 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:10491 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:10491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4541ms
[29-06-2024 03:21:10492 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:10492 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.1693ms
[29-06-2024 03:21:10494 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:10495 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:10496 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:21:10499 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:21:10501 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:21:10502 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.3763ms
[29-06-2024 03:21:10502 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:10503 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:10503 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.5241ms
[29-06-2024 03:21:10504 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:10505 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:10505 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:21:10509 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:21:10510 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:21:10511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.1411ms
[29-06-2024 03:21:10511 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:10512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.2569ms
[29-06-2024 03:21:10514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:21:10515 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:10515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.2919ms
[29-06-2024 03:21:10516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:21:10517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:10517 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:21:10518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:21:10521 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:21:10522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:21:10526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:21:10526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 7.9141ms
[29-06-2024 03:21:10526 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:21:10527 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 11.0324ms
[29-06-2024 03:21:21654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:21:21655 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:21655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3786ms
[29-06-2024 03:21:21656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:21:21657 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:21657 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:21:21658 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:21:21663 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:21:21666 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:21:21667 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.1848ms
[29-06-2024 03:21:21667 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:21:21668 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.6715ms
[29-06-2024 03:21:21703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:21704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:21704 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:21705 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:21706 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4655ms
[29-06-2024 03:21:21706 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.307ms
[29-06-2024 03:21:21707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:21709 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:21709 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:21710 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:21:21716 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:21:21718 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:21:21719 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.2566ms
[29-06-2024 03:21:21719 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:21720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:21720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.1303ms
[29-06-2024 03:21:21721 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:21722 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:21723 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:21:21726 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:21:21728 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:21:21729 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.2368ms
[29-06-2024 03:21:21729 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:21729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.8284ms
[29-06-2024 03:21:21732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:21:21733 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:21733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.2496ms
[29-06-2024 03:21:21734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:21:21735 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:21736 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:21:21736 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:21:21740 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:21:21741 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:21:21745 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:21:21745 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 8.4118ms
[29-06-2024 03:21:21745 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:21:21746 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 11.8045ms
[29-06-2024 03:21:37957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:21:37958 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:37958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4226ms
[29-06-2024 03:21:37959 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:21:37960 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:37961 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:21:37961 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:21:37965 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:21:37968 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:21:37968 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.6725ms
[29-06-2024 03:21:37969 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:21:37969 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.4627ms
[29-06-2024 03:21:38009 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:38010 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:38011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.8269ms
[29-06-2024 03:21:38012 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:38012 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38014 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.5596ms
[29-06-2024 03:21:38015 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:38016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:21:38020 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:21:38022 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:21:38023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.1747ms
[29-06-2024 03:21:38023 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:38023 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:38024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.6568ms
[29-06-2024 03:21:38024 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38026 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:38026 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:21:38030 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:21:38032 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:21:38033 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.7344ms
[29-06-2024 03:21:38033 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:38034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.1809ms
[29-06-2024 03:21:38036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:21:38037 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38037 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.254ms
[29-06-2024 03:21:38038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:21:38039 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38040 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:21:38040 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:21:38043 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:21:38045 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:21:38048 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:21:38049 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 8.3821ms
[29-06-2024 03:21:38049 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:21:38050 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 11.827ms
[29-06-2024 03:21:38914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:21:38915 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38915 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:21:38915 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:21:38919 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:21:38922 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:21:38922 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.3252ms
[29-06-2024 03:21:38923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:21:38923 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.5985ms
[29-06-2024 03:21:38966 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:38967 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:38968 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:21:38973 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:21:38975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:21:38975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.703ms
[29-06-2024 03:21:38976 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:38976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:21:38976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.5051ms
[29-06-2024 03:21:38977 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38978 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:38979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:21:38982 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:21:38984 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:21:38984 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.1612ms
[29-06-2024 03:21:38985 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:21:38985 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.3615ms
[29-06-2024 03:21:38988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:21:38989 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:21:38989 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:21:38989 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:21:38994 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:21:38995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:21:38999 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:21:39000 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 9.497ms
[29-06-2024 03:21:39000 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:21:39000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 12.5515ms
[29-06-2024 03:22:02375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:22:02376 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:02377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5069ms
[29-06-2024 03:22:02378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:22:02379 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:02380 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:22:02380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:22:02388 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:22:02392 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:22:02392 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.4875ms
[29-06-2024 03:22:02393 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:22:02394 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 15.5518ms
[29-06-2024 03:22:02430 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:22:02432 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:22:02432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:02432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:02433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4931ms
[29-06-2024 03:22:02434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.0586ms
[29-06-2024 03:22:02440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:22:02448 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:02449 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:22:02449 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:22:02453 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:22:02455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:22:02455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.8507ms
[29-06-2024 03:22:02456 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:22:02456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:22:02456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 16.4495ms
[29-06-2024 03:22:02457 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:02458 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:22:02459 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:22:02462 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:22:02464 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:22:02465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.3645ms
[29-06-2024 03:22:02465 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:22:02466 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.3544ms
[29-06-2024 03:22:02469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:22:02470 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:02471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.3015ms
[29-06-2024 03:22:02472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:22:02474 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:02475 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:22:02475 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:22:02479 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:22:02483 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:22:02487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:22:02487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 11.6564ms
[29-06-2024 03:22:02488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:22:02488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 16.8378ms
[29-06-2024 03:22:04716 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:22:04717 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:04717 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:22:04718 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:22:04722 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:22:04725 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:22:04725 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9384ms
[29-06-2024 03:22:04726 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:22:04726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.744ms
[29-06-2024 03:22:04752 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:22:04754 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:04754 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:22:04755 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:22:04760 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:22:04764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:22:04764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.7541ms
[29-06-2024 03:22:04765 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:22:04765 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.2664ms
[29-06-2024 03:22:04766 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:22:04768 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:04769 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:22:04769 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:22:04774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:22:04777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:22:04778 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.3964ms
[29-06-2024 03:22:04778 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:22:04779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.5177ms
[29-06-2024 03:22:04783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:22:04784 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:22:04784 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:22:04785 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:22:04788 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:22:04790 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:22:04794 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:22:04794 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 8.9731ms
[29-06-2024 03:22:04795 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:22:04795 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 12.3679ms
[29-06-2024 03:25:32420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:25:32424 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:25:32424 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.0681ms
[29-06-2024 03:25:32427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:25:32430 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:25:32430 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:25:32431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:25:32441 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:25:32444 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:25:32445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.1788ms
[29-06-2024 03:25:32445 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:25:32446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.5572ms
[29-06-2024 03:25:32487 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:25:32488 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:25:32488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.2723ms
[29-06-2024 03:25:32489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:25:32489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:25:32493 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:25:32494 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:25:32495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.6858ms
[29-06-2024 03:25:32495 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:25:32496 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:25:32501 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:25:32503 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:25:32503 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.4635ms
[29-06-2024 03:25:32504 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:25:32504 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:25:32504 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.1073ms
[29-06-2024 03:25:32505 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:25:32506 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:25:32507 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:25:32510 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:25:32513 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:25:32513 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.6949ms
[29-06-2024 03:25:32514 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:25:32514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.0062ms
[29-06-2024 03:25:32517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:25:32518 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:25:32518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.1509ms
[29-06-2024 03:25:32519 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:25:32520 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:25:32520 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:25:32521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:25:32525 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:25:32529 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:25:32533 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:25:32533 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 11.6762ms
[29-06-2024 03:25:32533 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:25:32534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 15.2054ms
[29-06-2024 03:28:00505 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:28:00508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:28:00509 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:28:00510 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:28:00510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 5.3438ms
[29-06-2024 03:28:00510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.7365ms
[29-06-2024 03:28:00514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:28:00514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:28:00519 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:28:00520 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:28:00520 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:28:00520 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:28:00520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:28:00521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:28:00525 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:28:00529 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:28:00529 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.9948ms
[29-06-2024 03:28:00531 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:28:00531 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:28:00544 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 29.9094ms
[29-06-2024 03:28:00556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:28:00557 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 35.7489ms
[29-06-2024 03:28:00558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:28:00558 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 44.3653ms
[29-06-2024 03:28:04408 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:28:04409 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:28:04410 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:28:04410 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:28:04416 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:28:04444 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:28:04445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 34.0567ms
[29-06-2024 03:28:04445 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:28:04446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 37.8763ms
[29-06-2024 03:32:21179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:32:21184 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:32:21184 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:32:21185 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:32:21201 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:32:21220 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:32:21221 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 35.8723ms
[29-06-2024 03:32:21222 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:32:21222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 43.8735ms
[29-06-2024 03:32:30650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:32:30651 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:32:30652 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:32:30652 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:32:30657 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:32:30670 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:32:30671 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 18.813ms
[29-06-2024 03:32:30673 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:32:30674 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 23.6368ms
[29-06-2024 03:32:43843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:32:43844 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:32:43845 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:32:43845 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:32:43850 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:32:43855 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:32:43856 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.3064ms
[29-06-2024 03:32:43857 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:32:43857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.2427ms
[29-06-2024 03:32:53718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 03:32:53719 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:32:53719 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.5796ms
[29-06-2024 03:32:53720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 03:32:53721 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:32:53721 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 03:32:53722 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:32:53726 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:32:53785 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 03:32:53787 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 03:32:53788 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:32:53791 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 03:32:53792 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 03:32:53793 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 03:32:53793 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 70.8822ms
[29-06-2024 03:32:53794 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 03:32:53794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 74.2945ms
[29-06-2024 03:32:53806 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:32:53807 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:32:53807 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:32:53807 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:32:53814 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:32:53820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:32:53821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 13.0359ms
[29-06-2024 03:32:53822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:32:53822 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.5252ms
[29-06-2024 03:32:56118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 03:32:56119 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:32:56119 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.5023ms
[29-06-2024 03:32:56120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 03:32:56121 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:32:56122 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:32:56122 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:32:56128 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:32:56130 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 03:32:56132 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 03:32:56133 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:32:56136 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 03:32:56140 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:32:56142 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:32:56142 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 19.9063ms
[29-06-2024 03:32:56143 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:32:56143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 23.3437ms
[29-06-2024 03:32:56748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 03:32:56749 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:32:56749 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:32:56749 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:32:56755 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:32:56757 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 03:32:56759 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 03:32:56761 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:32:56763 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 03:32:56767 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:32:56770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:32:56770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 20.5813ms
[29-06-2024 03:32:56771 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:32:56771 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 23.6419ms
[29-06-2024 03:33:02002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:33:02003 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:02003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.2797ms
[29-06-2024 03:33:02004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:33:02005 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:02006 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:02006 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:33:02010 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:33:02012 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:33:02013 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.8324ms
[29-06-2024 03:33:02013 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:02014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.4245ms
[29-06-2024 03:33:02016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:02017 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:02017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2859ms
[29-06-2024 03:33:02018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:02019 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:02020 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:02020 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:33:02024 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:33:02050 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:33:02051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 30.1173ms
[29-06-2024 03:33:02051 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:02052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 33.5664ms
[29-06-2024 03:33:44844 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:44847 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:33:44849 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:44850 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:44850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 5.5788ms
[29-06-2024 03:33:44850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.2657ms
[29-06-2024 03:33:44853 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:33:44853 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:44858 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:44859 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:44859 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:44859 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:44859 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:33:44860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:33:44863 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:33:44864 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:33:44868 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:33:44890 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 30.2755ms
[29-06-2024 03:33:44891 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:33:44891 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:44892 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 30.7789ms
[29-06-2024 03:33:44892 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 38.5589ms
[29-06-2024 03:33:44892 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:44894 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 40.1469ms
[29-06-2024 03:33:45946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:45947 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:45947 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:45948 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:33:45951 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:33:45975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:33:45975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 27.0718ms
[29-06-2024 03:33:45976 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:45976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 30.3173ms
[29-06-2024 03:33:48684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - null null
[29-06-2024 03:33:48684 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:48685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - 204 null null 1.3443ms
[29-06-2024 03:33:48685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - "application/json" 104
[29-06-2024 03:33:48687 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:48687 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 03:33:48689 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAddress(Project_Keystone.Api.Models.DTOs.AddressDTos.AddAddressDTO)" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:33:48695 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:33:48702 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ADDRESSES] ([CITY], [COUNTRY], [STREET_ADDRESS], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ADDRESS_ID]
VALUES (@p0, @p1, @p2, @p3, @p4);"
[29-06-2024 03:33:48704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:33:48704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)" in 14.3442ms
[29-06-2024 03:33:48705 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 03:33:48705 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - 200 null "application/json; charset=utf-8" 19.8419ms
[29-06-2024 03:33:48709 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:48710 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:48711 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:48711 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:33:48715 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:33:48718 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:33:48718 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.8008ms
[29-06-2024 03:33:48719 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:48719 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:48720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:33:48720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 10.6408ms
[29-06-2024 03:33:48721 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:48721 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:48723 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:48723 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:48723 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:33:48724 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:33:48727 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:33:48728 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:33:48730 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:33:48730 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.8183ms
[29-06-2024 03:33:48730 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:33:48731 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:48731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.0252ms
[29-06-2024 03:33:48731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.3101ms
[29-06-2024 03:33:48732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:48733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.4849ms
[29-06-2024 03:33:54536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:33:54537 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:54537 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.2964ms
[29-06-2024 03:33:54538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:33:54539 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:54539 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:54540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:33:54543 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:33:54545 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:33:54545 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 4.9758ms
[29-06-2024 03:33:54546 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:54546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.2659ms
[29-06-2024 03:33:54548 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:54549 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:54549 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.1678ms
[29-06-2024 03:33:54550 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:54551 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:54552 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:54552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:33:54555 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:33:54557 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:33:54558 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.186ms
[29-06-2024 03:33:54558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:54559 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 8.7082ms
[29-06-2024 03:33:54561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - null null
[29-06-2024 03:33:54562 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:54562 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - 204 null null 1.1708ms
[29-06-2024 03:33:54563 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - "application/json" 135
[29-06-2024 03:33:54564 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:54564 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 03:33:54565 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateOrder\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] CreateOrder(Project_Keystone.Api.Models.DTOs.OrderDTOs.CreateOrderDTO)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:33:54569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:33:54573 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:33:54575 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:33:54579 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 450), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;
INSERT INTO [ORDERS] ([CITY], [COUNTRY], [ORDER_DATE], [STREET_ADDRESS], [TOTAL_AMOUNT], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ORDER_ID]
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[29-06-2024 03:33:54586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@p9='?' (DbType = Int32), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [ORDER_DETAILS] USING (
VALUES (@p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, 1)) AS i ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL])
VALUES (i.[ORDER_ID], i.[PRICE], i.[PRODUCT_ID], i.[QUANTITY], i.[TOTAL])
OUTPUT INSERTED.[ORDER_DETAIL_ID], i._Position;"
[29-06-2024 03:33:54589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO"'.
[29-06-2024 03:33:54590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)" in 24.633ms
[29-06-2024 03:33:54590 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 03:33:54591 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - 201 null "application/json; charset=utf-8" 27.9468ms
[29-06-2024 03:33:54593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:33:54594 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:54594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3299ms
[29-06-2024 03:33:54595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:33:54596 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:54597 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 03:33:54599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:33:54603 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:33:54605 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:33:54606 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:33:54609 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:33:54609 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 9.7484ms
[29-06-2024 03:33:54610 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 03:33:54610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 15.0253ms
[29-06-2024 03:33:57538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:57538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:33:57539 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:57540 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:57540 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:57541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:57541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:33:57541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:33:57546 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:33:57546 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:33:57548 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:33:57549 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.9368ms
[29-06-2024 03:33:57549 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:33:57549 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:57550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.0486ms
[29-06-2024 03:33:57551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.85ms
[29-06-2024 03:33:57552 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:57553 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 14.9144ms
[29-06-2024 03:33:57620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:33:57622 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:57622 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:33:57622 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:33:57635 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:33:57640 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:33:57641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 18.159ms
[29-06-2024 03:33:57642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:33:57642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.5145ms
[29-06-2024 03:33:58751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:33:58751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:33:58752 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:58753 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:33:58753 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:58753 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:58754 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:33:58754 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:33:58757 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:33:58758 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:33:58760 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:33:58760 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.7548ms
[29-06-2024 03:33:58760 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:33:58761 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:33:58761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.2114ms
[29-06-2024 03:33:58762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 10.7918ms
[29-06-2024 03:33:58762 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:33:58764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.4847ms
[29-06-2024 03:34:00464 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:34:00465 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:00465 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3654ms
[29-06-2024 03:34:00467 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:34:00468 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:00468 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:34:00468 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:34:00473 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:34:00477 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:34:00477 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.2516ms
[29-06-2024 03:34:00478 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:34:00478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.644ms
[29-06-2024 03:34:00537 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:34:00538 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:00538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.6119ms
[29-06-2024 03:34:00539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:34:00540 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:00541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:34:00541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:34:00545 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:34:00547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:34:00547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.1932ms
[29-06-2024 03:34:00547 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:34:00548 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:34:00548 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.8777ms
[29-06-2024 03:34:00549 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:00550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:34:00551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:34:00554 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:34:00556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:34:00557 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.4731ms
[29-06-2024 03:34:00557 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:34:00557 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.7442ms
[29-06-2024 03:34:00560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:34:00561 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:00561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.1365ms
[29-06-2024 03:34:00562 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:34:00563 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:00564 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:34:00564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:34:00568 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:34:00572 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:34:00576 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:34:00576 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 11.3929ms
[29-06-2024 03:34:00577 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:34:00577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 15.2101ms
[29-06-2024 03:34:13918 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:34:13919 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:13920 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5101ms
[29-06-2024 03:34:13921 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:34:13922 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:13923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:34:13923 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:34:13931 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:34:13933 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:34:13934 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.425ms
[29-06-2024 03:34:13935 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:34:13935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.4621ms
[29-06-2024 03:34:13985 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:34:13986 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:34:13986 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:13987 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:13988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.378ms
[29-06-2024 03:34:13988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.2144ms
[29-06-2024 03:34:13989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:34:13989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:34:13991 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:13992 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:13993 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:34:13993 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:34:13993 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:34:13994 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:34:13998 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:34:13999 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:34:14000 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:34:14001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:34:14001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.3893ms
[29-06-2024 03:34:14001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.328ms
[29-06-2024 03:34:14002 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:34:14002 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:34:14003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.7514ms
[29-06-2024 03:34:14003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 14.1238ms
[29-06-2024 03:34:15729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:34:15730 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:15730 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3438ms
[29-06-2024 03:34:15731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:34:15732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:15732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.RemoveAddress (Project-Keystone)"'
[29-06-2024 03:34:15734 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:34:15739 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:34:15743 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ADDRESSES]
OUTPUT 1
WHERE [ADDRESS_ID] = @p0;"
[29-06-2024 03:34:15744 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:34:15744 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.RemoveAddress (Project-Keystone)" in 9.2141ms
[29-06-2024 03:34:15745 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.RemoveAddress (Project-Keystone)"'
[29-06-2024 03:34:15745 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.3115ms
[29-06-2024 03:34:19434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:34:19435 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:19436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.7662ms
[29-06-2024 03:34:19437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:34:19438 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:19438 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:34:19438 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:34:19445 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:34:19451 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:34:19451 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.2769ms
[29-06-2024 03:34:19452 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:34:19453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 15.9024ms
[29-06-2024 03:34:19464 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:34:19466 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:19466 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:34:19467 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:34:19479 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:34:19487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:34:19489 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 21.3752ms
[29-06-2024 03:34:19489 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:34:19490 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 25.4945ms
[29-06-2024 03:34:21233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 03:34:21234 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:21235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.3442ms
[29-06-2024 03:34:21235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 03:34:21237 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:21237 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:34:21237 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:34:21241 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:34:21243 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 03:34:21245 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 03:34:21246 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:34:21248 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 03:34:21252 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:34:21255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:34:21255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 16.8601ms
[29-06-2024 03:34:21255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:34:21256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 20.4585ms
[29-06-2024 03:34:21724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 03:34:21725 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:21725 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:34:21726 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:34:21729 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:34:21731 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 03:34:21733 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 03:34:21735 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:34:21736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 03:34:21737 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:34:21740 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:34:21740 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 13.6378ms
[29-06-2024 03:34:21740 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 03:34:21741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 16.9177ms
[29-06-2024 03:34:34001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:34:34002 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:34003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.2654ms
[29-06-2024 03:34:34003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:34:34005 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:34005 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:34:34005 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:34:34009 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:34:34011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:34:34011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.1877ms
[29-06-2024 03:34:34012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:34:34012 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.6425ms
[29-06-2024 03:34:34014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:34:34015 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:34016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3015ms
[29-06-2024 03:34:34016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:34:34018 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:34:34018 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:34:34018 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:34:34022 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:34:34046 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:34:34047 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 27.7901ms
[29-06-2024 03:34:34047 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:34:34048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 31.3486ms
[29-06-2024 03:36:11805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:36:11808 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:36:11812 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:11813 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:11813 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 7.8107ms
[29-06-2024 03:36:11815 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:36:11814 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.2996ms
[29-06-2024 03:36:11816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:36:11820 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:11821 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:11822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:36:11822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:36:11822 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:36:11822 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:36:11826 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:36:11827 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:36:11851 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:36:11852 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 28.8039ms
[29-06-2024 03:36:11852 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:36:11852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:36:11853 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 29.2832ms
[29-06-2024 03:36:11853 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 37.6219ms
[29-06-2024 03:36:11853 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:36:11855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 38.7894ms
[29-06-2024 03:36:14835 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:36:14836 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:14836 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3712ms
[29-06-2024 03:36:14840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:36:14841 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:14841 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:36:14842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:36:14853 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:36:14857 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:36:14858 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 15.612ms
[29-06-2024 03:36:14858 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:36:14859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 19.4967ms
[29-06-2024 03:36:14895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 03:36:14896 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:14897 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.5388ms
[29-06-2024 03:36:14898 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 03:36:14899 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:14899 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 03:36:14901 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 03:36:14909 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:36:14927 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 03:36:14936 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 03:36:14936 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 03:36:14938 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 35.6516ms
[29-06-2024 03:36:14938 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 03:36:14939 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 41.1932ms
[29-06-2024 03:36:16191 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:36:16192 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:16193 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:36:16193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:36:16200 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:36:16203 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:36:16203 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.6146ms
[29-06-2024 03:36:16204 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:36:16204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.157ms
[29-06-2024 03:36:16246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:36:16247 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:36:16247 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:16248 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:36:16249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:36:16249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:36:16249 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:36:16249 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:36:16255 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:36:16256 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:36:16284 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:36:16285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 34.5038ms
[29-06-2024 03:36:16285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:36:16285 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:36:16286 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 34.7336ms
[29-06-2024 03:36:16286 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 40.0068ms
[29-06-2024 03:36:16286 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:36:16288 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 41.2453ms
[29-06-2024 03:37:06630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - null null
[29-06-2024 03:37:06634 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:37:06634 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - 204 null null 3.6454ms
[29-06-2024 03:37:06636 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 34
[29-06-2024 03:37:06638 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:37:06638 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 03:37:06640 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:37:06649 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:37:06652 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 03:37:06656 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 03:37:06658 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:37:06660 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:37:06660 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 19.337ms
[29-06-2024 03:37:06661 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 03:37:06661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 26.4918ms
[29-06-2024 03:37:08386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:37:08387 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:37:08387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.401ms
[29-06-2024 03:37:08388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:37:08389 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:37:08389 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:37:08390 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:37:08394 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:37:08395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:37:08396 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.5069ms
[29-06-2024 03:37:08396 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:37:08397 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.6152ms
[29-06-2024 03:37:08399 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:37:08400 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:37:08400 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3764ms
[29-06-2024 03:37:08401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:37:08402 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:37:08402 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:37:08402 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:37:08406 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:37:08431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:37:08431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 28.0693ms
[29-06-2024 03:37:08432 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:37:08432 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 31.2643ms
[29-06-2024 03:38:17727 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:38:17730 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:38:17731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.9841ms
[29-06-2024 03:38:17734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:38:17740 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:38:17740 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:38:17741 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:38:17745 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:38:17746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:38:17747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.4423ms
[29-06-2024 03:38:17747 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:38:17748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.5246ms
[29-06-2024 03:38:17750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:38:17751 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:38:17751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2217ms
[29-06-2024 03:38:17752 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:38:17753 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:38:17753 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:38:17754 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:38:17757 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:38:17783 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:38:17783 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 29.243ms
[29-06-2024 03:38:17784 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:38:17784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 32.5266ms
[29-06-2024 03:41:43060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:41:43065 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:43065 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.4177ms
[29-06-2024 03:41:43069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:41:43070 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:43071 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:41:43071 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:41:43080 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:41:43083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:41:43084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.7499ms
[29-06-2024 03:41:43084 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:41:43085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.3626ms
[29-06-2024 03:41:45787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:41:45788 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:45788 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.4667ms
[29-06-2024 03:41:45789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:41:45790 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:45791 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:41:45791 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:41:45795 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:41:45797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:41:45797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.7575ms
[29-06-2024 03:41:45798 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:41:45798 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.2424ms
[29-06-2024 03:41:45801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:41:45802 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:45802 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.1463ms
[29-06-2024 03:41:45803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:41:45804 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:45805 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:45805 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:41:45809 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:41:45833 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:41:45834 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 28.5273ms
[29-06-2024 03:41:45834 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:45835 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 31.8129ms
[29-06-2024 03:41:45850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:41:45851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:45851 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:45851 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:41:45855 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:41:45882 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:41:45883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 30.6966ms
[29-06-2024 03:41:45883 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:45884 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 33.7732ms
[29-06-2024 03:41:50261 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - null null
[29-06-2024 03:41:50262 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:50262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - 204 null null 1.4838ms
[29-06-2024 03:41:50263 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - "application/json" 88
[29-06-2024 03:41:50264 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:50265 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 03:41:50265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAddress(Project_Keystone.Api.Models.DTOs.AddressDTos.AddAddressDTO)" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:41:50269 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:41:50273 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ADDRESSES] ([CITY], [COUNTRY], [STREET_ADDRESS], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ADDRESS_ID]
VALUES (@p0, @p1, @p2, @p3, @p4);"
[29-06-2024 03:41:50273 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 03:41:50274 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)" in 8.4817ms
[29-06-2024 03:41:50274 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 03:41:50275 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - 200 null "application/json; charset=utf-8" 12.1173ms
[29-06-2024 03:41:50279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:41:50280 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:50280 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:50281 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:41:50284 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:41:50287 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:41:50287 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.7849ms
[29-06-2024 03:41:50287 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:50288 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 8.8922ms
[29-06-2024 03:41:50297 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:41:50300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:41:50301 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:50302 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:50302 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:50302 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:41:50303 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:41:50303 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:41:50307 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:41:50308 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:41:50309 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:41:50310 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.8016ms
[29-06-2024 03:41:50310 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:41:50310 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:50310 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.1321ms
[29-06-2024 03:41:50311 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.6224ms
[29-06-2024 03:41:50311 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:41:50313 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.4238ms
[29-06-2024 03:41:57225 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:41:57226 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:57226 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.1887ms
[29-06-2024 03:41:57227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:41:57228 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:57228 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:41:57228 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:41:57232 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:41:57234 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:41:57234 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 4.9495ms
[29-06-2024 03:41:57234 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:41:57235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.2988ms
[29-06-2024 03:41:57238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:41:57238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:57239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.1962ms
[29-06-2024 03:41:57239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:41:57241 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:57241 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:57241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:41:57245 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:41:57246 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:41:57247 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 4.9171ms
[29-06-2024 03:41:57247 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:41:57248 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 8.2253ms
[29-06-2024 03:41:57250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - null null
[29-06-2024 03:41:57251 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:57251 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - 204 null null 1.1512ms
[29-06-2024 03:41:57252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - "application/json" 119
[29-06-2024 03:41:57253 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:57254 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 03:41:57254 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateOrder\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] CreateOrder(Project_Keystone.Api.Models.DTOs.OrderDTOs.CreateOrderDTO)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:41:57258 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:41:57262 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:41:57264 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:41:57267 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 450), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;
INSERT INTO [ORDERS] ([CITY], [COUNTRY], [ORDER_DATE], [STREET_ADDRESS], [TOTAL_AMOUNT], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ORDER_ID]
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[29-06-2024 03:41:57272 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p9='?' (DbType = Int32), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [ORDER_DETAILS] USING (
VALUES (@p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, 1)) AS i ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL])
VALUES (i.[ORDER_ID], i.[PRICE], i.[PRODUCT_ID], i.[QUANTITY], i.[TOTAL])
OUTPUT INSERTED.[ORDER_DETAIL_ID], i._Position;"
[29-06-2024 03:41:57275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO"'.
[29-06-2024 03:41:57275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)" in 20.7812ms
[29-06-2024 03:41:57276 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 03:41:57276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - 201 null "application/json; charset=utf-8" 24.0564ms
[29-06-2024 03:41:57279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:41:57280 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:57280 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2347ms
[29-06-2024 03:41:57281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:41:57282 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:41:57282 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 03:41:57283 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:41:57286 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:41:57287 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 03:41:57289 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:41:57291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:41:57291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 8.3553ms
[29-06-2024 03:41:57292 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 03:41:57292 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.6755ms
[29-06-2024 03:42:00310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:42:00311 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:00311 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:42:00311 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:42:00324 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:42:00330 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:42:00331 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 19.6531ms
[29-06-2024 03:42:00332 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:42:00332 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 22.8668ms
[29-06-2024 03:42:04583 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:42:04584 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:42:04584 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:04585 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:04585 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.1997ms
[29-06-2024 03:42:04586 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 03:42:04586 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:42:04585 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.3801ms
[29-06-2024 03:42:04591 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:04591 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:04593 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:42:04593 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:42:04593 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 03:42:04593 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:42:04597 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 03:42:04598 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:42:04599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 03:42:04599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.4997ms
[29-06-2024 03:42:04600 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:42:04600 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 03:42:04600 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.8736ms
[29-06-2024 03:42:04601 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.7326ms
[29-06-2024 03:42:04601 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:42:04603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 16.0581ms
[29-06-2024 03:42:35899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:42:35903 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:35904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.0784ms
[29-06-2024 03:42:35905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:42:35906 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:35907 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:42:35907 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:42:35913 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:42:35917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:42:35918 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.9138ms
[29-06-2024 03:42:35919 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:42:35919 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.9541ms
[29-06-2024 03:42:35996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:42:35997 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:42:36001 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:36002 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:36003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.3506ms
[29-06-2024 03:42:36003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.3203ms
[29-06-2024 03:42:36004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:42:36007 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:36007 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:42:36007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:42:36012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:42:36014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:42:36015 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.024ms
[29-06-2024 03:42:36016 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:42:36016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 03:42:36016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.1007ms
[29-06-2024 03:42:36017 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:36019 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:42:36019 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 03:42:36023 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 03:42:36025 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 03:42:36026 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.8232ms
[29-06-2024 03:42:36026 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 03:42:36027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.6532ms
[29-06-2024 03:42:36031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:42:36032 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:36033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.4023ms
[29-06-2024 03:42:36033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 03:42:36035 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:36035 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:42:36035 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 03:42:36056 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 03:42:36062 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 03:42:36066 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:42:36067 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 30.6546ms
[29-06-2024 03:42:36067 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 03:42:36068 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 34.413ms
[29-06-2024 03:42:38866 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:42:38867 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:38867 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:42:38868 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:42:38871 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:42:38874 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:42:38875 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.562ms
[29-06-2024 03:42:38875 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:42:38876 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.768ms
[29-06-2024 03:42:38888 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:42:38889 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:42:38889 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:42:38889 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:42:38893 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:42:38900 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:42:38901 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.9047ms
[29-06-2024 03:42:38901 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:42:38902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.0128ms
[29-06-2024 03:46:31222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:46:31227 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:46:31228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.4894ms
[29-06-2024 03:46:31233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:46:31241 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:46:31241 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:46:31242 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:46:31253 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:46:31255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:46:31256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.7348ms
[29-06-2024 03:46:31257 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:46:31257 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 24.3739ms
[29-06-2024 03:46:31288 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:46:31289 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:46:31290 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:46:31290 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:46:31301 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:46:31316 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:46:31317 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 26.057ms
[29-06-2024 03:46:31317 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:46:31318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 29.6767ms
[29-06-2024 03:46:48533 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:46:48534 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:46:48535 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4105ms
[29-06-2024 03:46:48536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:46:48537 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:46:48537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:46:48538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:46:48541 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:46:48543 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:46:48544 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.7328ms
[29-06-2024 03:46:48544 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:46:48545 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.5059ms
[29-06-2024 03:46:48580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:46:48582 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:46:48582 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:46:48583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:46:48591 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:46:48601 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:46:48604 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 21.0752ms
[29-06-2024 03:46:48605 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:46:48606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 25.5916ms
[29-06-2024 03:46:51770 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 03:46:51771 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:46:51771 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:46:51771 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 03:46:51778 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 03:46:51781 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 03:46:51782 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.946ms
[29-06-2024 03:46:51782 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 03:46:51783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.8851ms
[29-06-2024 03:46:51818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:46:51820 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:46:51820 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:46:51820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:46:51826 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:46:51835 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:46:51836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.2228ms
[29-06-2024 03:46:51837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:46:51837 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 19.0715ms
[29-06-2024 03:49:10077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:49:10082 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:49:10082 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:49:10082 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:49:10096 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:49:10105 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:49:10106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 23.2947ms
[29-06-2024 03:49:10107 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:49:10107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 30.1558ms
[29-06-2024 03:50:21483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:50:21486 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:50:21486 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:50:21487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:50:21500 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:50:21512 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:50:21518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 30.312ms
[29-06-2024 03:50:21523 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:50:21524 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 41.0817ms
[29-06-2024 03:50:26814 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:50:26815 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:50:26816 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:50:26816 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:50:26821 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:50:26832 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:50:26833 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 16.7761ms
[29-06-2024 03:50:26834 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:50:26835 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 20.7948ms
[29-06-2024 03:50:28429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:50:28430 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:50:28430 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:50:28431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:50:28435 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:50:28442 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:50:28443 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.659ms
[29-06-2024 03:50:28444 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:50:28444 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 15.5915ms
[29-06-2024 03:51:04118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:51:04122 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:51:04123 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:04123 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:51:04136 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:51:04143 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:51:04145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 20.3996ms
[29-06-2024 03:51:04145 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:04146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 27.4449ms
[29-06-2024 03:51:06029 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:51:06030 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:51:06030 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:06031 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:51:06035 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:51:06041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:51:06042 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.1079ms
[29-06-2024 03:51:06043 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:06043 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.5392ms
[29-06-2024 03:51:10706 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:51:10707 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:51:10708 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:10708 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:51:10713 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:51:10720 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:51:10721 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.7203ms
[29-06-2024 03:51:10722 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:10722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.3906ms
[29-06-2024 03:51:11302 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:51:11303 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:51:11303 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:11303 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:51:11307 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:51:11313 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:51:11314 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.014ms
[29-06-2024 03:51:11315 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:11315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.1329ms
[29-06-2024 03:51:11664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:51:11665 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:51:11665 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:11666 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:51:11670 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:51:11676 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:51:11677 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.1321ms
[29-06-2024 03:51:11683 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:11684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 20.0572ms
[29-06-2024 03:51:12191 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:51:12192 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:51:12193 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:12193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:51:12197 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:51:12204 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:51:12205 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.9643ms
[29-06-2024 03:51:12205 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:12206 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.4038ms
[29-06-2024 03:51:14388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:51:14389 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:51:14389 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:14390 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:51:14394 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:51:14399 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:51:14400 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 9.9186ms
[29-06-2024 03:51:14401 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:14401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.0513ms
[29-06-2024 03:51:25557 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:51:25559 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:51:25559 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:25559 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:51:25572 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:51:25578 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:51:25580 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 19.5226ms
[29-06-2024 03:51:25580 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:51:25581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 23.638ms
[29-06-2024 03:53:48340 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:53:48344 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:53:48345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:53:48345 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:53:48358 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:53:48367 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:53:48368 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 22.6045ms
[29-06-2024 03:53:48369 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:53:48370 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 29.2602ms
[29-06-2024 03:53:51051 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - null null
[29-06-2024 03:53:51052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:53:51052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:53:51053 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:53:51057 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:53:51061 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:53:51062 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 8.5067ms
[29-06-2024 03:53:51065 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:53:51066 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - 200 null "application/json; charset=utf-8" 14.467ms
[29-06-2024 03:53:54133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:53:54134 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:53:54135 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:53:54135 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:53:54148 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:53:54153 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:53:54154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 17.9602ms
[29-06-2024 03:53:54154 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:53:54155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.464ms
[29-06-2024 03:56:37368 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:56:37372 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:56:37372 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:56:37372 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:56:37385 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:56:37395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:56:37397 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 23.6766ms
[29-06-2024 03:56:37398 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:56:37398 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 30.8622ms
[29-06-2024 03:56:38983 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 03:56:38984 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 03:56:38984 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:56:38985 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 03:56:38990 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 03:56:38996 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 03:56:38997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.283ms
[29-06-2024 03:56:38997 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 03:56:38998 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.6642ms
[29-06-2024 15:36:04841 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 15:36:05185 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 15:36:05185 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 15:36:05187 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 15:36:05187 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 15:36:05188 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 15:36:05698 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 15:36:05874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 179.4232ms
[29-06-2024 15:36:05890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 15:36:05893 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 3.6568ms
[29-06-2024 15:36:05896 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 15:36:05931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 35.4726ms
[29-06-2024 15:36:05975 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 15:36:06079 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 104.3124ms
[29-06-2024 15:36:23149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:36:23152 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:36:23232 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:36:23248 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:36:24410 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 15:36:24807 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:36:24895 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:36:24914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1663.6943ms
[29-06-2024 15:36:24915 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:36:24919 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1770.7597ms
[29-06-2024 15:36:25986 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:36:25988 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:36:25991 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:36:25992 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:36:26040 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:36:26049 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:36:26051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 59.1917ms
[29-06-2024 15:36:26052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:36:26052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 66.2858ms
[29-06-2024 15:36:43120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:36:43122 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:36:43123 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:36:43123 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:36:43149 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:36:43164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:36:43166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 41.5043ms
[29-06-2024 15:36:43166 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:36:43167 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 46.8333ms
[29-06-2024 15:39:40406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:39:40410 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:39:40411 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:39:40411 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:39:40420 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:39:40433 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:39:40434 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 22.2841ms
[29-06-2024 15:39:40435 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:39:40435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 30.0548ms
[29-06-2024 15:39:44212 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:39:44213 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:39:44214 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:39:44214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:39:44222 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:39:44229 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:39:44231 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.8168ms
[29-06-2024 15:39:44232 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:39:44233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 20.2988ms
[29-06-2024 15:43:57891 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 15:43:58234 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 15:43:58237 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 15:43:58238 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 15:43:58239 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 15:43:58239 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 15:43:58993 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 15:43:59132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 141.3026ms
[29-06-2024 15:43:59156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 15:43:59156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 15:43:59156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 15:43:59161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 5.5327ms
[29-06-2024 15:43:59168 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 15:43:59169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 13.2891ms
[29-06-2024 15:43:59183 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 27.7376ms
[29-06-2024 15:43:59215 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 15:43:59217 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 15:43:59217 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.47ms
[29-06-2024 15:43:59258 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 15:43:59358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 100.8081ms
[29-06-2024 15:44:04842 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:44:04911 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 15:44:04914 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 15:44:04914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 72.2682ms
[29-06-2024 15:44:33257 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:44:33268 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:44:33274 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:44:33298 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:44:34406 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 15:44:34784 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:44:34873 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:44:34893 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1591.9564ms
[29-06-2024 15:44:34894 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:44:34898 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1641.3227ms
[29-06-2024 15:44:52994 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:44:52999 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 15:44:52999 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 15:44:53000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 5.3976ms
[29-06-2024 15:45:16238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 15:45:16239 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:16241 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 15:45:16241 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 15:45:16242 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 401 0 null 3.7856ms
[29-06-2024 15:45:16690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:45:16691 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:45:16691 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:16692 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:16692 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 15:45:16692 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 15:45:16692 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 15:45:16693 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 15:45:16693 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 401 0 null 3.3877ms
[29-06-2024 15:45:16693 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 2.8327ms
[29-06-2024 15:45:36774 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:45:36775 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:36776 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 15:45:36776 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 15:45:36777 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 2.5795ms
[29-06-2024 15:45:51862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 15:45:51863 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:51864 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.7664ms
[29-06-2024 15:45:51865 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 15:45:51866 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:51866 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 15:45:51870 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:45:51951 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 15:45:52044 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 15:45:52077 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 15:45:52084 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 15:45:52149 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 15:45:52157 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 15:45:52159 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 15:45:52160 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 289.6977ms
[29-06-2024 15:45:52160 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 15:45:52161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 296.3623ms
[29-06-2024 15:45:52176 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:45:52176 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:52177 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:45:52178 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:45:52196 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:45:52205 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:45:52208 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 29.0608ms
[29-06-2024 15:45:52209 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:45:52209 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 33.6457ms
[29-06-2024 15:45:58589 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:45:58590 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:58590 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4774ms
[29-06-2024 15:45:58591 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:45:58591 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:45:58592 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:58593 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:58593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.0515ms
[29-06-2024 15:45:58594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:45:58596 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:45:58622 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:45:58622 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:45:58624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:45:58624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:45:58636 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:45:58647 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:45:58649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:45:58649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:45:58650 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 25.1159ms
[29-06-2024 15:45:58650 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:45:58651 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 59.4903ms
[29-06-2024 15:45:58651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 26.9175ms
[29-06-2024 15:45:58652 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:45:58653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 58.3699ms
[29-06-2024 15:46:01628 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:46:01629 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:46:01629 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:46:01630 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:46:01643 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:46:01653 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:46:01653 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 23.1076ms
[29-06-2024 15:46:01654 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:46:01654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 26.4585ms
[29-06-2024 15:47:07568 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 15:47:07744 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 15:47:07744 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 15:47:07746 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 15:47:07746 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 15:47:07746 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 15:47:08784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 15:47:08903 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 123.2142ms
[29-06-2024 15:47:08924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 15:47:08924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 15:47:08924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 15:47:08938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 12.705ms
[29-06-2024 15:47:08942 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 15:47:08943 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 18.7187ms
[29-06-2024 15:47:08957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 32.3074ms
[29-06-2024 15:47:08981 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 15:47:08983 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 15:47:08984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.6938ms
[29-06-2024 15:47:09010 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 15:47:09109 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 99.7555ms
[29-06-2024 15:47:17855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:47:17859 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:47:17957 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 15:47:17959 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 15:47:17960 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 104.6878ms
[29-06-2024 15:47:24673 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 15:47:24674 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:47:24675 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 2.0864ms
[29-06-2024 15:47:24676 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 15:47:24677 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:47:24680 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 15:47:24693 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:47:25776 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("27"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 15:47:25930 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 15:47:25959 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 15:47:25965 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 15:47:26033 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 15:47:26041 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 15:47:26046 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 15:47:26051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1355.099ms
[29-06-2024 15:47:26052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 15:47:26057 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 1381.5512ms
[29-06-2024 15:47:26069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:47:26071 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:47:26072 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:47:26077 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:47:26173 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 15:47:26180 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:47:26237 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:47:26251 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 173.4374ms
[29-06-2024 15:47:26252 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:47:26252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 182.9964ms
[29-06-2024 15:47:27387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:47:27388 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:47:27389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.892ms
[29-06-2024 15:47:27389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:47:27389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:47:27391 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:47:27391 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:47:27392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.692ms
[29-06-2024 15:47:27393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:47:27394 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:47:27420 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:47:27420 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:47:27422 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:47:27422 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:47:27438 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:47:27446 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:47:27448 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:47:27450 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 27.0566ms
[29-06-2024 15:47:27450 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:47:27451 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:47:27451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 58.9734ms
[29-06-2024 15:47:27452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 29.2811ms
[29-06-2024 15:47:27453 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:47:27453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 63.7331ms
[29-06-2024 15:49:22478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:49:22484 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:49:22484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.9551ms
[29-06-2024 15:49:22486 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:49:22486 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:49:22488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:49:22491 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 15:49:22523 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 15:49:22534 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 15:49:22536 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 44.6896ms
[29-06-2024 15:49:22537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:49:22537 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 51.8699ms
[29-06-2024 15:49:22540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:49:22541 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:49:22542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:49:22542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.6239ms
[29-06-2024 15:49:22546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:49:22546 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:49:22547 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:49:22548 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.1396ms
[29-06-2024 15:49:22548 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:49:22548 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:49:22549 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:49:22550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:49:22550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:49:22551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:49:22556 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:49:22558 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:49:22559 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.1022ms
[29-06-2024 15:49:22559 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:49:22560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.6069ms
[29-06-2024 15:49:22569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:49:22572 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:49:22572 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 20.8934ms
[29-06-2024 15:49:22573 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:49:22573 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 24.7629ms
[29-06-2024 15:52:12465 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 15:52:12602 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 15:52:12602 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 15:52:12604 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 15:52:12604 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 15:52:12604 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 15:52:13457 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 15:52:13566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 112.1536ms
[29-06-2024 15:52:13596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 15:52:13596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 15:52:13596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 15:52:13609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 12.4148ms
[29-06-2024 15:52:13611 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 15:52:13612 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.5201ms
[29-06-2024 15:52:13627 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.5234ms
[29-06-2024 15:52:13656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 15:52:13658 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 15:52:13658 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.4457ms
[29-06-2024 15:52:13687 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 15:52:13788 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 101.5237ms
[29-06-2024 15:52:16644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 15:52:16646 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:16647 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 3.8385ms
[29-06-2024 15:52:16648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 15:52:16650 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:16703 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 15:52:16717 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:52:17814 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 15:52:17954 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 15:52:17982 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 15:52:17988 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 15:52:18049 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 15:52:18057 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 15:52:18061 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 15:52:18067 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1347.0187ms
[29-06-2024 15:52:18067 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 15:52:18072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 1423.9595ms
[29-06-2024 15:52:18084 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:52:18085 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:18087 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:52:18091 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:52:18188 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 15:52:18194 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:52:18259 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:52:18275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 182.5711ms
[29-06-2024 15:52:18275 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:52:18276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 192.0093ms
[29-06-2024 15:52:21009 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:52:21010 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:21011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.6488ms
[29-06-2024 15:52:21011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:52:21011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:52:21013 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:21013 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:21014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.9695ms
[29-06-2024 15:52:21015 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:52:21015 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:21048 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:52:21048 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:52:21050 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:52:21050 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:52:21068 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:52:21074 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:52:21078 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:52:21080 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 29.3518ms
[29-06-2024 15:52:21081 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:52:21082 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 67.2964ms
[29-06-2024 15:52:21082 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:52:21085 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 34.3798ms
[29-06-2024 15:52:21086 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:52:21086 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 75.0774ms
[29-06-2024 15:52:42266 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:52:42268 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:42268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.73ms
[29-06-2024 15:52:42269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:52:42270 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:42272 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:52:42275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 15:52:42289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:52:42290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:42291 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:52:42291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:52:42295 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 15:52:42304 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:52:42310 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 15:52:42312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 36.1262ms
[29-06-2024 15:52:42312 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:52:42313 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 44.2506ms
[29-06-2024 15:52:42314 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:52:42317 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 25.7005ms
[29-06-2024 15:52:42318 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:52:42319 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 30.2134ms
[29-06-2024 15:52:42780 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:52:42781 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:42781 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4183ms
[29-06-2024 15:52:42782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:52:42783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:52:42786 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:42786 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:42787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 4.5081ms
[29-06-2024 15:52:42787 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:52:42787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:52:42788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:52:42789 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:42790 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:52:42790 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:52:42794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:52:42796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:52:42796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.0048ms
[29-06-2024 15:52:42797 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:52:42797 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.5223ms
[29-06-2024 15:52:42807 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:52:42809 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:52:42810 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 18.8673ms
[29-06-2024 15:52:42810 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:52:42811 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 23.2899ms
[29-06-2024 15:52:49102 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 15:52:49103 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:49103 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.5816ms
[29-06-2024 15:52:49104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 15:52:49105 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:49106 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 15:52:49108 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 15:52:49113 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:52:49128 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 15:52:49138 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 15:52:49138 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 15:52:49140 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 31.4643ms
[29-06-2024 15:52:49140 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 15:52:49141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 36.6314ms
[29-06-2024 15:52:49882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:52:49883 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:49884 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6682ms
[29-06-2024 15:52:49885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:52:49886 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:49887 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:52:49887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 15:52:49892 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 15:52:49896 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 15:52:49897 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.0775ms
[29-06-2024 15:52:49897 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:52:49898 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.5602ms
[29-06-2024 15:52:49918 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:52:49919 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:49921 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:52:49922 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:52:49929 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:52:49942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:52:49944 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 21.2723ms
[29-06-2024 15:52:49944 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:52:49945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 27.0973ms
[29-06-2024 15:52:51073 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:52:51073 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:51074 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2292ms
[29-06-2024 15:52:51075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:52:51075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:52:51076 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:51076 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:51077 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:52:51077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.3694ms
[29-06-2024 15:52:51077 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:52:51078 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:52:51080 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:52:51080 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:52:51080 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:52:51083 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:52:51085 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:52:51086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:52:51086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.6709ms
[29-06-2024 15:52:51087 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:52:51087 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:52:51087 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.451ms
[29-06-2024 15:52:51088 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.0133ms
[29-06-2024 15:52:51088 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:52:51089 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.5864ms
[29-06-2024 15:53:11354 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 15:53:11355 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:11355 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.478ms
[29-06-2024 15:53:11356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 15:53:11357 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:11358 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 15:53:11358 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 15:53:11363 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:53:11365 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 15:53:11368 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 15:53:11368 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 15:53:11368 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 9.8586ms
[29-06-2024 15:53:11369 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 15:53:11369 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 13.5373ms
[29-06-2024 15:53:11878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:53:11878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:53:11879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:11879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:11879 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.9969ms
[29-06-2024 15:53:11883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:53:11880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.5374ms
[29-06-2024 15:53:11883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:53:11887 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:11888 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:11889 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:53:11889 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:53:11889 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:53:11889 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:53:11893 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:53:11894 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:53:11896 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:53:11896 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.114ms
[29-06-2024 15:53:11896 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:53:11896 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:53:11897 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.4094ms
[29-06-2024 15:53:11897 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.7808ms
[29-06-2024 15:53:11898 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:53:11899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.3764ms
[29-06-2024 15:53:13724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:53:13726 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:13726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 2.743ms
[29-06-2024 15:53:13728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:53:13729 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:13736 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:53:13736 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 15:53:13744 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 15:53:13747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 15:53:13748 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.8356ms
[29-06-2024 15:53:13748 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:53:13749 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 21.2836ms
[29-06-2024 15:53:13779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:53:13780 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:53:13780 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:13781 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:13781 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:53:13781 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:53:13782 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:53:13782 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:53:13788 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:53:13789 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:53:13791 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:53:13791 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:53:13792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.8172ms
[29-06-2024 15:53:13792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.4317ms
[29-06-2024 15:53:13792 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:53:13793 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:53:13793 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.434ms
[29-06-2024 15:53:13793 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.6656ms
[29-06-2024 15:53:14567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:53:14568 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:14568 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:53:14569 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 15:53:14573 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 15:53:14577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 15:53:14577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.9932ms
[29-06-2024 15:53:14578 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:53:14578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.9625ms
[29-06-2024 15:53:14625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:53:14626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:53:14627 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:14627 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:14628 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:53:14628 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:53:14628 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:53:14629 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:53:14633 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:53:14633 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:53:14636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:53:14636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:53:14636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.9463ms
[29-06-2024 15:53:14636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.7398ms
[29-06-2024 15:53:14637 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:53:14637 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:53:14638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.5972ms
[29-06-2024 15:53:14638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.3925ms
[29-06-2024 15:53:15095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 15:53:15096 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:15097 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:53:15098 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 15:53:15102 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 15:53:15105 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 15:53:15106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.5599ms
[29-06-2024 15:53:15106 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 15:53:15107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.642ms
[29-06-2024 15:53:15147 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 15:53:15147 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 15:53:15148 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:15149 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:15149 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:53:15149 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:53:15150 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 15:53:15150 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 15:53:15154 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 15:53:15155 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 15:53:15158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 15:53:15158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.2906ms
[29-06-2024 15:53:15158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 15:53:15159 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 15:53:15159 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.5297ms
[29-06-2024 15:53:15159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.6146ms
[29-06-2024 15:53:15160 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 15:53:15161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.7349ms
[29-06-2024 15:53:30825 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:53:30826 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:30826 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:53:30827 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:53:30832 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:53:30840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:53:30842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.3216ms
[29-06-2024 15:53:30842 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:53:30843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 18.5542ms
[29-06-2024 15:53:32019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:53:32020 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:32021 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:53:32021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:53:32027 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:53:32034 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:53:32035 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 13.6494ms
[29-06-2024 15:53:32036 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:53:32036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.0533ms
[29-06-2024 15:53:33168 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:53:33168 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:33169 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:53:33169 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:53:33174 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:53:33180 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:53:33181 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.2372ms
[29-06-2024 15:53:33182 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:53:33182 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.6999ms
[29-06-2024 15:53:38455 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - null null
[29-06-2024 15:53:38456 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:53:38456 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:53:38457 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:53:38463 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:53:38471 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:53:38472 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.2923ms
[29-06-2024 15:53:38473 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:53:38473 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=10" - 200 null "application/json; charset=utf-8" 18.9284ms
[29-06-2024 15:54:23390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:54:23394 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:54:23395 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:54:23395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:54:23402 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:54:23409 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:54:23411 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.8302ms
[29-06-2024 15:54:23411 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:54:23412 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 22.5616ms
[29-06-2024 15:54:51664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:54:51669 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:54:51670 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:54:51670 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:54:51676 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:54:51684 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:54:51685 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.4352ms
[29-06-2024 15:54:51686 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:54:51686 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.7466ms
[29-06-2024 15:58:51378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:58:51385 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:58:51386 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:58:51387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:58:51404 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:58:51411 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:58:51412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 24.5795ms
[29-06-2024 15:58:51413 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:58:51413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 34.829ms
[29-06-2024 15:59:05731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 15:59:05732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 15:59:05733 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:59:05733 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 15:59:05738 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 15:59:05748 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 15:59:05749 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.7947ms
[29-06-2024 15:59:05753 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 15:59:05754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 22.9318ms
[29-06-2024 15:59:55210 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 15:59:55372 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 15:59:55373 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 15:59:55374 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 15:59:55374 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 15:59:55375 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 15:59:56261 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 15:59:56374 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 116.5466ms
[29-06-2024 15:59:56404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 15:59:56404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 15:59:56404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 15:59:56412 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.162ms
[29-06-2024 15:59:56415 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 15:59:56416 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 12.0843ms
[29-06-2024 15:59:56431 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 27.5962ms
[29-06-2024 15:59:56465 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 15:59:56467 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 15:59:56467 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.7334ms
[29-06-2024 15:59:56507 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 15:59:56614 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 107.1501ms
[29-06-2024 16:03:57554 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 16:03:57690 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 16:03:57691 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 16:03:57692 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 16:03:57692 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 16:03:57692 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 16:03:58484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 16:03:58602 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 119.9769ms
[29-06-2024 16:03:58622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 16:03:58622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 16:03:58622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 16:03:58630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.1878ms
[29-06-2024 16:03:58637 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 16:03:58637 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.4211ms
[29-06-2024 16:03:58650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 28.2808ms
[29-06-2024 16:03:58678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 16:03:58679 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 16:03:58680 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.4331ms
[29-06-2024 16:03:58710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 16:03:58814 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 104.2697ms
[29-06-2024 16:11:08041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:11:08044 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:11:08096 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:11:08110 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:11:09156 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 16:11:09356 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("27"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:11:09445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:11:09469 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1356.3933ms
[29-06-2024 16:11:09470 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:11:09474 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1433.6567ms
[29-06-2024 16:16:21472 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 16:16:21628 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 16:16:21628 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 16:16:21629 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 16:16:21630 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 16:16:21630 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 16:16:22547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 16:16:22660 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 116.0407ms
[29-06-2024 16:16:22684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 16:16:22684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 16:16:22684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 16:16:22701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 16.9839ms
[29-06-2024 16:16:22706 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 16:16:22707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 22.7304ms
[29-06-2024 16:16:22719 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 35.1957ms
[29-06-2024 16:16:22746 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 16:16:22748 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 16:16:22748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.9042ms
[29-06-2024 16:16:22780 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 16:16:22881 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 101.1434ms
[29-06-2024 16:19:29775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:19:29778 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:19:29838 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:19:29841 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:19:29842 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 67.714ms
[29-06-2024 16:19:46857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 16:19:46858 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:19:46859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 2.0716ms
[29-06-2024 16:19:46860 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 16:19:46861 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:19:46865 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:19:46879 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:19:47991 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("27"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:19:48129 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:19:48157 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:19:48163 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:19:48225 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:19:48233 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 16:19:48237 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 16:19:48241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1360.131ms
[29-06-2024 16:19:48242 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:19:48247 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 1386.9719ms
[29-06-2024 16:19:48258 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:19:48259 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:19:48260 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:19:48264 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:19:48386 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 16:19:48394 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:19:48450 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:19:48463 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 198.6442ms
[29-06-2024 16:19:48464 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:19:48464 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 206.5998ms
[29-06-2024 16:19:49459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:19:49460 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:19:49461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.7829ms
[29-06-2024 16:19:49461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:19:49462 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:19:49463 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:19:49464 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:19:49464 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.0497ms
[29-06-2024 16:19:49465 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:19:49466 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:19:49493 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:19:49493 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:19:49496 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:19:49496 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:19:49513 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:19:49520 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:19:49523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:19:49525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 28.3172ms
[29-06-2024 16:19:49525 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:19:49526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 60.6112ms
[29-06-2024 16:19:49526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:19:49528 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 31.0451ms
[29-06-2024 16:19:49528 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:19:49529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 67.1759ms
[29-06-2024 16:20:13034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:20:13037 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:13038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.3396ms
[29-06-2024 16:20:13039 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:20:13040 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:13042 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:20:13044 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:20:13069 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:20:13075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:20:13076 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:13076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2916ms
[29-06-2024 16:20:13080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:20:13081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:20:13085 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:13086 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:13086 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 7.3366ms
[29-06-2024 16:20:13087 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:20:13087 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:20:13088 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:20:13089 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:20:13090 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 44.8154ms
[29-06-2024 16:20:13090 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:13091 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:20:13091 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:20:13092 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 52.7747ms
[29-06-2024 16:20:13092 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:20:13096 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:20:13098 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:20:13099 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.1605ms
[29-06-2024 16:20:13099 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:20:13099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 18.6497ms
[29-06-2024 16:20:13112 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:20:13114 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:20:13114 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 21.2845ms
[29-06-2024 16:20:13115 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:20:13115 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 28.0359ms
[29-06-2024 16:20:49347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:20:49353 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:49353 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 6.0053ms
[29-06-2024 16:20:49354 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:20:49355 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:49355 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:20:49356 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:20:49361 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:20:49364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:20:49365 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.6177ms
[29-06-2024 16:20:49366 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:20:49367 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.5879ms
[29-06-2024 16:20:49385 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:20:49386 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:49386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4797ms
[29-06-2024 16:20:49387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:20:49387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:20:49391 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:49392 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:49392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.4004ms
[29-06-2024 16:20:49393 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:20:49393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:20:49394 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:20:49394 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:49395 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:20:49397 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:20:49408 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:20:49411 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:20:49412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:20:49413 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 18.134ms
[29-06-2024 16:20:49413 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:20:49414 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:20:49414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 26.8541ms
[29-06-2024 16:20:49414 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 17.3225ms
[29-06-2024 16:20:49416 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:20:49417 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 23.9761ms
[29-06-2024 16:20:50203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:20:50204 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:50205 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:20:50205 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:20:50210 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:20:50213 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:20:50213 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.7214ms
[29-06-2024 16:20:50214 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:20:50214 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.0434ms
[29-06-2024 16:20:50241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:20:50242 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:50242 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:20:50243 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:20:50243 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:20:50244 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:20:50244 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:20:50245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:20:50247 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:20:50250 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:20:50250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:20:50251 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.3389ms
[29-06-2024 16:20:50252 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:20:50252 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:20:50253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.0037ms
[29-06-2024 16:20:50253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.2926ms
[29-06-2024 16:20:50254 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:20:50260 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 17.3462ms
[29-06-2024 16:21:14657 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:21:14662 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:14663 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.4698ms
[29-06-2024 16:21:14664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:21:14665 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:14666 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:21:14666 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:21:14672 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:21:14675 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:21:14676 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.0776ms
[29-06-2024 16:21:14677 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:21:14677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.421ms
[29-06-2024 16:21:14687 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:21:14688 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:14689 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:21:14690 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:21:14697 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:21:14710 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:21:14717 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 26.7673ms
[29-06-2024 16:21:14718 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:21:14718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 31.1276ms
[29-06-2024 16:21:17035 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:21:17036 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:17036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4387ms
[29-06-2024 16:21:17037 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:21:17037 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:21:17041 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:17042 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:17042 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 4.8313ms
[29-06-2024 16:21:17042 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:21:17043 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:21:17044 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:21:17045 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:17046 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:21:17046 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:21:17049 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:21:17051 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:21:17052 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:21:17053 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.4745ms
[29-06-2024 16:21:17053 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:21:17053 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:21:17053 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.9206ms
[29-06-2024 16:21:17054 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 16.7848ms
[29-06-2024 16:21:17054 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:21:17055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.1858ms
[29-06-2024 16:21:20204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:21:20205 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:20205 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5641ms
[29-06-2024 16:21:20206 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:21:20207 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:20208 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:21:20208 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:21:20212 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:21:20215 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:21:20216 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9002ms
[29-06-2024 16:21:20216 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:21:20217 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.7517ms
[29-06-2024 16:21:20241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:21:20242 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:20242 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:21:20243 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:21:20243 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:21:20244 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:21:20245 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:21:20245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:21:20248 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:21:20250 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:21:20251 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:21:20252 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.4734ms
[29-06-2024 16:21:20252 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:21:20252 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:21:20253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.9415ms
[29-06-2024 16:21:20253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.153ms
[29-06-2024 16:21:20253 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:21:20254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.6835ms
[29-06-2024 16:22:08580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:22:08584 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:22:08584 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.4486ms
[29-06-2024 16:22:08586 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:22:08586 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:22:08587 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:22:08588 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:22:08594 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:22:08598 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:22:08598 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.8199ms
[29-06-2024 16:22:08599 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:22:08600 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.0941ms
[29-06-2024 16:22:08611 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:22:08612 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:22:08612 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:22:08613 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:22:08619 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:22:08632 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:22:08634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 21.1937ms
[29-06-2024 16:22:08640 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:22:08640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 29.915ms
[29-06-2024 16:22:09526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:22:09527 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:22:09528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3595ms
[29-06-2024 16:22:09529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:22:09529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:22:09530 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:22:09531 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:22:09531 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:22:09531 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.6082ms
[29-06-2024 16:22:09531 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:22:09532 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:22:09534 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:22:09534 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:22:09534 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:22:09536 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:22:09538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:22:09539 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.6575ms
[29-06-2024 16:22:09539 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:22:09540 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:22:09541 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.1184ms
[29-06-2024 16:22:09541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:22:09542 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.1988ms
[29-06-2024 16:22:09543 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:22:09543 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.2377ms
[29-06-2024 16:23:28385 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:23:28389 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:28389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.8499ms
[29-06-2024 16:23:28392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:23:28394 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:28395 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:23:28395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:23:28400 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:23:28404 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:23:28404 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.6468ms
[29-06-2024 16:23:28405 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:23:28405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.4401ms
[29-06-2024 16:23:28431 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:23:28432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:28432 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.6406ms
[29-06-2024 16:23:28433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:23:28434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:23:28438 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:28440 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:28440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.7106ms
[29-06-2024 16:23:28441 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:23:28442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:23:28442 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:23:28443 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:28445 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:23:28445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:23:28450 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:23:28451 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:23:28454 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:23:28454 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:23:28455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 10.7931ms
[29-06-2024 16:23:28455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 9.3231ms
[29-06-2024 16:23:28455 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:23:28456 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:23:28457 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 22.8509ms
[29-06-2024 16:23:28457 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.462ms
[29-06-2024 16:23:31277 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:23:31278 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:31279 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:23:31280 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:23:31287 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:23:31292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:23:31293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.5773ms
[29-06-2024 16:23:31294 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:23:31294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.1772ms
[29-06-2024 16:23:31358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:23:31359 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:31360 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:23:31360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:23:31361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:23:31362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:31362 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:23:31363 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:23:31365 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:23:31367 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:23:31367 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.3671ms
[29-06-2024 16:23:31368 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:23:31369 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:23:31369 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 11.1004ms
[29-06-2024 16:23:31375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:23:31375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 11.8961ms
[29-06-2024 16:23:31376 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:23:31376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.9441ms
[29-06-2024 16:23:35837 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:23:35838 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:35839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6508ms
[29-06-2024 16:23:35840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:23:35841 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:35841 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:23:35841 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:23:35845 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:23:35848 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:23:35849 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9257ms
[29-06-2024 16:23:35849 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:23:35850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.3586ms
[29-06-2024 16:23:35874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:23:35875 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:35875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2635ms
[29-06-2024 16:23:35876 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:23:35876 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:23:35877 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:35878 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:35878 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:23:35878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4702ms
[29-06-2024 16:23:35878 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:23:35879 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:23:35881 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:23:35881 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:23:35882 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:23:35884 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:23:35886 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:23:35886 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:23:35887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.6208ms
[29-06-2024 16:23:35888 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:23:35888 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:23:35888 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.5475ms
[29-06-2024 16:23:35889 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.7469ms
[29-06-2024 16:23:35890 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:23:35890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.6176ms
[29-06-2024 16:24:00596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:24:00608 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:00609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 12.7211ms
[29-06-2024 16:24:00626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:24:00628 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:00629 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:00629 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:24:00640 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:24:00644 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:24:00645 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 14.9948ms
[29-06-2024 16:24:00645 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:00646 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 20.5179ms
[29-06-2024 16:24:00647 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:24:00648 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:00649 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:00649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:24:00654 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:24:00662 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:24:00663 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 13.2669ms
[29-06-2024 16:24:00663 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:00664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.9145ms
[29-06-2024 16:24:01017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:24:01018 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:01019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.468ms
[29-06-2024 16:24:01020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:24:01020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:24:01023 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:01024 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:01024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 4.8176ms
[29-06-2024 16:24:01025 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:24:01026 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:24:01027 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:24:01027 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:01028 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:24:01029 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:24:01031 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:24:01033 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:24:01034 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:24:01035 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.8752ms
[29-06-2024 16:24:01035 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:24:01035 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:24:01036 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.4595ms
[29-06-2024 16:24:01036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 16.0171ms
[29-06-2024 16:24:01036 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:24:01037 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.9483ms
[29-06-2024 16:24:05435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:24:05436 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:05437 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:05437 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:24:05441 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:24:05444 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:24:05444 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.5617ms
[29-06-2024 16:24:05444 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:05445 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.7904ms
[29-06-2024 16:24:05459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:24:05460 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:05460 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:05460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:24:05465 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:24:05471 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:24:05472 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.4299ms
[29-06-2024 16:24:05473 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:05473 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.4902ms
[29-06-2024 16:24:49294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:24:49298 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:49298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.1789ms
[29-06-2024 16:24:49299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:24:49300 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:49301 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:49301 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:24:49306 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:24:49309 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:24:49310 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.1684ms
[29-06-2024 16:24:49310 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:49311 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.8254ms
[29-06-2024 16:24:49330 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:24:49331 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:49331 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:49332 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:24:49338 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:24:49346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:24:49348 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.738ms
[29-06-2024 16:24:49348 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:49349 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 19.0161ms
[29-06-2024 16:24:53303 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:24:53304 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:53304 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:53305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:24:53309 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:24:53311 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:24:53312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.6839ms
[29-06-2024 16:24:53312 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:53313 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.2984ms
[29-06-2024 16:24:53331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:24:53332 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:53332 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:53333 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:24:53338 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:24:53345 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:24:53346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 13.0281ms
[29-06-2024 16:24:53350 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:53350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 19.1797ms
[29-06-2024 16:24:58276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:24:58277 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:58277 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4812ms
[29-06-2024 16:24:58279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:24:58279 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:58280 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:58281 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:24:58286 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:24:58291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:24:58292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.7598ms
[29-06-2024 16:24:58293 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:24:58295 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.1159ms
[29-06-2024 16:24:58365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:24:58366 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:24:58366 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:58367 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:24:58373 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:24:58379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:24:58380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.115ms
[29-06-2024 16:24:58380 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:24:58381 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.4676ms
[29-06-2024 16:25:10369 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:25:10370 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:10370 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3559ms
[29-06-2024 16:25:10371 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:25:10371 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:25:10375 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:10375 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:10376 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:25:10376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.0827ms
[29-06-2024 16:25:10376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:25:10377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:25:10379 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:10379 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:25:10380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:25:10381 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:25:10383 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:25:10384 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.8067ms
[29-06-2024 16:25:10384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:25:10385 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:25:10385 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.3595ms
[29-06-2024 16:25:10387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:25:10388 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.9782ms
[29-06-2024 16:25:10388 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:25:10388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.6147ms
[29-06-2024 16:25:11638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:25:11639 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:11640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.274ms
[29-06-2024 16:25:11640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:25:11641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:11642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:25:11642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:25:11646 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:25:11649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:25:11649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.5221ms
[29-06-2024 16:25:11649 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:25:11650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.5454ms
[29-06-2024 16:25:11676 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:25:11677 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:11678 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:25:11678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:25:11678 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:25:11679 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:11680 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:25:11680 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:25:11683 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:25:11685 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:25:11686 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:25:11686 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.2033ms
[29-06-2024 16:25:11687 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:25:11687 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:25:11687 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.7039ms
[29-06-2024 16:25:11688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 11.7906ms
[29-06-2024 16:25:11688 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:25:11689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.3331ms
[29-06-2024 16:25:38463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - null null
[29-06-2024 16:25:38466 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:38467 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - 204 null null 3.8617ms
[29-06-2024 16:25:38468 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - "application/json" 108
[29-06-2024 16:25:38469 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:38469 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:25:38471 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:25:38479 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:25:38480 +03:00 Project_Keystone.Core.Services.AuthService ] Update user failed. User with email "alex.santexis@gmail.com" does not exist
[29-06-2024 16:25:38506 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:25:38508 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 35.9131ms
[29-06-2024 16:25:38508 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:25:38509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - 404 null "application/json; charset=utf-8" 41.0698ms
[29-06-2024 16:25:57873 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:25:57874 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:57874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2869ms
[29-06-2024 16:25:57874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:25:57875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:25:57879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:57880 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:57880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.0036ms
[29-06-2024 16:25:57882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:25:57883 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:57883 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 1:20:48 PM', Current time (UTC): '6/29/2024 1:25:57 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 16:25:57884 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 1:20:48 PM', Current time (UTC): '6/29/2024 1:25:57 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 16:25:57888 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 1:20:48 PM', Current time (UTC): '6/29/2024 1:25:57 PM'."
[29-06-2024 16:25:57888 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 1:20:48 PM', Current time (UTC): '6/29/2024 1:25:57 PM'."
[29-06-2024 16:25:57889 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:25:57889 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:25:57890 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:25:57890 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:25:57890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 8.4068ms
[29-06-2024 16:25:57891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 401 0 null 15.2783ms
[29-06-2024 16:25:57894 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 16:25:57895 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:57895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.3377ms
[29-06-2024 16:25:57896 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 741
[29-06-2024 16:25:57899 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:57900 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 1:20:48 PM', Current time (UTC): '6/29/2024 1:25:57 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 16:25:57901 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 1:20:48 PM', Current time (UTC): '6/29/2024 1:25:57 PM'."
[29-06-2024 16:25:57901 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:25:57904 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:25:57919 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:25:57922 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:25:57924 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:25:57925 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:25:57927 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:25:57928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 16:25:57928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 23.8115ms
[29-06-2024 16:25:57929 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:25:57929 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 33.2899ms
[29-06-2024 16:25:57932 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:25:57932 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:25:57933 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:57933 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:25:57934 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:25:57934 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:25:57934 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:25:57934 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:25:57938 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:25:57939 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:25:57941 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 16:25:57941 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.5348ms
[29-06-2024 16:25:57941 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:25:57942 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:25:57942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.0324ms
[29-06-2024 16:25:57943 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 11.6723ms
[29-06-2024 16:25:57944 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:25:57945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.3423ms
[29-06-2024 16:26:01227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:26:01227 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:26:01228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2242ms
[29-06-2024 16:26:01228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:26:01230 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:26:01230 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.RemoveAddress (Project-Keystone)"'
[29-06-2024 16:26:01232 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:26:01237 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:26:01252 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ADDRESSES]
OUTPUT 1
WHERE [ADDRESS_ID] = @p0;"
[29-06-2024 16:26:01254 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:26:01255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.RemoveAddress (Project-Keystone)" in 22.1328ms
[29-06-2024 16:26:01255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.RemoveAddress (Project-Keystone)"'
[29-06-2024 16:26:01256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 27.0859ms
[29-06-2024 16:26:07690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - null null
[29-06-2024 16:26:07691 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:26:07691 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - 204 null null 1.4696ms
[29-06-2024 16:26:07692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - "application/json" 108
[29-06-2024 16:26:07693 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:26:07693 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:26:07694 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:26:07698 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:26:07699 +03:00 Project_Keystone.Core.Services.AuthService ] Update user failed. User with email "alex.santexis@gmail.com" does not exist
[29-06-2024 16:26:07733 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:26:07734 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 39.1841ms
[29-06-2024 16:26:07734 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:26:07734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - 404 null "application/json; charset=utf-8" 42.6051ms
[29-06-2024 16:26:35870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 66
[29-06-2024 16:26:35873 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:26:35873 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:26:35873 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:26:35877 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:26:35935 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:26:35936 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:26:35937 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:26:35939 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:26:35940 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 16:26:35940 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 16:26:35940 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 66.4859ms
[29-06-2024 16:26:35941 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:26:35941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 71.7158ms
[29-06-2024 16:26:53703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/update""" - "application/json" 82
[29-06-2024 16:26:53704 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:26:53704 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:26:53704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:26:53708 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:26:53710 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:26:53712 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:26:53713 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:26:53714 +03:00 Project_Keystone.Core.Services.AuthService ] User with email "user@example.com" updated successfully
[29-06-2024 16:26:53715 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:26:53716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:26:53717 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 11.7855ms
[29-06-2024 16:26:53717 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:26:53717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/update""" - 200 null "application/json; charset=utf-8" 14.7377ms
[29-06-2024 16:28:06707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:28:06710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:28:06711 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:06712 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:06712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 5.2719ms
[29-06-2024 16:28:06712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.7788ms
[29-06-2024 16:28:06715 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:28:06716 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:28:06724 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:06725 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:06726 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:28:06726 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:28:06726 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:28:06726 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:28:06730 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:28:06731 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:28:06761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:28:06762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:28:06762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 34.9176ms
[29-06-2024 16:28:06762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 34.9252ms
[29-06-2024 16:28:06763 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:28:06763 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:28:06764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 48.7266ms
[29-06-2024 16:28:06764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 48.1303ms
[29-06-2024 16:28:11358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:28:11359 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:11359 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:28:11359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:28:11364 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:28:11370 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:28:11371 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.2858ms
[29-06-2024 16:28:11372 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:28:11372 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.6617ms
[29-06-2024 16:28:20701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 16:28:20702 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:20702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.2763ms
[29-06-2024 16:28:20702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 16:28:20704 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:20704 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:28:20704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:28:20708 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:28:20767 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:28:20768 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:28:20769 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:28:20771 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:28:20772 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 16:28:20772 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 16:28:20772 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 67.4679ms
[29-06-2024 16:28:20773 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:28:20773 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 70.6981ms
[29-06-2024 16:28:20785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:28:20785 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:20786 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:28:20786 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:28:20791 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:28:20797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:28:20798 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.4965ms
[29-06-2024 16:28:20799 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:28:20799 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.7181ms
[29-06-2024 16:28:22222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:28:22223 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:22223 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:28:22224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:28:22223 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4337ms
[29-06-2024 16:28:22224 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:22225 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:22227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.3294ms
[29-06-2024 16:28:22227 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:28:22227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:28:22228 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:28:22229 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:22230 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:28:22230 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:28:22232 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:28:22258 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:28:22258 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:28:22259 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 29.8243ms
[29-06-2024 16:28:22260 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:28:22261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:28:22261 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 36.4997ms
[29-06-2024 16:28:22261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 30.1169ms
[29-06-2024 16:28:22262 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:28:22263 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 35.3427ms
[29-06-2024 16:28:36342 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - null null
[29-06-2024 16:28:36343 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:36344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - 204 null null 1.534ms
[29-06-2024 16:28:36344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - "application/json" 95
[29-06-2024 16:28:36346 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:36346 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:28:36346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:28:36350 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:28:36353 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:28:36354 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:28:36356 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:28:36357 +03:00 Project_Keystone.Core.Services.AuthService ] User with email "user@example.com" updated successfully
[29-06-2024 16:28:36358 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:28:36359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:28:36359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 12.4918ms
[29-06-2024 16:28:36360 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:28:36360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - 200 null "application/json; charset=utf-8" 15.8482ms
[29-06-2024 16:28:36370 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:28:36371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:36372 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2448ms
[29-06-2024 16:28:36372 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:28:36373 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:28:36374 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:36374 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:36375 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:28:36375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.7548ms
[29-06-2024 16:28:36376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:28:36375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:28:36377 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:28:36378 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:28:36378 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:28:36381 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:28:36409 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:28:36423 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:28:36425 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 47.7369ms
[29-06-2024 16:28:36426 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:28:36426 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:28:36426 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 53.9609ms
[29-06-2024 16:28:36427 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 47.6814ms
[29-06-2024 16:28:36428 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:28:36428 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 52.8023ms
[29-06-2024 16:29:10720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - null null
[29-06-2024 16:29:10724 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:29:10724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - 204 null null 3.8131ms
[29-06-2024 16:29:10725 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - "application/json" 96
[29-06-2024 16:29:10726 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:29:10727 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:29:10727 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:29:10731 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:29:10732 +03:00 Project_Keystone.Core.Services.AuthService ] Update user failed. User with email "user@exampl.com" does not exist
[29-06-2024 16:29:10757 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:29:10757 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 29.6197ms
[29-06-2024 16:29:10757 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:29:10758 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - 404 null "application/json; charset=utf-8" 32.9459ms
[29-06-2024 16:30:42189 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 16:30:42332 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 16:30:42333 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 16:30:42334 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 16:30:42334 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 16:30:42334 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 16:30:43244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 16:30:43366 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 125.1946ms
[29-06-2024 16:30:43390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 16:30:43390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 16:30:43390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 16:30:43403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 11.6267ms
[29-06-2024 16:30:43410 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 16:30:43411 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 20.7422ms
[29-06-2024 16:30:43425 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 34.6024ms
[29-06-2024 16:30:43449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 16:30:43451 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 16:30:43452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.4528ms
[29-06-2024 16:30:43481 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 16:30:43584 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 102.866ms
[29-06-2024 16:30:48279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - null null
[29-06-2024 16:30:48281 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:30:48282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - 204 null null 3.9509ms
[29-06-2024 16:30:48284 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - "application/json" 96
[29-06-2024 16:30:48285 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:30:48370 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:30:48383 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:30:49473 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("27"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:30:49488 +03:00 Project_Keystone.Core.Services.AuthService ] Update user failed. User with email "user@exampl.com" does not exist
[29-06-2024 16:30:49535 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:30:49540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 1154.8362ms
[29-06-2024 16:30:49541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 16:30:49546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - 404 null "application/json; charset=utf-8" 1261.8581ms
[29-06-2024 16:32:03148 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:32:03148 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:32:03152 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:03153 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:03153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 5.8423ms
[29-06-2024 16:32:03154 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.7462ms
[29-06-2024 16:32:03155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:32:03155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:32:03160 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:03160 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:03163 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:32:03164 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:32:03166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:32:03166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:32:03214 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:32:03248 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:32:03249 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 81.2348ms
[29-06-2024 16:32:03249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:32:03250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 95.3903ms
[29-06-2024 16:32:03255 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:32:03299 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:32:03305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 138.2632ms
[29-06-2024 16:32:03306 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:32:03306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 151.3693ms
[29-06-2024 16:32:04515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:32:04516 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:04517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3327ms
[29-06-2024 16:32:04518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:32:04519 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:04519 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:32:04522 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:32:04553 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:32:04554 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:04555 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:32:04556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:32:04556 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:32:04558 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:04558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:32:04559 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:32:04564 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:32:04594 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:32:04595 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 37.8065ms
[29-06-2024 16:32:04595 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:32:04596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 42.7935ms
[29-06-2024 16:32:04606 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:32:04608 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:32:04608 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 48.8033ms
[29-06-2024 16:32:04609 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:32:04609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 53.1249ms
[29-06-2024 16:32:04628 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:32:04642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:32:04646 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 123.2652ms
[29-06-2024 16:32:04646 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:32:04646 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 128.9121ms
[29-06-2024 16:32:07739 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:32:07740 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:07741 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:32:07744 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:32:07770 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 16:32:07775 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:32:07820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:32:07826 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 81.6672ms
[29-06-2024 16:32:07827 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:32:07827 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 88.2502ms
[29-06-2024 16:32:16219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 16:32:16220 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:16220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.4473ms
[29-06-2024 16:32:16221 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 16:32:16222 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:16222 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:32:16225 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:32:16232 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:32:16301 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:32:16318 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:32:16323 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:32:16382 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:32:16390 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 16:32:16390 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 16:32:16391 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 165.9342ms
[29-06-2024 16:32:16392 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:32:16392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 171.263ms
[29-06-2024 16:32:16403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:32:16404 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:16405 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:32:16405 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:32:16412 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:32:16420 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:32:16422 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 16.2565ms
[29-06-2024 16:32:16423 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:32:16423 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 20.3007ms
[29-06-2024 16:32:17576 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:32:17577 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:17578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:32:17578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.731ms
[29-06-2024 16:32:17579 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:17579 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:32:17580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.3798ms
[29-06-2024 16:32:17581 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:17581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:32:17583 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:32:17584 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:32:17585 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:32:17585 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:32:17586 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:32:17590 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:32:17645 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:32:17646 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:32:17647 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 61.2427ms
[29-06-2024 16:32:17648 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:32:17648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 69.2093ms
[29-06-2024 16:32:17648 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:32:17649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 62.8097ms
[29-06-2024 16:32:17650 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:32:17650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 69.2763ms
[29-06-2024 16:34:23678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:34:23681 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:34:23682 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.0876ms
[29-06-2024 16:34:23685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:34:23687 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:34:23687 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:34:23688 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:34:23696 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:34:23701 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:34:23702 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.1257ms
[29-06-2024 16:34:23702 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:34:23703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.3372ms
[29-06-2024 16:34:23731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:34:23732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:34:23732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.0367ms
[29-06-2024 16:34:23734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:34:23736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:34:23739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:34:23741 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:34:23741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 7.1715ms
[29-06-2024 16:34:23742 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:34:23742 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:34:23743 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:34:23744 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:34:23745 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:34:23746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:34:23749 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:34:23784 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:34:23786 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 42.0765ms
[29-06-2024 16:34:23786 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:34:23790 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:34:23792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 55.8845ms
[29-06-2024 16:34:23793 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:34:23793 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 46.643ms
[29-06-2024 16:34:23794 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:34:23794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 52.3306ms
[29-06-2024 16:36:01225 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:36:01228 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:01228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.7651ms
[29-06-2024 16:36:01231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:36:01233 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:01233 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:36:01234 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:36:01238 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:36:01241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:36:01242 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.9912ms
[29-06-2024 16:36:01243 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:36:01244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.2175ms
[29-06-2024 16:36:01262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:36:01262 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:01263 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.1787ms
[29-06-2024 16:36:01264 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:36:01263 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:36:01268 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:01268 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:01269 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:36:01269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.0905ms
[29-06-2024 16:36:01269 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:36:01270 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:36:01272 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:01272 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:36:01272 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:36:01274 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:36:01304 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:36:01304 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 33.6439ms
[29-06-2024 16:36:01305 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:36:01306 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:36:01306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 42.0752ms
[29-06-2024 16:36:01311 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:36:01311 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 38.1577ms
[29-06-2024 16:36:01311 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:36:01312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 42.077ms
[29-06-2024 16:36:13048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:36:13049 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:13050 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4474ms
[29-06-2024 16:36:13050 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:36:13052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:13052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:36:13053 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:36:13058 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:36:13062 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:36:13062 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.4938ms
[29-06-2024 16:36:13063 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:36:13063 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.9116ms
[29-06-2024 16:36:13080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:36:13081 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:13081 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:36:13082 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:36:13087 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:36:13095 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:36:13096 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 13.426ms
[29-06-2024 16:36:13096 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:36:13097 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.7713ms
[29-06-2024 16:36:13869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:36:13869 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:13870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.5709ms
[29-06-2024 16:36:13871 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:36:13871 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:36:13872 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:13873 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:13873 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.9798ms
[29-06-2024 16:36:13874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:36:13873 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:36:13875 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:13875 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:36:13876 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:36:13876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:36:13880 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:36:13889 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:36:13911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:36:13911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 35.1123ms
[29-06-2024 16:36:13912 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:36:13912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:36:13912 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 41.21ms
[29-06-2024 16:36:13912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 35.4483ms
[29-06-2024 16:36:13914 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:36:13914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 39.8234ms
[29-06-2024 16:36:15101 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:36:15102 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:15102 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:36:15102 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:36:15107 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:36:15110 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:36:15111 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.8468ms
[29-06-2024 16:36:15112 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:36:15112 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.6762ms
[29-06-2024 16:36:15126 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:36:15127 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:36:15128 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:36:15128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:36:15133 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:36:15140 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:36:15141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.3582ms
[29-06-2024 16:36:15142 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:36:15142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.0671ms
[29-06-2024 16:45:01413 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 16:45:01564 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 16:45:01565 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 16:45:01566 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 16:45:01567 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 16:45:01567 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 16:45:02420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 16:45:02542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 125.0318ms
[29-06-2024 16:45:02570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 16:45:02570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 16:45:02570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 16:45:02580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 9.9423ms
[29-06-2024 16:45:02585 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 16:45:02586 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.8924ms
[29-06-2024 16:45:02602 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 31.7225ms
[29-06-2024 16:45:02634 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 16:45:02635 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 16:45:02636 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.5826ms
[29-06-2024 16:45:02667 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 16:45:02768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 101.4399ms
[29-06-2024 16:45:06959 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:45:06961 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:07018 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:45:07033 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:45:08087 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 16:45:08345 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:45:08437 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:45:08459 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1423.2877ms
[29-06-2024 16:45:08460 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:45:08464 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1505.3949ms
[29-06-2024 16:45:17585 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:45:17588 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:17591 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:45:17607 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:45:17697 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:45:17708 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:45:17712 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 103.8638ms
[29-06-2024 16:45:17712 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:45:17713 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 127.7964ms
[29-06-2024 16:45:23509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:45:23510 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:23512 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:45:23513 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:45:23532 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:45:23541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:45:23542 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 28.7146ms
[29-06-2024 16:45:23543 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:45:23543 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 34.3698ms
[29-06-2024 16:45:32611 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 16:45:32612 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:32614 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 2.1812ms
[29-06-2024 16:45:32615 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 16:45:32616 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:32616 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:45:32619 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:45:32648 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:45:32736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:45:32764 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:45:32769 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:45:32826 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:45:32834 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 16:45:32836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 16:45:32837 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 217.4704ms
[29-06-2024 16:45:32837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:45:32839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 223.8108ms
[29-06-2024 16:45:32849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:45:32850 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:32851 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:45:32851 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:45:32857 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:45:32864 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:45:32865 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.7204ms
[29-06-2024 16:45:32865 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:45:32865 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.3814ms
[29-06-2024 16:45:33932 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:45:33933 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:33933 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.6723ms
[29-06-2024 16:45:33934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:45:33934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:45:33936 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:33937 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:33937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.4201ms
[29-06-2024 16:45:33938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:45:33939 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:45:33966 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:45:33966 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:45:33968 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:45:33968 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:45:33976 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:45:34016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:45:34018 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 49.7984ms
[29-06-2024 16:45:34019 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:45:34019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 85.1137ms
[29-06-2024 16:45:34021 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:45:34025 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:45:34027 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 57.6585ms
[29-06-2024 16:45:34027 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:45:34028 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 90.0136ms
[29-06-2024 16:47:02126 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:47:02130 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:47:02131 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:47:02131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:47:02138 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:47:02145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:47:02146 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.4854ms
[29-06-2024 16:47:02147 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:47:02147 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.4671ms
[29-06-2024 16:50:38088 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:50:38091 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:50:38094 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:50:38097 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:50:38097 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 10.0468ms
[29-06-2024 16:50:38116 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 16:50:38117 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:50:38117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.826ms
[29-06-2024 16:50:38118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 40
[29-06-2024 16:50:38119 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:50:38120 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:50:38123 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:50:38180 +03:00 Project_Keystone.Core.Services.AuthService ] Failed to get principal from expired token
System.ArgumentNullException: IDX10000: The parameter 'token' cannot be a 'null' or an empty object.  (Parameter 'token')
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Project_Keystone.Infrastructure.Repositories.TokenRepository.GetPrincipalFromExpiredToken(String token) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Infrastructure\Repositories\TokenRepository.cs:line 69
   at Project_Keystone.Core.Services.AuthService.RefreshTokenAsync(TokenModel tokenModel) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 96
[29-06-2024 16:50:38218 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:50:38218 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 94.7542ms
[29-06-2024 16:50:38219 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:50:38219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 401 null "application/json; charset=utf-8" 101.0586ms
[29-06-2024 16:51:03733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 16:51:03736 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:03736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 4.052ms
[29-06-2024 16:51:03740 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 16:51:03741 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:03741 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:51:03742 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:51:03746 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:51:03804 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:51:03806 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:51:03807 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:51:03809 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:51:03810 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 16:51:03810 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 16:51:03811 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 68.4517ms
[29-06-2024 16:51:03811 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:51:03812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 72.0904ms
[29-06-2024 16:51:03826 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:51:03827 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:03827 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:51:03828 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:51:03834 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:51:03840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:51:03842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 13.4085ms
[29-06-2024 16:51:03842 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:51:03843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 16.9274ms
[29-06-2024 16:51:20539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:51:20540 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:20540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6745ms
[29-06-2024 16:51:20541 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:51:20542 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:20544 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:20547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:51:20571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:51:20573 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:20575 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:51:20576 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:51:20580 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:51:20593 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:51:20597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:51:20599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 51.0561ms
[29-06-2024 16:51:20599 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:20600 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 58.8653ms
[29-06-2024 16:51:20601 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:51:20603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 22.681ms
[29-06-2024 16:51:20604 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:51:20604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 33.6839ms
[29-06-2024 16:51:24502 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:51:24503 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:24504 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:24504 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:51:24511 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:51:24515 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:51:24515 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.6537ms
[29-06-2024 16:51:24516 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:24517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.4703ms
[29-06-2024 16:51:24530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:51:24531 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:24531 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:51:24531 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:51:24538 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:51:24545 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:51:24546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.2259ms
[29-06-2024 16:51:24547 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:51:24547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.7449ms
[29-06-2024 16:51:27005 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:51:27006 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:27007 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4297ms
[29-06-2024 16:51:27008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:51:27009 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:27009 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:27010 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:51:27015 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:51:27018 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:51:27019 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.6189ms
[29-06-2024 16:51:27019 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:27020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.5682ms
[29-06-2024 16:51:27030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:51:27031 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:27031 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:51:27032 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:51:27039 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:51:27047 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:51:27048 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.4772ms
[29-06-2024 16:51:27049 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:51:27049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 19.2182ms
[29-06-2024 16:51:29158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:51:29159 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:29159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:51:29160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.5595ms
[29-06-2024 16:51:29160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:51:29160 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:29162 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:29162 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.0468ms
[29-06-2024 16:51:29163 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:51:29163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:51:29164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:51:29165 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:29166 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:51:29166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:51:29169 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:51:29198 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:51:29199 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:51:29200 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 34.1595ms
[29-06-2024 16:51:29201 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:51:29201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 40.731ms
[29-06-2024 16:51:29201 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:51:29202 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 35.6938ms
[29-06-2024 16:51:29203 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:51:29203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 39.9095ms
[29-06-2024 16:51:48059 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:51:48060 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:48061 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4464ms
[29-06-2024 16:51:48062 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:51:48063 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:48064 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:48064 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:51:48069 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:51:48072 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:51:48073 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.3989ms
[29-06-2024 16:51:48074 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:48074 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.8423ms
[29-06-2024 16:51:48131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:51:48131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:51:48132 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:48132 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:48133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.2386ms
[29-06-2024 16:51:48134 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:51:48133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4464ms
[29-06-2024 16:51:48134 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:51:48138 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:48139 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:48140 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:51:48140 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:51:48140 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:51:48140 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:51:48144 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:51:48145 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:51:48174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:51:48174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 33.3232ms
[29-06-2024 16:51:48174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:51:48175 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:51:48175 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 33.7665ms
[29-06-2024 16:51:48176 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 41.8723ms
[29-06-2024 16:51:48176 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:51:48177 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 42.9636ms
[29-06-2024 16:51:49202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:51:49203 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:49204 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:49204 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:51:49208 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:51:49211 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:51:49212 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.1219ms
[29-06-2024 16:51:49212 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:49213 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.8394ms
[29-06-2024 16:51:49262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:51:49263 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:49264 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:51:49264 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:51:49269 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:51:49278 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:51:49298 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:51:49299 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:49299 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 34.4304ms
[29-06-2024 16:51:49299 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:51:49300 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:51:49300 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:51:49300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 38.6132ms
[29-06-2024 16:51:49304 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:51:49306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:51:49306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.6381ms
[29-06-2024 16:51:49307 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:51:49307 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 29.0832ms
[29-06-2024 16:51:50471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:51:50472 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:50473 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:50473 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 16:51:50478 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 16:51:50481 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 16:51:50482 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.1421ms
[29-06-2024 16:51:50483 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 16:51:50483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.7555ms
[29-06-2024 16:51:50518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:51:50519 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:50520 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:51:50520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:51:50522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:51:50523 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:51:50523 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:51:50524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:51:50525 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:51:50554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:51:50555 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 33.9074ms
[29-06-2024 16:51:50555 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:51:50556 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 37.8133ms
[29-06-2024 16:51:50557 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:51:50559 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:51:50560 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 35.6993ms
[29-06-2024 16:51:50560 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:51:50561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 39.5224ms
[29-06-2024 16:53:00573 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:53:00577 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:00577 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:53:00578 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:53:00578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 4.7027ms
[29-06-2024 16:53:00594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 16:53:00595 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:00595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.2653ms
[29-06-2024 16:53:00596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 40
[29-06-2024 16:53:00597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:00597 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:53:00597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:53:00626 +03:00 Project_Keystone.Core.Services.AuthService ] Failed to get principal from expired token
System.ArgumentNullException: IDX10000: The parameter 'token' cannot be a 'null' or an empty object.  (Parameter 'token')
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Project_Keystone.Infrastructure.Repositories.TokenRepository.GetPrincipalFromExpiredToken(String token) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Infrastructure\Repositories\TokenRepository.cs:line 69
   at Project_Keystone.Core.Services.AuthService.RefreshTokenAsync(TokenModel tokenModel) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 96
[29-06-2024 16:53:00658 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:53:00659 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 60.3485ms
[29-06-2024 16:53:00659 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:53:00660 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 401 null "application/json; charset=utf-8" 64.0175ms
[29-06-2024 16:53:07520 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:53:07521 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:07522 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:53:07522 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:53:07522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 2.2869ms
[29-06-2024 16:53:07545 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 16:53:07546 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:07546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.5356ms
[29-06-2024 16:53:07547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 40
[29-06-2024 16:53:07548 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:07548 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:53:07549 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:53:07568 +03:00 Project_Keystone.Core.Services.AuthService ] Failed to get principal from expired token
System.ArgumentNullException: IDX10000: The parameter 'token' cannot be a 'null' or an empty object.  (Parameter 'token')
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Project_Keystone.Infrastructure.Repositories.TokenRepository.GetPrincipalFromExpiredToken(String token) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Infrastructure\Repositories\TokenRepository.cs:line 69
   at Project_Keystone.Core.Services.AuthService.RefreshTokenAsync(TokenModel tokenModel) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 96
[29-06-2024 16:53:07603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:53:07603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 54.2308ms
[29-06-2024 16:53:07604 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:53:07604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 401 null "application/json; charset=utf-8" 57.7044ms
[29-06-2024 16:53:58184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:53:58190 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:58191 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:53:58192 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:53:58192 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 8.2102ms
[29-06-2024 16:53:58211 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 16:53:58212 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:58213 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.6594ms
[29-06-2024 16:53:58214 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 40
[29-06-2024 16:53:58215 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:58215 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:53:58216 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:53:58235 +03:00 Project_Keystone.Core.Services.AuthService ] Failed to get principal from expired token
System.ArgumentNullException: IDX10000: The parameter 'token' cannot be a 'null' or an empty object.  (Parameter 'token')
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Project_Keystone.Infrastructure.Repositories.TokenRepository.GetPrincipalFromExpiredToken(String token) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Infrastructure\Repositories\TokenRepository.cs:line 69
   at Project_Keystone.Core.Services.AuthService.RefreshTokenAsync(TokenModel tokenModel) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 96
[29-06-2024 16:53:58267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:53:58268 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 51.542ms
[29-06-2024 16:53:58268 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:53:58269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 401 null "application/json; charset=utf-8" 55.2449ms
[29-06-2024 16:53:58928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:53:58929 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:58929 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:53:58930 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:53:58930 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 2.7004ms
[29-06-2024 16:53:58953 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 40
[29-06-2024 16:53:58954 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:53:58954 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:53:58955 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:53:58979 +03:00 Project_Keystone.Core.Services.AuthService ] Failed to get principal from expired token
System.ArgumentNullException: IDX10000: The parameter 'token' cannot be a 'null' or an empty object.  (Parameter 'token')
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Project_Keystone.Infrastructure.Repositories.TokenRepository.GetPrincipalFromExpiredToken(String token) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Infrastructure\Repositories\TokenRepository.cs:line 69
   at Project_Keystone.Core.Services.AuthService.RefreshTokenAsync(TokenModel tokenModel) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 96
[29-06-2024 16:53:59013 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:53:59013 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 57.8469ms
[29-06-2024 16:53:59014 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:53:59014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 401 null "application/json; charset=utf-8" 61.2535ms
[29-06-2024 16:54:11631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 16:54:11632 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:54:11632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.3847ms
[29-06-2024 16:54:11633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 16:54:11634 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:54:11634 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:54:11635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:54:11639 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:54:11701 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 16:54:11702 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 16:54:11703 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 16:54:11705 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 16:54:11706 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 16:54:11706 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 16:54:11707 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 71.4828ms
[29-06-2024 16:54:11707 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 16:54:11708 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 74.6531ms
[29-06-2024 16:54:11727 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 16:54:11727 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:54:11728 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:54:11728 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 16:54:11735 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 16:54:11742 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 16:54:11743 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.4212ms
[29-06-2024 16:54:11744 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 16:54:11744 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.6854ms
[29-06-2024 16:55:10522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:55:10525 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:55:10528 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:55:10528 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:55:10529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 7.2259ms
[29-06-2024 16:55:10529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 4.2591ms
[29-06-2024 16:55:10534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 16:55:10537 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 16:55:10538 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:55:10539 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:55:10539 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:55:10540 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:55:10540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 16:55:10540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:55:10544 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 16:55:10544 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 16:55:10572 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:55:10572 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 31.9589ms
[29-06-2024 16:55:10573 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 16:55:10573 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 16:55:10573 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 32.509ms
[29-06-2024 16:55:10574 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 40.3315ms
[29-06-2024 16:55:10574 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 16:55:10576 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 38.9249ms
[29-06-2024 16:56:28150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:56:28154 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:56:28154 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:56:28154 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:56:28155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 4.4833ms
[29-06-2024 16:56:28185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 16:56:28186 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:56:28187 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.6012ms
[29-06-2024 16:56:28188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 40
[29-06-2024 16:56:28189 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:56:28189 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:56:28190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:56:28209 +03:00 Project_Keystone.Core.Services.AuthService ] Failed to get principal from expired token
System.ArgumentNullException: IDX10000: The parameter 'token' cannot be a 'null' or an empty object.  (Parameter 'token')
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Project_Keystone.Infrastructure.Repositories.TokenRepository.GetPrincipalFromExpiredToken(String token) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Infrastructure\Repositories\TokenRepository.cs:line 69
   at Project_Keystone.Core.Services.AuthService.RefreshTokenAsync(TokenModel tokenModel) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 96
[29-06-2024 16:56:28237 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:56:28238 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 47.551ms
[29-06-2024 16:56:28238 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:56:28239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 401 null "application/json; charset=utf-8" 51.2713ms
[29-06-2024 16:59:22134 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 16:59:22138 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:59:22138 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 16:59:22139 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 16:59:22139 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 4.9794ms
[29-06-2024 16:59:22168 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 16:59:22169 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:59:22169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.6263ms
[29-06-2024 16:59:22171 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 40
[29-06-2024 16:59:22172 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 16:59:22172 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:59:22173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 16:59:22197 +03:00 Project_Keystone.Core.Services.AuthService ] Failed to get principal from expired token
System.ArgumentNullException: IDX10000: The parameter 'token' cannot be a 'null' or an empty object.  (Parameter 'token')
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Project_Keystone.Infrastructure.Repositories.TokenRepository.GetPrincipalFromExpiredToken(String token) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Infrastructure\Repositories\TokenRepository.cs:line 69
   at Project_Keystone.Core.Services.AuthService.RefreshTokenAsync(TokenModel tokenModel) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 96
[29-06-2024 16:59:22225 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 16:59:22226 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 52.5346ms
[29-06-2024 16:59:22226 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 16:59:22227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 401 null "application/json; charset=utf-8" 56.1576ms
[29-06-2024 17:04:02351 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 17:04:02512 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 17:04:02513 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 17:04:02517 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 17:04:02518 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 17:04:02518 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 17:04:03442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 17:04:03571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 132.7598ms
[29-06-2024 17:04:03606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 17:04:03606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 17:04:03606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 17:04:03614 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.549ms
[29-06-2024 17:04:03622 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 17:04:03623 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 17.0427ms
[29-06-2024 17:04:03639 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 33.2052ms
[29-06-2024 17:04:03668 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 17:04:03671 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 17:04:03671 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.1177ms
[29-06-2024 17:04:03707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 17:04:03829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 122.5334ms
[29-06-2024 17:10:55428 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:10:55431 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:10:55488 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:10:55492 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:10:55493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 65.3619ms
[29-06-2024 17:11:09600 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:11:09602 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:11:09605 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:11:09605 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:11:09606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 5.4668ms
[29-06-2024 17:12:09972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 17:12:09976 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:09976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 4.6806ms
[29-06-2024 17:12:09978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 17:12:09979 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:09981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:12:09995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:12:11125 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:12:11270 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:12:11298 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:12:11305 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:12:11370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:12:11379 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 17:12:11383 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:12:11388 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1390.3775ms
[29-06-2024 17:12:11389 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:12:11394 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 1415.9406ms
[29-06-2024 17:12:11405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:12:11406 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:11407 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:12:11412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:12:11510 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 17:12:11516 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:12:11580 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:12:11597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 184.0499ms
[29-06-2024 17:12:11598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:12:11598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 193.3719ms
[29-06-2024 17:12:15312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:12:15313 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:15314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:15314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.8141ms
[29-06-2024 17:12:15315 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:15315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:12:15316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.7142ms
[29-06-2024 17:12:15317 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:15317 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:15319 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:15346 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:15346 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:15349 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:12:15349 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:12:15366 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:12:15372 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:12:15372 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:12:15411 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:12:15412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 62.9645ms
[29-06-2024 17:12:15413 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:15413 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 63.3528ms
[29-06-2024 17:12:15413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 96.0375ms
[29-06-2024 17:12:15414 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:15415 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 100.4391ms
[29-06-2024 17:12:33403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:12:33404 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:33404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4266ms
[29-06-2024 17:12:33405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:12:33406 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:33407 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:33408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:12:33415 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:12:33442 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:12:33442 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 33.905ms
[29-06-2024 17:12:33443 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:33443 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 38.1082ms
[29-06-2024 17:12:35459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - null null
[29-06-2024 17:12:35460 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:35460 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - 204 null null 1.3426ms
[29-06-2024 17:12:35461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - "application/json" 101
[29-06-2024 17:12:35462 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:35463 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 17:12:35465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAddress(Project_Keystone.Api.Models.DTOs.AddressDTos.AddAddressDTO)" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:12:35477 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:12:35514 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ADDRESSES] ([CITY], [COUNTRY], [STREET_ADDRESS], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ADDRESS_ID]
VALUES (@p0, @p1, @p2, @p3, @p4);"
[29-06-2024 17:12:35523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:12:35524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)" in 58.049ms
[29-06-2024 17:12:35524 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 17:12:35525 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - 200 null "application/json; charset=utf-8" 63.8382ms
[29-06-2024 17:12:35528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:12:35529 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:35530 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:35530 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:12:35535 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:12:35538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:12:35539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:35540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.9995ms
[29-06-2024 17:12:35540 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:35541 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:12:35544 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:35541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:35541 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.7701ms
[29-06-2024 17:12:35545 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:35546 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:35546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 17.6725ms
[29-06-2024 17:12:35550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:35550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:35551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:12:35551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:12:35555 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:12:35557 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:12:35557 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.702ms
[29-06-2024 17:12:35558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:35558 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 17.6951ms
[29-06-2024 17:12:35564 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:12:35566 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:12:35567 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 14.5917ms
[29-06-2024 17:12:35567 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:35568 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 24.1506ms
[29-06-2024 17:12:40919 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:12:40920 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:40920 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4938ms
[29-06-2024 17:12:40922 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:12:40923 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:40923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:12:40925 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:12:40943 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:12:40954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:12:40957 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 30.391ms
[29-06-2024 17:12:40957 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:12:40958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 36.4684ms
[29-06-2024 17:12:40963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:40964 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:40964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.6868ms
[29-06-2024 17:12:40965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:40966 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:40966 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:40967 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:40967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.1258ms
[29-06-2024 17:12:40968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:40969 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:12:40974 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:12:40976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:12:40976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.2031ms
[29-06-2024 17:12:40977 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:40977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:40978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.1127ms
[29-06-2024 17:12:40978 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:40980 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:40980 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:12:40984 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:12:40986 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:12:40987 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.9368ms
[29-06-2024 17:12:40987 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:40988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.3514ms
[29-06-2024 17:12:40990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:12:40991 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:40991 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.1622ms
[29-06-2024 17:12:40992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:12:40993 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:40994 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:12:40996 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:12:41002 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:12:41018 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 17:12:41040 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:12:41044 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 46.8078ms
[29-06-2024 17:12:41044 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:12:41045 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 52.5822ms
[29-06-2024 17:12:45249 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:12:45250 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:45251 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:12:45251 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:12:45256 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:12:45259 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:12:45259 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.2389ms
[29-06-2024 17:12:45260 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:12:45260 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.7108ms
[29-06-2024 17:12:45299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:12:45300 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:45300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:45300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4954ms
[29-06-2024 17:12:45301 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:12:45301 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:45303 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:45304 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:45304 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:45304 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:12:45304 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:12:45308 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:12:45308 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:12:45311 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:12:45312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:12:45312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.1193ms
[29-06-2024 17:12:45312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.9344ms
[29-06-2024 17:12:45313 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:45313 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:45314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.4335ms
[29-06-2024 17:12:45314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.8445ms
[29-06-2024 17:12:48515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:12:48516 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:48516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3258ms
[29-06-2024 17:12:48517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:12:48518 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:48519 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:12:48519 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:12:48524 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:12:48528 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:12:48528 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.5607ms
[29-06-2024 17:12:48529 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:12:48530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.5004ms
[29-06-2024 17:12:48580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:12:48581 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:48582 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:48582 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:48583 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:48583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:12:48584 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.6792ms
[29-06-2024 17:12:48585 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:12:48586 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:12:48587 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:48587 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:12:48588 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:12:48590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:12:48590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.2866ms
[29-06-2024 17:12:48591 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:12:48592 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:12:48592 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 11.313ms
[29-06-2024 17:12:48594 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:12:48594 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.0489ms
[29-06-2024 17:12:48595 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:12:48595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.5297ms
[29-06-2024 17:13:25405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:13:25408 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25409 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.21ms
[29-06-2024 17:13:25413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:13:25422 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25426 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:13:11 PM', Current time (UTC): '6/29/2024 2:13:25 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:13:25439 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:13:11 PM', Current time (UTC): '6/29/2024 2:13:25 PM'."
[29-06-2024 17:13:25439 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:13:25441 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:13:25442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 29.5864ms
[29-06-2024 17:13:25446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:13:25447 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25447 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.5577ms
[29-06-2024 17:13:25449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:13:25450 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25451 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:13:11 PM', Current time (UTC): '6/29/2024 2:13:25 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:13:25452 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:13:11 PM', Current time (UTC): '6/29/2024 2:13:25 PM'."
[29-06-2024 17:13:25452 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:13:25455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:13:25469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:13:25470 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3661ms
[29-06-2024 17:13:25471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:13:25475 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:13:25479 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25480 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25481 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 9.5101ms
[29-06-2024 17:13:25481 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:13:11 PM', Current time (UTC): '6/29/2024 2:13:25 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:13:25482 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:13:25483 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:13:11 PM', Current time (UTC): '6/29/2024 2:13:25 PM'."
[29-06-2024 17:13:25484 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25484 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:13:25485 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:13:25486 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:13:11 PM', Current time (UTC): '6/29/2024 2:13:25 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:13:25486 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:13:25487 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:13:11 PM', Current time (UTC): '6/29/2024 2:13:25 PM'."
[29-06-2024 17:13:25488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 401 0 null 12.9964ms
[29-06-2024 17:13:25488 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:13:25488 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:13:25490 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:13:25490 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 8.7293ms
[29-06-2024 17:13:25492 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:13:25494 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:13:25498 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:13:25500 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:13:25500 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 44.7942ms
[29-06-2024 17:13:25501 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:13:25502 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 53.2224ms
[29-06-2024 17:13:25512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:13:25512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:13:25512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:13:25513 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:25515 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:13:25515 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:13:25515 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:13:25515 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:13:25516 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:13:25516 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:13:25520 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:13:25520 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:13:25522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:13:25523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:13:25524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:13:25524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.5801ms
[29-06-2024 17:13:25524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.4642ms
[29-06-2024 17:13:25525 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:13:25525 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:13:25525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:13:25526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.9437ms
[29-06-2024 17:13:25526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 14.2542ms
[29-06-2024 17:13:25526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.9436ms
[29-06-2024 17:13:25529 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:13:25529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.3903ms
[29-06-2024 17:13:31997 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:13:31997 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:31998 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2015ms
[29-06-2024 17:13:31999 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:13:32000 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:32000 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:13:32000 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:13:32004 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:13:32007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:13:32008 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.6945ms
[29-06-2024 17:13:32008 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:13:32009 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.9423ms
[29-06-2024 17:13:32034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:13:32034 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:32034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:13:32035 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3635ms
[29-06-2024 17:13:32036 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:32036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:13:32042 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 7.1265ms
[29-06-2024 17:13:32043 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:13:32042 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:32045 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:32045 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:13:32047 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:13:32050 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:13:32051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:13:32055 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:13:32056 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:13:32060 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:13:32061 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 9.7059ms
[29-06-2024 17:13:32061 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:13:32061 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:13:32062 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 10.6652ms
[29-06-2024 17:13:32063 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 26.9621ms
[29-06-2024 17:13:32063 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:13:32064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 21.6486ms
[29-06-2024 17:13:32665 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:13:32666 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:32666 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:13:32667 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:13:32671 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:13:32673 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:13:32674 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.7727ms
[29-06-2024 17:13:32674 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:13:32675 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.2333ms
[29-06-2024 17:13:32700 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:13:32701 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:32701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:13:32701 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:13:32702 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:13:32702 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:13:32703 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:13:32704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:13:32706 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:13:32708 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:13:32709 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:13:32710 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.5331ms
[29-06-2024 17:13:32710 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:13:32710 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:13:32711 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.3772ms
[29-06-2024 17:13:32711 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 11.312ms
[29-06-2024 17:13:32711 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:13:32713 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.696ms
[29-06-2024 17:14:23078 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:14:23082 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:23083 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.495ms
[29-06-2024 17:14:23092 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:14:23094 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:23096 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:14:23097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:14:23102 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:14:23112 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:14:23112 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 14.7032ms
[29-06-2024 17:14:23113 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:14:23114 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 21.9774ms
[29-06-2024 17:14:23149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:14:23150 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:23151 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.8979ms
[29-06-2024 17:14:23152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:14:23153 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:23154 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:14:23154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:14:23160 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:14:23161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:14:23162 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:23162 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:14:23162 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.3303ms
[29-06-2024 17:14:23164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.4746ms
[29-06-2024 17:14:23166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:14:23168 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:14:23169 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:23169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 17.105ms
[29-06-2024 17:14:23170 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:14:23171 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:14:23176 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:14:23178 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:14:23179 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.7266ms
[29-06-2024 17:14:23180 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:14:23180 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 14.0522ms
[29-06-2024 17:14:25580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:14:25581 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:25582 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:14:25 PM', Current time (UTC): '6/29/2024 2:14:25 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:14:25583 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:14:25 PM', Current time (UTC): '6/29/2024 2:14:25 PM'."
[29-06-2024 17:14:25583 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:14:25584 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:14:25584 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 3.834ms
[29-06-2024 17:14:25608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:14:25609 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:25609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.3211ms
[29-06-2024 17:14:25610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:14:25611 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:25612 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:14:25 PM', Current time (UTC): '6/29/2024 2:14:25 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:14:25613 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:14:25 PM', Current time (UTC): '6/29/2024 2:14:25 PM'."
[29-06-2024 17:14:25613 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:14:25614 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:14:25618 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:14:25619 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:14:25620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:14:25621 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:25621 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:14:25624 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:25625 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:14:25 PM', Current time (UTC): '6/29/2024 2:14:25 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:14:25626 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:14:25 PM', Current time (UTC): '6/29/2024 2:14:25 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:14:25626 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:14:25627 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:14:25 PM', Current time (UTC): '6/29/2024 2:14:25 PM'."
[29-06-2024 17:14:25627 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:14:25 PM', Current time (UTC): '6/29/2024 2:14:25 PM'."
[29-06-2024 17:14:25628 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:14:25629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:14:25629 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:14:25629 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:14:25630 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:14:25630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 401 0 null 11.3491ms
[29-06-2024 17:14:25631 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:14:25631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 10.7998ms
[29-06-2024 17:14:25633 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:14:25634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 20.2321ms
[29-06-2024 17:14:25635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:14:25635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 25.4171ms
[29-06-2024 17:14:25638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:14:25638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:14:25639 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:25639 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:14:25639 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:25640 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:14:25640 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:25641 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:14:25641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:14:25641 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:14:25641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:14:25642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:14:25645 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:14:25646 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:14:25647 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:14:25648 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:14:25649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:14:25649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.1336ms
[29-06-2024 17:14:25649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.7411ms
[29-06-2024 17:14:25650 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:14:25650 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:14:25650 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:14:25650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.965ms
[29-06-2024 17:14:25651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.7475ms
[29-06-2024 17:14:25651 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.1555ms
[29-06-2024 17:14:25652 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:14:25654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.9629ms
[29-06-2024 17:14:29629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:14:29630 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:29630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3391ms
[29-06-2024 17:14:29631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:14:29632 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:29633 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:14:29633 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:14:29637 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:14:29640 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:14:29640 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.3552ms
[29-06-2024 17:14:29641 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:14:29641 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0602ms
[29-06-2024 17:14:29668 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:14:29669 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:29669 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:14:29672 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:14:29670 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.3421ms
[29-06-2024 17:14:29672 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:29673 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:29676 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.2187ms
[29-06-2024 17:14:29676 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:14:29681 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:14:29681 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:14:29682 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:14:29683 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:14:29684 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:14:29686 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:14:29688 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:14:29689 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:14:29690 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.4168ms
[29-06-2024 17:14:29691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:14:29691 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:14:29691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.0434ms
[29-06-2024 17:14:29692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 19.8884ms
[29-06-2024 17:14:29692 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:14:29693 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.8508ms
[29-06-2024 17:16:36510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:16:36513 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.8451ms
[29-06-2024 17:16:36517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:16:36521 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36521 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:15:25 PM', Current time (UTC): '6/29/2024 2:16:36 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:16:36522 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:15:25 PM', Current time (UTC): '6/29/2024 2:16:36 PM'."
[29-06-2024 17:16:36522 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:16:36523 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:16:36523 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 6.0897ms
[29-06-2024 17:16:36541 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:16:36542 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.232ms
[29-06-2024 17:16:36543 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:16:36544 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36545 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:15:25 PM', Current time (UTC): '6/29/2024 2:16:36 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:16:36545 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:15:25 PM', Current time (UTC): '6/29/2024 2:16:36 PM'."
[29-06-2024 17:16:36546 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:16:36546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:16:36551 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:16:36553 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:16:36554 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:16:36556 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:16:36557 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:16:36558 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:16:36558 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:16:36560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:16:36559 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 12.2766ms
[29-06-2024 17:16:36560 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36560 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.6017ms
[29-06-2024 17:16:36561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.8529ms
[29-06-2024 17:16:36561 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:16:36565 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:16:36564 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:16:36569 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 25.861ms
[29-06-2024 17:16:36569 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:16:36570 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36572 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:15:25 PM', Current time (UTC): '6/29/2024 2:16:36 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:16:36572 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36573 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:15:25 PM', Current time (UTC): '6/29/2024 2:16:36 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:16:36573 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:15:25 PM', Current time (UTC): '6/29/2024 2:16:36 PM'."
[29-06-2024 17:16:36573 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:16:36574 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:15:25 PM', Current time (UTC): '6/29/2024 2:16:36 PM'."
[29-06-2024 17:16:36574 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:16:36575 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:16:36575 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:16:36575 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:16:36576 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:16:36576 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 11.8067ms
[29-06-2024 17:16:36577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 401 0 null 12.312ms
[29-06-2024 17:16:36579 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:16:36580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:16:36581 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36581 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:16:36582 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:16:36582 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:16:36583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9533ms
[29-06-2024 17:16:36583 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:16:36584 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.4956ms
[29-06-2024 17:16:36586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:16:36588 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:16:36589 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:16:36590 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:16:36591 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:16:36592 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:16:36593 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 10.1923ms
[29-06-2024 17:16:36593 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:16:36593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 13.1031ms
[29-06-2024 17:16:36596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:16:36597 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:16:36597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36598 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:36598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:16:36598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:16:36598 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:16:36599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:16:36602 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:16:36603 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:16:36605 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:16:36605 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.9036ms
[29-06-2024 17:16:36605 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:16:36606 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:16:36606 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.2632ms
[29-06-2024 17:16:36606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 10.4208ms
[29-06-2024 17:16:36607 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:16:36608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.368ms
[29-06-2024 17:16:51777 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:16:51778 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:51778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3768ms
[29-06-2024 17:16:51779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:16:51780 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:51780 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:16:51781 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:16:51785 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:16:51787 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:16:51788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.6352ms
[29-06-2024 17:16:51788 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:16:51789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.4325ms
[29-06-2024 17:16:51841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:16:51842 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:51842 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:16:51843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:16:51843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.337ms
[29-06-2024 17:16:51843 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:51844 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:51845 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.1201ms
[29-06-2024 17:16:51846 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:16:51846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:16:51847 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:16:51848 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:51849 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:16:51849 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:16:51851 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:16:51853 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:16:51854 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:16:51855 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.4482ms
[29-06-2024 17:16:51855 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:16:51855 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:16:51856 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.9446ms
[29-06-2024 17:16:51856 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.7116ms
[29-06-2024 17:16:51856 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:16:51858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.5329ms
[29-06-2024 17:16:55890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:16:55891 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:55891 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:16:55891 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:16:55895 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:16:55898 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:16:55898 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.413ms
[29-06-2024 17:16:55899 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:16:55899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.4485ms
[29-06-2024 17:16:55941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:16:55942 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:55942 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:16:55942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:16:55946 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:16:55949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:16:55949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.2275ms
[29-06-2024 17:16:55950 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:16:55950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:16:55950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.5998ms
[29-06-2024 17:16:55951 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:55952 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:16:55953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:16:55956 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:16:55959 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:16:55959 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.62ms
[29-06-2024 17:16:55959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:16:55960 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.0711ms
[29-06-2024 17:16:55963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:16:55964 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:55964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.2881ms
[29-06-2024 17:16:55965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:16:55966 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:16:55966 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:16:55967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:16:55970 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:16:55972 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 17:16:55976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:16:55976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 9.2464ms
[29-06-2024 17:16:55977 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:16:55978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 12.7863ms
[29-06-2024 17:17:03141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:17:03141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:03142 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:03143 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:03143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.0812ms
[29-06-2024 17:17:03144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:03144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:17:03143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.266ms
[29-06-2024 17:17:03145 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:03146 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:03147 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:03147 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:03147 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:17:03148 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:17:03151 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:17:03151 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:17:03154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:17:03154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:17:03154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.1648ms
[29-06-2024 17:17:03155 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.2823ms
[29-06-2024 17:17:03155 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:03156 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:03156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.9077ms
[29-06-2024 17:17:03156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.2085ms
[29-06-2024 17:17:04403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:17:04404 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:04404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2941ms
[29-06-2024 17:17:04405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:17:04406 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:04406 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:17:04407 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:17:04410 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:04412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:17:04413 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.884ms
[29-06-2024 17:17:04413 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:17:04414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.106ms
[29-06-2024 17:17:04417 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:17:04418 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:04419 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:17:04420 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:17:04425 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:17:04431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:17:04434 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 13.3671ms
[29-06-2024 17:17:04434 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:17:04434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.1134ms
[29-06-2024 17:17:05609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 17:17:05610 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:05610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.133ms
[29-06-2024 17:17:05610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:17:05612 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:05612 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:17:05614 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:17:05620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:05626 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:17:05632 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:17:05639 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:17:05661 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:17:05667 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:05670 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:17:05671 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 56.1892ms
[29-06-2024 17:17:05671 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:17:05672 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 61.2267ms
[29-06-2024 17:17:05996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:17:05996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:05997 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:17:05998 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:17:06001 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:06004 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:17:06006 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:17:06008 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:17:06010 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:17:06012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:06014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:17:06014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 16.3817ms
[29-06-2024 17:17:06015 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:17:06015 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 19.604ms
[29-06-2024 17:17:06510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:17:06511 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:06511 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:17:06511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:17:06515 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:06516 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:17:06517 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:17:06518 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:17:06520 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:17:06521 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:06523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:17:06524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 11.6911ms
[29-06-2024 17:17:06524 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:17:06524 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 14.5747ms
[29-06-2024 17:17:12856 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:12857 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:12857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.2585ms
[29-06-2024 17:17:12858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:12859 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:12859 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:12859 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:17:12863 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:17:12865 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:17:12865 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.2259ms
[29-06-2024 17:17:12866 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:12866 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.3119ms
[29-06-2024 17:17:12867 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:17:12868 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:12868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.0419ms
[29-06-2024 17:17:12869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:17:12870 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:12870 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:12871 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:17:12874 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:17:12876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:17:12876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 4.8143ms
[29-06-2024 17:17:12877 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:12877 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 8.2073ms
[29-06-2024 17:17:12879 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - null null
[29-06-2024 17:17:12879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:12880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - 204 null null 1.085ms
[29-06-2024 17:17:12880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - "application/json" 132
[29-06-2024 17:17:12881 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:12882 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 17:17:12884 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateOrder\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] CreateOrder(Project_Keystone.Api.Models.DTOs.OrderDTOs.CreateOrderDTO)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:17:12890 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:17:12892 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:12902 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:17:12928 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 450), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p2;
INSERT INTO [ORDERS] ([CITY], [COUNTRY], [ORDER_DATE], [STREET_ADDRESS], [TOTAL_AMOUNT], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ORDER_ID]
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[29-06-2024 17:17:12938 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@p10='?' (DbType = Int32), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (DbType = Int32), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p20='?' (DbType = Int32), @p21='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [ORDER_DETAILS] USING (
VALUES (@p10, @p11, @p12, @p13, @p14, 0),
(@p15, @p16, @p17, @p18, @p19, 1),
(@p20, @p21, @p22, @p23, @p24, 2)) AS i ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL])
VALUES (i.[ORDER_ID], i.[PRICE], i.[PRODUCT_ID], i.[QUANTITY], i.[TOTAL])
OUTPUT INSERTED.[ORDER_DETAIL_ID], i._Position;"
[29-06-2024 17:17:12949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO"'.
[29-06-2024 17:17:12959 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)" in 74.9969ms
[29-06-2024 17:17:12960 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 17:17:12960 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - 201 null "application/json; charset=utf-8" 79.8656ms
[29-06-2024 17:17:12962 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:17:12963 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:12963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1701ms
[29-06-2024 17:17:12964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:17:12965 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:12965 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:17:12967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:17:12971 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:12973 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:17:12974 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:12976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:17:12977 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 9.155ms
[29-06-2024 17:17:12977 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:17:12977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.8746ms
[29-06-2024 17:17:14899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:17:14899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:14900 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:14901 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:14901 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:14901 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:14902 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:17:14902 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:17:14905 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:17:14906 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:17:14908 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:17:14908 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.9145ms
[29-06-2024 17:17:14909 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:17:14909 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:14909 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.2687ms
[29-06-2024 17:17:14910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 10.5138ms
[29-06-2024 17:17:14910 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:14911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.0724ms
[29-06-2024 17:17:15984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:17:15985 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:15986 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:17:15986 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:17:15991 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:17:15996 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:17:15997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.4475ms
[29-06-2024 17:17:15998 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:17:15998 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.5836ms
[29-06-2024 17:17:17073 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:17:17074 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:17075 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:17075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:17075 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:17:17076 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:17077 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:17077 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:17:17079 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:17:17081 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:17:17081 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:17:17083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.1597ms
[29-06-2024 17:17:17083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:17:17083 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:17083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.7604ms
[29-06-2024 17:17:17084 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 10.4028ms
[29-06-2024 17:17:17084 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:17085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.5189ms
[29-06-2024 17:17:18088 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:17:18089 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:18089 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2509ms
[29-06-2024 17:17:18090 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:17:18091 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:18092 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:17:18092 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:17:18095 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:18098 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:17:18098 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.8959ms
[29-06-2024 17:17:18099 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:17:18099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.428ms
[29-06-2024 17:17:18118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:18118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:18119 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:18119 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:18120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.0566ms
[29-06-2024 17:17:18120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.005ms
[29-06-2024 17:17:18121 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:18122 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:18123 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:18123 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:17:18126 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:17:18128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:17:18129 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.0558ms
[29-06-2024 17:17:18129 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:18129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:18130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.9744ms
[29-06-2024 17:17:18130 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:18131 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:18132 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:17:18135 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:17:18137 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:17:18137 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.0591ms
[29-06-2024 17:17:18138 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:18138 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.753ms
[29-06-2024 17:17:18139 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:17:18140 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:18140 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.0458ms
[29-06-2024 17:17:18141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:17:18142 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:18142 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:17:18142 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:17:18146 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:17:18147 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 17:17:18151 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:17:18151 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 8.197ms
[29-06-2024 17:17:18152 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:17:18152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 11.3115ms
[29-06-2024 17:17:25580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:17:25581 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:25581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1895ms
[29-06-2024 17:17:25581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:17:25583 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:25583 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:17:25583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:17:25587 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:25590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:17:25590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.5469ms
[29-06-2024 17:17:25591 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:17:25591 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0527ms
[29-06-2024 17:17:25593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:17:25594 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:25595 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:17:25595 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:17:25600 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:17:25605 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:17:25606 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.2575ms
[29-06-2024 17:17:25607 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:17:25607 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.8637ms
[29-06-2024 17:17:26910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 17:17:26911 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:26911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.2396ms
[29-06-2024 17:17:26912 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 17:17:26913 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:26913 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 17:17:26915 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 17:17:26920 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:17:26930 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 17:17:26938 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 17:17:26939 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 17:17:26940 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 24.108ms
[29-06-2024 17:17:26940 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 17:17:26941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 29.0448ms
[29-06-2024 17:17:28097 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:17:28098 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:28099 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:17:28099 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:17:28102 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:17:28105 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:17:28105 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.9751ms
[29-06-2024 17:17:28106 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:17:28106 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.0925ms
[29-06-2024 17:17:28112 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:17:28113 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:28113 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:17:28113 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:17:28118 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:17:28124 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:17:28125 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.8309ms
[29-06-2024 17:17:28125 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:17:28126 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.1779ms
[29-06-2024 17:17:42484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:17:42485 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:42485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2857ms
[29-06-2024 17:17:42486 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:17:42486 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:42487 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:42488 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:42489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.0375ms
[29-06-2024 17:17:42489 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:17:36 PM', Current time (UTC): '6/29/2024 2:17:42 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:17:42489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:42490 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:17:36 PM', Current time (UTC): '6/29/2024 2:17:42 PM'."
[29-06-2024 17:17:42491 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:42491 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:17:42492 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:17:36 PM', Current time (UTC): '6/29/2024 2:17:42 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:17:42492 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:17:42492 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:17:36 PM', Current time (UTC): '6/29/2024 2:17:42 PM'."
[29-06-2024 17:17:42493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 401 0 null 6.5376ms
[29-06-2024 17:17:42493 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:17:42494 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:17:42494 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 5.0384ms
[29-06-2024 17:17:42495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:17:42496 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:42496 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.1299ms
[29-06-2024 17:17:42497 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:17:42498 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:42499 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:17:36 PM', Current time (UTC): '6/29/2024 2:17:42 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:17:42499 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:17:36 PM', Current time (UTC): '6/29/2024 2:17:42 PM'."
[29-06-2024 17:17:42500 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:17:42500 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:17:42503 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:17:42505 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:17:42506 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:17:42507 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:17:42508 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:17:42509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:17:42509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 9.1069ms
[29-06-2024 17:17:42510 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:17:42510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 13.2112ms
[29-06-2024 17:17:42512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:17:42512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:17:42512 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:42513 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:17:42513 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:42513 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:42514 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:17:42514 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:17:42517 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:17:42517 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:17:42520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:17:42520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:17:42520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.6736ms
[29-06-2024 17:17:42521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.5743ms
[29-06-2024 17:17:42521 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:17:42521 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:17:42522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.9976ms
[29-06-2024 17:17:42522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 10.268ms
[29-06-2024 17:19:37072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - null null
[29-06-2024 17:19:37075 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:19:37075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - 204 null null 3.4216ms
[29-06-2024 17:19:37076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - "application/json" 108
[29-06-2024 17:19:37079 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:19:37079 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:18:42 PM', Current time (UTC): '6/29/2024 2:19:37 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:19:37080 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:18:42 PM', Current time (UTC): '6/29/2024 2:19:37 PM'."
[29-06-2024 17:19:37080 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:19:37081 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:19:37081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - 401 0 null 5.3645ms
[29-06-2024 17:19:37083 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:19:37084 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:19:37084 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.1421ms
[29-06-2024 17:19:37084 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:19:37088 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:19:37089 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:18:42 PM', Current time (UTC): '6/29/2024 2:19:37 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:19:37089 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:18:42 PM', Current time (UTC): '6/29/2024 2:19:37 PM'."
[29-06-2024 17:19:37089 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:19:37090 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:19:37094 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:19:37096 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:19:37097 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:19:37098 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:19:37100 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:19:37101 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:19:37101 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 10.7856ms
[29-06-2024 17:19:37101 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:19:37102 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 17.292ms
[29-06-2024 17:19:37103 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - "application/json" 108
[29-06-2024 17:19:37104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:19:37104 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 17:19:37106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:19:37113 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:19:37114 +03:00 Project_Keystone.Core.Services.AuthService ] Update user failed. User with email "alex.santexis@gmail.com" does not exist
[29-06-2024 17:19:37132 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:19:37132 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 25.3591ms
[29-06-2024 17:19:37133 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 17:19:37133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - 404 null "application/json; charset=utf-8" 30.0733ms
[29-06-2024 17:20:05312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 17:20:05315 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:20:05315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 3.4592ms
[29-06-2024 17:20:05317 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 17:20:05320 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:20:05320 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:20:05320 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:20:05324 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:20:05381 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:20:05383 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:20:05384 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:20:05385 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:20:05386 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 17:20:05387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:20:05387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 66.3237ms
[29-06-2024 17:20:05388 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:20:05388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 70.5301ms
[29-06-2024 17:20:05399 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:20:05400 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:20:05400 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:20:05400 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:20:05405 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:20:05412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:20:05413 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.8261ms
[29-06-2024 17:20:05413 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:20:05414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.7396ms
[29-06-2024 17:20:06559 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:20:06560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:20:06560 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:20:06561 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:20:06561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.1469ms
[29-06-2024 17:20:06562 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.5143ms
[29-06-2024 17:20:06564 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:20:06565 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:20:06569 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:20:06570 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:20:06570 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:20:06571 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:20:06571 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:20:06571 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:20:06574 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:20:06575 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:20:06577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:20:06577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.5335ms
[29-06-2024 17:20:06577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:20:06578 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:20:06578 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.875ms
[29-06-2024 17:20:06578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.1035ms
[29-06-2024 17:20:06579 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:20:06580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.0385ms
[29-06-2024 17:24:14979 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 17:24:15126 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 17:24:15127 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 17:24:15128 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 17:24:15128 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 17:24:15129 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 17:24:16269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 17:24:16376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 109.8612ms
[29-06-2024 17:24:16397 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 17:24:16397 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 17:24:16397 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 17:24:16406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.9473ms
[29-06-2024 17:24:16409 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 17:24:16409 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 12.1785ms
[29-06-2024 17:24:16427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.0454ms
[29-06-2024 17:24:16453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 17:24:16455 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 17:24:16456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.6088ms
[29-06-2024 17:24:16486 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 17:24:16591 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 104.5485ms
[29-06-2024 17:24:18176 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:24:18179 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:18180 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.9486ms
[29-06-2024 17:24:18181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:24:18183 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:18231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:24:18231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:24:18238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:18243 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:18247 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 15.4643ms
[29-06-2024 17:24:18249 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 17.5679ms
[29-06-2024 17:24:18252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:24:18257 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:24:18260 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:18261 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:18313 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:21:05 PM', Current time (UTC): '6/29/2024 2:24:18 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:24:18313 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:21:05 PM', Current time (UTC): '6/29/2024 2:24:18 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:24:18313 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:21:05 PM', Current time (UTC): '6/29/2024 2:24:18 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:24:18321 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:21:05 PM', Current time (UTC): '6/29/2024 2:24:18 PM'."
[29-06-2024 17:24:18321 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:21:05 PM', Current time (UTC): '6/29/2024 2:24:18 PM'."
[29-06-2024 17:24:18322 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:21:05 PM', Current time (UTC): '6/29/2024 2:24:18 PM'."
[29-06-2024 17:24:18326 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:24:18326 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:24:18326 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:24:18331 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:24:18331 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:24:18331 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:24:18331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 401 0 null 75.6851ms
[29-06-2024 17:24:18331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 80.5807ms
[29-06-2024 17:24:18332 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 150.5161ms
[29-06-2024 17:24:18336 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:24:18337 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:18338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.9781ms
[29-06-2024 17:24:18339 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:24:18340 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:18342 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:21:05 PM', Current time (UTC): '6/29/2024 2:24:18 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:24:18343 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:21:05 PM', Current time (UTC): '6/29/2024 2:24:18 PM'."
[29-06-2024 17:24:18344 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:24:18358 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:24:19449 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("27"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:24:19536 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:24:19553 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:24:19559 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:24:19618 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:24:19630 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:24:19634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 1273.6475ms
[29-06-2024 17:24:19635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:24:19640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:24:19640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 1301.6864ms
[29-06-2024 17:24:19641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:19641 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:24:19642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:24:19643 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:19644 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:24:19648 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:24:19648 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:24:19648 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:24:19651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:24:19651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:24:19651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:24:19697 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:24:19742 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:24:19748 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:24:19748 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:24:19751 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 97.9601ms
[29-06-2024 17:24:19752 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:24:19752 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 110.736ms
[29-06-2024 17:24:19757 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 104.2694ms
[29-06-2024 17:24:19757 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:24:19758 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 118.5754ms
[29-06-2024 17:24:19777 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:24:19790 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:24:19793 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 141.566ms
[29-06-2024 17:24:19794 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:24:19794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 153.9734ms
[29-06-2024 17:27:08364 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:27:08366 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08366 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 2.0871ms
[29-06-2024 17:27:08367 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:27:08368 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08369 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:25:19 PM', Current time (UTC): '6/29/2024 2:27:08 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:27:08370 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:25:19 PM', Current time (UTC): '6/29/2024 2:27:08 PM'."
[29-06-2024 17:27:08371 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:27:08371 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:27:08372 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 4.4978ms
[29-06-2024 17:27:08401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:27:08402 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08402 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.5459ms
[29-06-2024 17:27:08403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:27:08404 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08405 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:25:19 PM', Current time (UTC): '6/29/2024 2:27:08 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:27:08406 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:25:19 PM', Current time (UTC): '6/29/2024 2:27:08 PM'."
[29-06-2024 17:27:08407 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:27:08407 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:27:08434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:27:08438 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:27:08439 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08439 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 5.3519ms
[29-06-2024 17:27:08440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.7209ms
[29-06-2024 17:27:08443 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:27:08443 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:27:08448 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08449 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:27:08450 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08450 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:25:19 PM', Current time (UTC): '6/29/2024 2:27:08 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:27:08452 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:25:19 PM', Current time (UTC): '6/29/2024 2:27:08 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:27:08452 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:25:19 PM', Current time (UTC): '6/29/2024 2:27:08 PM'."
[29-06-2024 17:27:08453 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:27:08453 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:25:19 PM', Current time (UTC): '6/29/2024 2:27:08 PM'."
[29-06-2024 17:27:08453 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:27:08454 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:27:08455 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:27:08455 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:27:08455 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:27:08456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 401 0 null 13.3859ms
[29-06-2024 17:27:08457 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 401 0 null 13.7269ms
[29-06-2024 17:27:08458 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:27:08462 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:27:08463 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:27:08464 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 55.6582ms
[29-06-2024 17:27:08464 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:27:08465 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 61.6574ms
[29-06-2024 17:27:08468 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:27:08469 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:27:08470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:27:08470 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:27:08471 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08472 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:08472 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:27:08472 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:27:08473 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:27:08473 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:27:08473 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:27:08481 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:27:08483 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:27:08485 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:27:08486 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:27:08486 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:27:08487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 13.9675ms
[29-06-2024 17:27:08487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 13.2618ms
[29-06-2024 17:27:08488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:27:08488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:27:08488 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:27:08489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 20.832ms
[29-06-2024 17:27:08489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 19.6369ms
[29-06-2024 17:27:08489 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 14.8703ms
[29-06-2024 17:27:08491 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:27:08492 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 21.7904ms
[29-06-2024 17:27:12278 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:27:12280 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:12281 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:27:12281 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:27:12289 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:27:12292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:27:12293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.3306ms
[29-06-2024 17:27:12294 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:27:12294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.2266ms
[29-06-2024 17:27:12359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:27:12360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:27:12360 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:12361 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:12361 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:27:12361 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:27:12362 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:27:12362 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:27:12369 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:27:12370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:27:12373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:27:12374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 11.1304ms
[29-06-2024 17:27:12374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:27:12374 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:27:12375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 11.3941ms
[29-06-2024 17:27:12375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 16.0833ms
[29-06-2024 17:27:12375 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:27:12377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 16.904ms
[29-06-2024 17:27:45649 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:27:45654 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:45654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.0178ms
[29-06-2024 17:27:45656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:27:45661 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:45662 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:27:45663 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:27:45671 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:27:45676 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:27:45677 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.6323ms
[29-06-2024 17:27:45678 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:27:45680 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 23.1012ms
[29-06-2024 17:27:45727 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:27:45728 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:45728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:27:45729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.9697ms
[29-06-2024 17:27:45730 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:45730 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:27:45732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.3467ms
[29-06-2024 17:27:45733 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:45734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:27:45735 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:27:45735 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:27:45736 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:27:45736 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:27:45737 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:27:45742 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:27:45745 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:27:45746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:27:45747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 10.6302ms
[29-06-2024 17:27:45748 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:27:45748 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:27:45748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 18.6351ms
[29-06-2024 17:27:45749 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 10.7506ms
[29-06-2024 17:27:45750 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:27:45751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 17.2544ms
[29-06-2024 17:30:10280 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 17:30:10420 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 17:30:10420 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 17:30:10422 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 17:30:10422 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 17:30:10422 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 17:30:11640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 17:30:11753 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 117.1065ms
[29-06-2024 17:30:11785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 17:30:11785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 17:30:11785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 17:30:11792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 7.5779ms
[29-06-2024 17:30:11801 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 17:30:11801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 16.5462ms
[29-06-2024 17:30:11816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 31.1869ms
[29-06-2024 17:30:11847 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 17:30:11849 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 17:30:11850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.7806ms
[29-06-2024 17:30:11881 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 17:30:11990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 109.2918ms
[29-06-2024 17:30:14863 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:30:14866 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:14868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.2558ms
[29-06-2024 17:30:14869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:30:14871 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:14887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:30:14888 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:14955 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:30:14974 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:30:14996 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:28:08 PM', Current time (UTC): '6/29/2024 2:30:14 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:30:15010 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:28:08 PM', Current time (UTC): '6/29/2024 2:30:14 PM'."
[29-06-2024 17:30:15013 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:30:15018 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:30:15019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 150.133ms
[29-06-2024 17:30:15023 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:30:15024 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:15025 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 2.1176ms
[29-06-2024 17:30:15026 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:30:15028 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:15034 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:28:08 PM', Current time (UTC): '6/29/2024 2:30:15 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:30:15035 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:28:08 PM', Current time (UTC): '6/29/2024 2:30:15 PM'."
[29-06-2024 17:30:15036 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:30:15042 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:30:15809 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 17:30:15992 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:30:15992 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:30:16052 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:30:16069 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:30:16072 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:30:16075 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:30:16089 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1112.6357ms
[29-06-2024 17:30:16090 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:30:16094 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1207.7338ms
[29-06-2024 17:30:16137 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:30:16146 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:30:16147 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 1104.2223ms
[29-06-2024 17:30:16147 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:30:16148 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 1121.641ms
[29-06-2024 17:30:16150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:30:16151 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:16156 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:30:16158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:30:16211 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:30:16221 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:30:16223 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 63.7971ms
[29-06-2024 17:30:16223 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:30:16223 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 73.7878ms
[29-06-2024 17:30:16708 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:30:16708 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:30:16709 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:16710 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:16710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.7009ms
[29-06-2024 17:30:16710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.6062ms
[29-06-2024 17:30:16712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:30:16712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:30:16713 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:16714 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:16716 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:30:16716 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:30:16718 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:30:16719 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:30:16732 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:30:16737 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:30:16740 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:30:16742 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:30:16742 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 23.5054ms
[29-06-2024 17:30:16743 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:30:16743 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 23.5855ms
[29-06-2024 17:30:16743 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 31.8603ms
[29-06-2024 17:30:16744 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:30:16745 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 33.4556ms
[29-06-2024 17:30:26514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - null null
[29-06-2024 17:30:26515 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:26515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - 204 null null 1.6551ms
[29-06-2024 17:30:26516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - "application/json" 168
[29-06-2024 17:30:26517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:26518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 17:30:26520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:30:26542 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:30:26546 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:30:26548 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:30:26550 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:30:26551 +03:00 Project_Keystone.Core.Services.AuthService ] User with email "alex.santexis@gmail.com" updated successfully
[29-06-2024 17:30:26553 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:30:26554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:30:26556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 35.1189ms
[29-06-2024 17:30:26557 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 17:30:26557 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - 200 null "application/json; charset=utf-8" 40.7541ms
[29-06-2024 17:30:26568 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:30:26569 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:26570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.7844ms
[29-06-2024 17:30:26570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:30:26571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:30:26572 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:26573 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:26573 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.0984ms
[29-06-2024 17:30:26574 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:30:26574 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:30:26575 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:30:26576 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:26577 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:30:26577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:30:26582 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:30:26584 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:30:26585 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:30:26586 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 9.9484ms
[29-06-2024 17:30:26587 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:30:26587 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:30:26587 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 9.2235ms
[29-06-2024 17:30:26587 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 16.7544ms
[29-06-2024 17:30:26588 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:30:26589 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 14.761ms
[29-06-2024 17:30:43137 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - null null
[29-06-2024 17:30:43138 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:43139 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/update""" - 204 null null 1.5172ms
[29-06-2024 17:30:43140 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - "application/json" 172
[29-06-2024 17:30:43141 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:43141 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 17:30:43142 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdateDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:30:43146 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:30:43149 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:30:43151 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:30:43153 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:30:43153 +03:00 Project_Keystone.Core.Services.AuthService ] User with email "user@example.com" updated successfully
[29-06-2024 17:30:43155 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:30:43155 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:30:43156 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)" in 13.6508ms
[29-06-2024 17:30:43156 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.UpdateUser (Project-Keystone)"'
[29-06-2024 17:30:43157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/update""" - 200 null "application/json; charset=utf-8" 17.4021ms
[29-06-2024 17:30:43168 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:30:43169 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:43169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.419ms
[29-06-2024 17:30:43170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:30:43171 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:30:43172 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:43172 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:43173 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:30:43173 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.1925ms
[29-06-2024 17:30:43173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:30:43174 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:30:43176 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:30:43176 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:30:43177 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:30:43179 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:30:43182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:30:43182 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:30:43183 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.381ms
[29-06-2024 17:30:43184 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:30:43185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.5514ms
[29-06-2024 17:30:43185 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:30:43186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.7066ms
[29-06-2024 17:30:43186 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:30:43187 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.1635ms
[29-06-2024 17:31:14113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - null null
[29-06-2024 17:31:14114 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:31:14114 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - 204 null null 1.3563ms
[29-06-2024 17:31:14115 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 67
[29-06-2024 17:31:14116 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:31:14117 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:31:14119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:31:14126 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:31:14190 +03:00 Project_Keystone.Core.Services.AuthService ] Change password failed for "user@example.com": "Incorrect password."
[29-06-2024 17:31:14228 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:31:14229 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 109.6599ms
[29-06-2024 17:31:14230 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:31:14230 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 400 null "application/json; charset=utf-8" 115.3019ms
[29-06-2024 17:32:57240 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:32:57244 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:32:57244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.9049ms
[29-06-2024 17:32:57245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:32:57246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:32:57247 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:31:43 PM', Current time (UTC): '6/29/2024 2:32:57 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:32:57248 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:31:43 PM', Current time (UTC): '6/29/2024 2:32:57 PM'."
[29-06-2024 17:32:57248 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:32:57249 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:32:57249 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 3.9661ms
[29-06-2024 17:32:57269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:32:57270 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:32:57271 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.6122ms
[29-06-2024 17:32:57272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:32:57273 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:32:57274 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:31:43 PM', Current time (UTC): '6/29/2024 2:32:57 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:32:57275 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:31:43 PM', Current time (UTC): '6/29/2024 2:32:57 PM'."
[29-06-2024 17:32:57275 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:32:57276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:32:57281 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:32:57284 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:32:57286 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:32:57288 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:32:57290 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:32:57291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:32:57292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 15.0681ms
[29-06-2024 17:32:57292 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:32:57293 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 21.0405ms
[29-06-2024 17:32:57296 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:32:57297 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:32:57298 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:32:57298 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:32:57302 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:32:57306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:32:57306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.8306ms
[29-06-2024 17:32:57307 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:32:57307 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.3555ms
[29-06-2024 17:33:11952 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:33:11953 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:33:11953 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2759ms
[29-06-2024 17:33:11954 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:33:11955 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:33:11956 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:33:11956 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:33:11961 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:33:11964 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:33:11964 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.8642ms
[29-06-2024 17:33:11965 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:33:11965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.7027ms
[29-06-2024 17:33:24132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - null null
[29-06-2024 17:33:24133 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:33:24133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - 204 null null 1.6614ms
[29-06-2024 17:33:24134 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 63
[29-06-2024 17:33:24135 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:33:24136 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:33:24136 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:33:24140 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:33:24197 +03:00 Project_Keystone.Core.Services.AuthService ] Change password failed for "user@example.com": "Incorrect password."
[29-06-2024 17:33:24223 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:33:24224 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 87.1589ms
[29-06-2024 17:33:24224 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:33:24225 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 400 null "application/json; charset=utf-8" 90.5652ms
[29-06-2024 17:33:56500 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:33:56504 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:33:56507 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:33:56508 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:33:56508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 7.7272ms
[29-06-2024 17:33:56508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 4.7759ms
[29-06-2024 17:33:56511 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:33:56511 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:33:56516 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:33:56516 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:33:56517 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:33:56517 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:33:56517 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:33:56518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:33:56521 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:33:56522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:33:56524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:33:56525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.7037ms
[29-06-2024 17:33:56525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:33:56525 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:33:56526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.3177ms
[29-06-2024 17:33:56526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 15.8007ms
[29-06-2024 17:33:56527 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:33:56528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 16.67ms
[29-06-2024 17:33:58165 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:33:58166 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:33:58167 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:33:58168 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:33:58174 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:33:58183 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:33:58186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 17.7389ms
[29-06-2024 17:33:58186 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:33:58187 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.5368ms
[29-06-2024 17:34:09596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 17:34:09597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:34:09597 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.487ms
[29-06-2024 17:34:09598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 17:34:09599 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:34:09599 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:34:09602 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:34:09610 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:34:09674 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:34:09677 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:34:09683 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:34:09685 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:34:09686 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 17:34:09686 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:34:09687 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 84.0384ms
[29-06-2024 17:34:09687 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:34:09688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 89.8284ms
[29-06-2024 17:34:09700 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:34:09701 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:34:09702 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:34:09702 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:34:09709 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:34:09716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:34:09717 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.5792ms
[29-06-2024 17:34:09718 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:34:09718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 18.3527ms
[29-06-2024 17:34:32257 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:34:32258 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:34:32260 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:34:32261 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:34:32261 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 4.8058ms
[29-06-2024 17:34:32264 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:34:32262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 4.1114ms
[29-06-2024 17:34:32265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:34:32269 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:34:32270 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:34:32270 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:34:32271 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:34:32271 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:34:32271 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:34:32275 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:34:32275 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:34:32280 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:34:32281 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 9.1072ms
[29-06-2024 17:34:32281 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:34:32281 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:34:32282 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 9.8238ms
[29-06-2024 17:34:32282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 17.981ms
[29-06-2024 17:34:32283 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:34:32284 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 18.7144ms
[29-06-2024 17:34:46664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - null null
[29-06-2024 17:34:46665 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:34:46666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - 204 null null 1.5505ms
[29-06-2024 17:34:46666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 66
[29-06-2024 17:34:46668 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:34:46668 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:34:46669 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:34:46673 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:34:46791 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:34:46792 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:34:46794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:34:46795 +03:00 Project_Keystone.Core.Services.AuthService ] Password changed successfully for user "user@example.com"
[29-06-2024 17:34:46795 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:34:46796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 126.6806ms
[29-06-2024 17:34:46796 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:34:46797 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 200 null "application/json; charset=utf-8" 130.528ms
[29-06-2024 17:35:00182 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:00183 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:00184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3487ms
[29-06-2024 17:35:00184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:00186 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:00186 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:00187 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:35:00201 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:35:00213 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:35:00214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 26.5558ms
[29-06-2024 17:35:00214 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:00215 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 30.6855ms
[29-06-2024 17:35:10721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:10722 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:10723 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3198ms
[29-06-2024 17:35:10723 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:10724 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:10725 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:35:09 PM', Current time (UTC): '6/29/2024 2:35:10 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:35:10726 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:35:09 PM', Current time (UTC): '6/29/2024 2:35:10 PM'."
[29-06-2024 17:35:10727 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:35:10727 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:35:10727 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 3.9726ms
[29-06-2024 17:35:10755 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:35:10756 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:10756 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.2588ms
[29-06-2024 17:35:10757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:35:10758 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:10759 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:35:09 PM', Current time (UTC): '6/29/2024 2:35:10 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:35:10761 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:35:09 PM', Current time (UTC): '6/29/2024 2:35:10 PM'."
[29-06-2024 17:35:10761 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:35:10761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:35:10766 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:35:10769 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:35:10770 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:35:10772 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:35:10773 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:35:10774 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:35:10774 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 12.1903ms
[29-06-2024 17:35:10775 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:35:10775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 18.4924ms
[29-06-2024 17:35:10778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:10779 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:10780 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:10780 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:35:10784 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:35:10787 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:35:10787 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.4534ms
[29-06-2024 17:35:10788 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:10788 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.921ms
[29-06-2024 17:35:15908 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:15909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:15910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 2.0607ms
[29-06-2024 17:35:15911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:15912 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:15912 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:15913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:35:15918 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:35:15921 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:35:15922 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.8898ms
[29-06-2024 17:35:15923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:15923 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.257ms
[29-06-2024 17:35:25965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:25966 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:25967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6892ms
[29-06-2024 17:35:25968 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:25969 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:25969 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:25970 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:35:25974 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:35:25977 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:35:25977 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.0075ms
[29-06-2024 17:35:25978 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:25979 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.0983ms
[29-06-2024 17:35:35273 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:35274 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:35274 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3523ms
[29-06-2024 17:35:35275 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:35276 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:35277 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:35277 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:35:35281 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:35:35284 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:35:35284 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.8506ms
[29-06-2024 17:35:35285 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:35285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.3447ms
[29-06-2024 17:35:50166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:50169 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:50169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.0158ms
[29-06-2024 17:35:50170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:35:50171 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:35:50172 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:50177 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:35:50182 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:35:50185 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:35:50186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.1978ms
[29-06-2024 17:35:50187 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:35:50187 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.996ms
[29-06-2024 17:36:00279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - null null
[29-06-2024 17:36:00280 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:00281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - 204 null null 1.5895ms
[29-06-2024 17:36:00281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 66
[29-06-2024 17:36:00282 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:00283 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:36:00283 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:36:00287 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:36:00344 +03:00 Project_Keystone.Core.Services.AuthService ] Change password failed for "user@example.com": "Incorrect password."
[29-06-2024 17:36:00374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:36:00375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 91.103ms
[29-06-2024 17:36:00376 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:36:00376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 400 null "application/json; charset=utf-8" 95.0721ms
[29-06-2024 17:36:21094 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - null null
[29-06-2024 17:36:21096 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:21096 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - 204 null null 1.478ms
[29-06-2024 17:36:21097 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 66
[29-06-2024 17:36:21098 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:21098 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:36:10 PM', Current time (UTC): '6/29/2024 2:36:21 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:36:21099 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:36:10 PM', Current time (UTC): '6/29/2024 2:36:21 PM'."
[29-06-2024 17:36:21100 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:36:21100 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:36:21100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 401 0 null 3.5452ms
[29-06-2024 17:36:21104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:36:21105 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:21105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.383ms
[29-06-2024 17:36:21106 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:36:21107 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:21108 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:36:10 PM', Current time (UTC): '6/29/2024 2:36:21 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:36:21109 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:36:10 PM', Current time (UTC): '6/29/2024 2:36:21 PM'."
[29-06-2024 17:36:21109 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:36:21110 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:36:21114 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:36:21116 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:36:21118 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:36:21119 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:36:21121 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:36:21122 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:36:21123 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 12.5515ms
[29-06-2024 17:36:21123 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:36:21123 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 17.5232ms
[29-06-2024 17:36:21126 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 66
[29-06-2024 17:36:21127 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:21128 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:36:21128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:36:21132 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:36:21256 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:36:21258 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:36:21259 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:36:21260 +03:00 Project_Keystone.Core.Services.AuthService ] Password changed successfully for user "user@example.com"
[29-06-2024 17:36:21261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:36:21261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 132.4534ms
[29-06-2024 17:36:21261 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:36:21262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 200 null "application/json; charset=utf-8" 135.4311ms
[29-06-2024 17:36:34904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - null null
[29-06-2024 17:36:34905 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:34905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - 204 null null 1.4868ms
[29-06-2024 17:36:34906 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 66
[29-06-2024 17:36:34907 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:34907 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:36:34908 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:36:34912 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:36:34969 +03:00 Project_Keystone.Core.Services.AuthService ] Change password failed for "user@example.com": "Incorrect password."
[29-06-2024 17:36:34993 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:36:34994 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 85.7612ms
[29-06-2024 17:36:34995 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:36:34995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 400 null "application/json; charset=utf-8" 89.3442ms
[29-06-2024 17:36:37995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:36:37996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:37996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4459ms
[29-06-2024 17:36:37998 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:36:37997 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:36:38002 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:38002 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:38003 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:36:38003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.3832ms
[29-06-2024 17:36:38003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:36:38004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:36:38006 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:38006 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:36:38007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:36:38008 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:36:38010 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:36:38011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.7456ms
[29-06-2024 17:36:38012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:36:38012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:36:38013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 15.7499ms
[29-06-2024 17:36:38014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:36:38015 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.5821ms
[29-06-2024 17:36:38015 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:36:38016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.9483ms
[29-06-2024 17:36:47988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - null null
[29-06-2024 17:36:47989 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:47989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - 204 null null 1.3774ms
[29-06-2024 17:36:47990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 66
[29-06-2024 17:36:47992 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:36:47993 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:36:47993 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:36:47997 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:36:48110 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:36:48111 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:36:48112 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:36:48113 +03:00 Project_Keystone.Core.Services.AuthService ] Password changed successfully for user "user@example.com"
[29-06-2024 17:36:48114 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:36:48114 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 120.5764ms
[29-06-2024 17:36:48114 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:36:48115 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 200 null "application/json; charset=utf-8" 124.4856ms
[29-06-2024 17:37:52465 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:37:52468 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:37:52469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.1524ms
[29-06-2024 17:37:52472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:37:52474 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:37:52475 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:37:21 PM', Current time (UTC): '6/29/2024 2:37:52 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:37:52475 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:37:21 PM', Current time (UTC): '6/29/2024 2:37:52 PM'."
[29-06-2024 17:37:52476 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 17:37:52476 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 17:37:52476 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 4.6286ms
[29-06-2024 17:37:52505 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 17:37:52516 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:37:52517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 12.4608ms
[29-06-2024 17:37:52518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 733
[29-06-2024 17:37:52519 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:37:52520 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:37:21 PM', Current time (UTC): '6/29/2024 2:37:52 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 17:37:52522 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 2:37:21 PM', Current time (UTC): '6/29/2024 2:37:52 PM'."
[29-06-2024 17:37:52522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:37:52523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:37:52528 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:37:52531 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:37:52532 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:37:52534 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:37:52536 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:37:52537 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:37:52537 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 13.9071ms
[29-06-2024 17:37:52538 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 17:37:52538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 20.1407ms
[29-06-2024 17:37:52541 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:37:52542 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:37:52543 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:37:52543 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:37:52547 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:37:52550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:37:52551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.0276ms
[29-06-2024 17:37:52551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:37:52551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.2233ms
[29-06-2024 17:38:06387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - null null
[29-06-2024 17:38:06389 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:06389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - 204 null null 1.5936ms
[29-06-2024 17:38:06390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 66
[29-06-2024 17:38:06391 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:06392 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:38:06392 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:38:06395 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:38:06453 +03:00 Project_Keystone.Core.Services.AuthService ] Change password failed for "user@example.com": "Incorrect password."
[29-06-2024 17:38:06476 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:38:06477 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 84.1158ms
[29-06-2024 17:38:06477 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:38:06477 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 400 null "application/json; charset=utf-8" 87.7153ms
[29-06-2024 17:38:11067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:38:11068 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:11068 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3783ms
[29-06-2024 17:38:11068 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:38:11069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:38:11073 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:11074 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:11074 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.7368ms
[29-06-2024 17:38:11074 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:38:11075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:38:11076 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:38:11076 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:11077 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:38:11077 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:38:11079 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:38:11082 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:38:11082 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:38:11083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.5922ms
[29-06-2024 17:38:11084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:38:11084 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:38:11084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.3107ms
[29-06-2024 17:38:11085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 15.6933ms
[29-06-2024 17:38:11085 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:38:11086 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.685ms
[29-06-2024 17:38:12242 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:38:12243 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:12243 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6275ms
[29-06-2024 17:38:12244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:38:12245 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:12246 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:38:12246 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:38:12250 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:38:12253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:38:12254 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.0637ms
[29-06-2024 17:38:12254 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:38:12255 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.8295ms
[29-06-2024 17:38:12286 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:38:12287 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:12287 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:38:12288 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:38:12288 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:38:12289 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:38:12289 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:38:12290 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:38:12293 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:38:12295 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:38:12296 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:38:12297 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.0414ms
[29-06-2024 17:38:12297 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:38:12297 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:38:12297 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.8155ms
[29-06-2024 17:38:12298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 11.95ms
[29-06-2024 17:38:12298 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:38:12299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.525ms
[29-06-2024 17:39:03949 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 17:39:04090 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 17:39:04090 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 17:39:04091 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 17:39:04092 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 17:39:04092 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 17:39:04925 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 17:39:05033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 111.1841ms
[29-06-2024 17:39:05058 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 17:39:05058 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 17:39:05059 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 17:39:05071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 13.19ms
[29-06-2024 17:39:05074 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 17:39:05075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 16.9484ms
[29-06-2024 17:39:05088 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 29.8187ms
[29-06-2024 17:39:05115 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 17:39:05117 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 17:39:05117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.4834ms
[29-06-2024 17:39:05146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 17:39:05243 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 97.4153ms
[29-06-2024 17:39:13017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 17:39:13020 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:13021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 3.8038ms
[29-06-2024 17:39:13022 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 17:39:13023 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:13072 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:39:13086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:39:14203 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:39:14314 +03:00 Project_Keystone.Core.Services.AuthService ] Login failed for "user@example.com"
[29-06-2024 17:39:14356 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:39:14362 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1273.4362ms
[29-06-2024 17:39:14362 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:39:14368 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 401 null "application/json; charset=utf-8" 1345.7313ms
[29-06-2024 17:39:27334 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 17:39:27336 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:27336 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.8674ms
[29-06-2024 17:39:27337 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 54
[29-06-2024 17:39:27338 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:27341 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:39:27341 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:39:27389 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:39:27474 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:39:27509 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:39:27517 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:39:27597 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:39:27606 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 17:39:27607 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:39:27609 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 267.0694ms
[29-06-2024 17:39:27609 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:39:27610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 272.762ms
[29-06-2024 17:39:27623 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:39:27625 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:27627 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:39:27630 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:39:27692 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 17:39:27698 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:39:27753 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:39:27767 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 135.9288ms
[29-06-2024 17:39:27768 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:39:27768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 144.693ms
[29-06-2024 17:39:28845 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:39:28846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:39:28847 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:28847 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:28847 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.5031ms
[29-06-2024 17:39:28848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.6413ms
[29-06-2024 17:39:28849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:39:28849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:39:28851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:28852 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:28881 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:39:28881 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:39:28883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:39:28883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:39:28895 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:39:28903 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:39:28905 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 20.2795ms
[29-06-2024 17:39:28905 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:39:28905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 56.9567ms
[29-06-2024 17:39:28909 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:39:28912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:39:28914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 30.3838ms
[29-06-2024 17:39:28914 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:39:28915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 66.43ms
[29-06-2024 17:39:39348 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - null null
[29-06-2024 17:39:39349 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:39350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/change-password""" - 204 null null 1.7192ms
[29-06-2024 17:39:39350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - "application/json" 66
[29-06-2024 17:39:39352 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:39353 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:39:39355 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ChangePassword\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(Project_Keystone.Api.Models.DTOs.UserDTOs.UserUpdatePasswordDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:39:39362 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:39:39482 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:39:39483 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:39:39485 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:39:39487 +03:00 Project_Keystone.Core.Services.AuthService ] Password changed successfully for user "user@example.com"
[29-06-2024 17:39:39487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:39:39488 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)" in 131.6496ms
[29-06-2024 17:39:39488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.ChangePassword (Project-Keystone)"'
[29-06-2024 17:39:39488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/change-password""" - 200 null "application/json; charset=utf-8" 138.015ms
[29-06-2024 17:39:41812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:39:41813 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:41813 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3629ms
[29-06-2024 17:39:41814 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:39:41815 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:41815 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:39:41818 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:39:41834 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:39:41835 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:39:41837 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:39:41837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:39:41838 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:39:41844 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:39:41846 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:39:41848 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 29.6039ms
[29-06-2024 17:39:41848 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:39:41849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 35.0807ms
[29-06-2024 17:39:41852 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:39:41855 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 17.1256ms
[29-06-2024 17:39:41856 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:39:41857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 22.0301ms
[29-06-2024 17:40:04002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:40:04003 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:04004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5248ms
[29-06-2024 17:40:04005 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:40:04005 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:04006 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:40:04006 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:40:04012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:40:04021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:40:04023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 15.4439ms
[29-06-2024 17:40:04024 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:40:04024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 19.8326ms
[29-06-2024 17:40:04051 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:40:04053 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:04053 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:40:04054 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:40:04061 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:40:04070 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:40:04071 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 17.1937ms
[29-06-2024 17:40:04072 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:40:04072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.945ms
[29-06-2024 17:40:05589 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:40:05590 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:05591 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:40:05591 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:40:05598 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:40:05601 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:40:05601 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.4511ms
[29-06-2024 17:40:05602 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:40:05602 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.1699ms
[29-06-2024 17:40:05616 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:40:05617 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:05618 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:40:05618 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:40:05624 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:40:05632 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:40:05633 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.2603ms
[29-06-2024 17:40:05633 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:40:05634 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.8434ms
[29-06-2024 17:40:06512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:40:06512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:40:06513 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:06514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:06515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.7041ms
[29-06-2024 17:40:06515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.7227ms
[29-06-2024 17:40:06516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:40:06516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:40:06521 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:06522 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:06522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:06523 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:40:06523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:40:06523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:40:06529 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:40:06534 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:40:06536 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:40:06536 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 12.5032ms
[29-06-2024 17:40:06538 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:06538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 22.0082ms
[29-06-2024 17:40:06538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:40:06540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 15.2765ms
[29-06-2024 17:40:06540 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:40:06541 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 24.399ms
[29-06-2024 17:40:13586 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:40:13587 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:13587 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1101ms
[29-06-2024 17:40:13588 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:40:13589 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:13589 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:40:13590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:40:13594 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:40:13597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:40:13597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.0389ms
[29-06-2024 17:40:13598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:40:13598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.4878ms
[29-06-2024 17:40:13607 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:40:13607 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:13608 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:40:13608 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:40:13613 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:40:13619 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:40:13620 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.2319ms
[29-06-2024 17:40:13620 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:40:13621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.2945ms
[29-06-2024 17:40:27149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 17:40:27150 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:27150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.3645ms
[29-06-2024 17:40:27152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 17:40:27153 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:27153 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 17:40:27156 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 17:40:27161 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:40:27172 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 17:40:27182 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 17:40:27182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 17:40:27184 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 27.3605ms
[29-06-2024 17:40:27184 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 17:40:27185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 33.2949ms
[29-06-2024 17:40:29356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:40:29357 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:29357 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2739ms
[29-06-2024 17:40:29359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:40:29359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:40:29363 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:29364 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:29364 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.2156ms
[29-06-2024 17:40:29364 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:29365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:40:29365 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:40:29366 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:29367 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:40:29368 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:40:29370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:40:29373 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:40:29373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:40:29374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.6744ms
[29-06-2024 17:40:29375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:40:29375 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:29375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.2778ms
[29-06-2024 17:40:29376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 16.7867ms
[29-06-2024 17:40:29376 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:40:29377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.692ms
[29-06-2024 17:40:33777 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:40:33778 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:33779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4226ms
[29-06-2024 17:40:33780 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:40:33781 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:33781 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.RemoveAddress (Project-Keystone)"'
[29-06-2024 17:40:33783 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:40:33788 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:40:33802 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ADDRESSES]
OUTPUT 1
WHERE [ADDRESS_ID] = @p0;"
[29-06-2024 17:40:33804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:40:33805 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.RemoveAddress (Project-Keystone)" in 21.1175ms
[29-06-2024 17:40:33805 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.RemoveAddress (Project-Keystone)"'
[29-06-2024 17:40:33806 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 26.2037ms
[29-06-2024 17:40:34597 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:40:34598 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:34599 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:34599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:40:34603 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:40:34638 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:40:34638 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 38.7083ms
[29-06-2024 17:40:34639 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:34639 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 41.7575ms
[29-06-2024 17:40:36915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - null null
[29-06-2024 17:40:36916 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:36916 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - 204 null null 1.5259ms
[29-06-2024 17:40:36917 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - "application/json" 104
[29-06-2024 17:40:36918 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:36919 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 17:40:36921 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAddress(Project_Keystone.Api.Models.DTOs.AddressDTos.AddAddressDTO)" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:40:36928 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:40:36949 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ADDRESSES] ([CITY], [COUNTRY], [STREET_ADDRESS], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ADDRESS_ID]
VALUES (@p0, @p1, @p2, @p3, @p4);"
[29-06-2024 17:40:36958 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:40:36958 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)" in 36.3215ms
[29-06-2024 17:40:36959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 17:40:36959 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - 200 null "application/json; charset=utf-8" 41.9474ms
[29-06-2024 17:40:36963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:40:36964 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:36964 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:36965 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:40:36970 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:40:36972 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:40:36973 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.2855ms
[29-06-2024 17:40:36973 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:36973 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:40:36974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 10.9844ms
[29-06-2024 17:40:36974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:40:36975 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:36976 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:36977 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:36977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4704ms
[29-06-2024 17:40:36978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:40:36977 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:40:36979 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:40:36980 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:40:36980 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:40:36983 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:40:36985 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:40:36986 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:40:36987 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.0822ms
[29-06-2024 17:40:36987 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:40:36987 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:40:36987 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.5599ms
[29-06-2024 17:40:36988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.3445ms
[29-06-2024 17:40:36988 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:40:36989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.7476ms
[29-06-2024 17:41:16468 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/delete""" - null null
[29-06-2024 17:41:16471 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:41:16471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/delete""" - 204 null null 3.9443ms
[29-06-2024 17:41:16472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/auth/delete""" - "application/json" 28
[29-06-2024 17:41:16473 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:41:16474 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.DeleteUser (Project-Keystone)"'
[29-06-2024 17:41:16476 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"DeleteUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Project_Keystone.Api.Models.DTOs.DeleteUserDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:41:16482 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:41:16493 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [USERS]
OUTPUT 1
WHERE [Id] = @p0 AND [CONCURRENCY_STAMP] = @p1;"
[29-06-2024 17:41:16507 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"Project_Keystone.Infrastructure.Data.ProjectKeystoneDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint \"FK_BASKETS_USERS_USER_ID\". The conflict occurred in database \"ProjectKeystone\", table \"dbo.BASKETS\", column 'USER_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:54dd0595-fe8b-430d-b214-171623bfb1b8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BASKETS_USERS_USER_ID". The conflict occurred in database "ProjectKeystone", table "dbo.BASKETS", column 'USER_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:54dd0595-fe8b-430d-b214-171623bfb1b8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[29-06-2024 17:41:16581 +03:00 Project_Keystone.Api.Controllers.AuthController ] An unexpected error occurred during user deletion
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BASKETS_USERS_USER_ID". The conflict occurred in database "ProjectKeystone", table "dbo.BASKETS", column 'USER_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:54dd0595-fe8b-430d-b214-171623bfb1b8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.DeleteAsync(TUser user, CancellationToken cancellationToken)
   at Project_Keystone.Core.Services.AuthService.DeleteUserAsync(String email) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 214
   at Project_Keystone.Api.Controllers.AuthController.DeleteUser(DeleteUserDTO deleteUserDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 112
[29-06-2024 17:41:16592 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:41:16593 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.DeleteUser (Project-Keystone)" in 116.299ms
[29-06-2024 17:41:16593 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.DeleteUser (Project-Keystone)"'
[29-06-2024 17:41:16594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/auth/delete""" - 500 null "application/json; charset=utf-8" 121.5252ms
[29-06-2024 17:43:09110 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 17:43:09258 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 17:43:09258 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 17:43:09259 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 17:43:09260 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 17:43:09260 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 17:43:34913 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[29-06-2024 17:43:34942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[29-06-2024 17:43:34943 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[29-06-2024 17:43:34943 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[29-06-2024 17:43:34950 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
[29-06-2024 17:43:34957 +03:00 Microsoft.EntityFrameworkCore.Migrations ] Applying migration '"20240629144326_CascadeUpdate"'.
[29-06-2024 17:43:35006 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [BASKETS] DROP CONSTRAINT [FK_BASKETS_USERS_USER_ID];"
[29-06-2024 17:43:35007 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [USER_ROLES]
WHERE [RoleId] = N'dda0e414-944b-4c35-804b-4e4784abc301' AND [UserId] = N'720f3eff-b608-4633-801e-ada6b4e7b2f4';
SELECT @@ROWCOUNT;"
[29-06-2024 17:43:35011 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [USERS]
WHERE [Id] = N'720f3eff-b608-4633-801e-ada6b4e7b2f4';
SELECT @@ROWCOUNT;"
[29-06-2024 17:44:20965 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[29-06-2024 17:44:20994 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[29-06-2024 17:44:20995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[29-06-2024 17:44:20995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[29-06-2024 17:44:21002 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
[29-06-2024 17:44:21009 +03:00 Microsoft.EntityFrameworkCore.Migrations ] Applying migration '"20240629144326_CascadeUpdate"'.
[29-06-2024 17:44:21057 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [BASKETS] DROP CONSTRAINT [FK_BASKETS_USERS_USER_ID];"
[29-06-2024 17:44:21057 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [USER_ROLES]
WHERE [RoleId] = N'dda0e414-944b-4c35-804b-4e4784abc301' AND [UserId] = N'720f3eff-b608-4633-801e-ada6b4e7b2f4';
SELECT @@ROWCOUNT;"
[29-06-2024 17:44:21060 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [USERS]
WHERE [Id] = N'720f3eff-b608-4633-801e-ada6b4e7b2f4';
SELECT @@ROWCOUNT;"
[29-06-2024 17:44:21067 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CONCURRENCY_STAMP', N'CREATED_AT', N'EMAIL', N'FIRSTNAME', N'LASTNAME', N'NormalizedEmail', N'NORMALIZED_USER_NAME', N'PASSWORD_HASH', N'RefreshToken', N'RefreshTokenExpiryTime', N'UPDATED_AT', N'UserName') AND [object_id] = OBJECT_ID(N'[USERS]'))
    SET IDENTITY_INSERT [USERS] ON;
INSERT INTO [USERS] ([Id], [CONCURRENCY_STAMP], [CREATED_AT], [EMAIL], [FIRSTNAME], [LASTNAME], [NormalizedEmail], [NORMALIZED_USER_NAME], [PASSWORD_HASH], [RefreshToken], [RefreshTokenExpiryTime], [UPDATED_AT], [UserName])
VALUES (N'f0ded707-eebc-481a-ae49-260a9855d0e4', N'6ddb2035-59a9-466a-a3c5-bfd337705647', '2024-06-29T14:43:25.9939467Z', N'admin@example.com', N'Admin', N'User', N'ADMIN@EXAMPLE.COM', N'ADMIN@EXAMPLE.COM', N'AQAAAAIAAYagAAAAEA8pObcEzh5vl21tGAyfVttwHfC9BIg0zNHq7RMmo4qf0Hw7urCagPaHxz2dEg161A==', NULL, '0001-01-01T00:00:00.0000000', '2024-06-29T14:43:25.9939470Z', N'admin@example.com');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CONCURRENCY_STAMP', N'CREATED_AT', N'EMAIL', N'FIRSTNAME', N'LASTNAME', N'NormalizedEmail', N'NORMALIZED_USER_NAME', N'PASSWORD_HASH', N'RefreshToken', N'RefreshTokenExpiryTime', N'UPDATED_AT', N'UserName') AND [object_id] = OBJECT_ID(N'[USERS]'))
    SET IDENTITY_INSERT [USERS] OFF;"
[29-06-2024 17:44:21073 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'RoleId', N'UserId') AND [object_id] = OBJECT_ID(N'[USER_ROLES]'))
    SET IDENTITY_INSERT [USER_ROLES] ON;
INSERT INTO [USER_ROLES] ([RoleId], [UserId])
VALUES (N'dda0e414-944b-4c35-804b-4e4784abc301', N'f0ded707-eebc-481a-ae49-260a9855d0e4');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'RoleId', N'UserId') AND [object_id] = OBJECT_ID(N'[USER_ROLES]'))
    SET IDENTITY_INSERT [USER_ROLES] OFF;"
[29-06-2024 17:44:21074 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [BASKETS] ADD CONSTRAINT [FK_BASKETS_USERS_USER_ID] FOREIGN KEY ([USER_ID]) REFERENCES [USERS] ([Id]) ON DELETE CASCADE;"
[29-06-2024 17:44:21075 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629144326_CascadeUpdate', N'8.0.5');"
[29-06-2024 17:44:42917 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 17:44:43099 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 17:44:43100 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 17:44:43101 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 17:44:43101 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 17:44:43102 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 17:44:44013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 17:44:44129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 118.4329ms
[29-06-2024 17:44:44149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 17:44:44149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 17:44:44149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 17:44:44159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 9.3748ms
[29-06-2024 17:44:44169 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 17:44:44169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 20.1916ms
[29-06-2024 17:44:44184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 34.4876ms
[29-06-2024 17:44:44215 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 17:44:44217 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 17:44:44218 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.7173ms
[29-06-2024 17:44:44249 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 17:44:44387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 137.5797ms
[29-06-2024 17:44:44448 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:44:44452 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:44453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.9915ms
[29-06-2024 17:44:44455 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:44:44457 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:44476 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:44:44479 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:44541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:44:44567 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:44:44604 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:44:44608 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:44:45727 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 17:44:45944 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:44:45944 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:44:45959 +03:00 Project_Keystone.Core.Services.BasketService ] Basket not found for user effa8f4c-c852-492f-b888-4d2c0a14f56f. Creating a new one.
[29-06-2024 17:44:46045 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:44:46069 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKETS] ([CREATED_AT], [UPDATED_AT], [USER_ID])
OUTPUT INSERTED.[BASKET_ID]
VALUES (@p0, @p1, @p2);"
[29-06-2024 17:44:46072 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1502.5514ms
[29-06-2024 17:44:46073 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:44:46078 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1602.5651ms
[29-06-2024 17:44:46092 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:44:46094 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 1485.9514ms
[29-06-2024 17:44:46095 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:44:46096 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 1641.1253ms
[29-06-2024 17:44:46732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:44:46733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:44:46733 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:46734 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:46734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.6974ms
[29-06-2024 17:44:46735 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:44:46735 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.6701ms
[29-06-2024 17:44:46736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:44:46737 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:46739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:46743 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:44:46743 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:44:46746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:44:46746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:44:46796 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:44:46797 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:44:46808 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:44:46809 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 63.1315ms
[29-06-2024 17:44:46810 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:44:46810 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 75.0329ms
[29-06-2024 17:44:46823 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:44:46826 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 79.0809ms
[29-06-2024 17:44:46826 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:44:46827 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 91.922ms
[29-06-2024 17:44:49100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:44:49102 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:49103 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:44:49104 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:44:49132 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:44:49140 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:44:49143 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 39.1272ms
[29-06-2024 17:44:49151 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:44:49152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 51.8042ms
[29-06-2024 17:44:49165 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:44:49166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:44:49166 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:49167 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:49167 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:44:49168 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:44:49170 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:44:49170 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:44:49178 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:44:49181 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:44:49182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 11.6068ms
[29-06-2024 17:44:49182 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:44:49183 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:44:49183 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 18.5465ms
[29-06-2024 17:44:49186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:44:49187 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 15.6152ms
[29-06-2024 17:44:49187 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:44:49188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 22.0568ms
[29-06-2024 17:44:52731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/delete""" - null null
[29-06-2024 17:44:52733 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:52733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/delete""" - 204 null null 1.9397ms
[29-06-2024 17:44:52734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/auth/delete""" - "application/json" 28
[29-06-2024 17:44:52736 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:44:52736 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.DeleteUser (Project-Keystone)"'
[29-06-2024 17:44:52740 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"DeleteUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Project_Keystone.Api.Models.DTOs.DeleteUserDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:44:52774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:44:52795 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [USERS]
OUTPUT 1
WHERE [Id] = @p0 AND [CONCURRENCY_STAMP] = @p1;"
[29-06-2024 17:44:52808 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"Project_Keystone.Infrastructure.Data.ProjectKeystoneDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint \"FK_WISHLISTS_USERS_USER_ID\". The conflict occurred in database \"ProjectKeystone\", table \"dbo.WISHLISTS\", column 'USER_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2ff8c85a-8edb-4cd0-99b8-693b82947f2e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_WISHLISTS_USERS_USER_ID". The conflict occurred in database "ProjectKeystone", table "dbo.WISHLISTS", column 'USER_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2ff8c85a-8edb-4cd0-99b8-693b82947f2e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[29-06-2024 17:44:52894 +03:00 Project_Keystone.Api.Controllers.AuthController ] An unexpected error occurred during user deletion
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_WISHLISTS_USERS_USER_ID". The conflict occurred in database "ProjectKeystone", table "dbo.WISHLISTS", column 'USER_ID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2ff8c85a-8edb-4cd0-99b8-693b82947f2e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.DeleteAsync(TUser user, CancellationToken cancellationToken)
   at Project_Keystone.Core.Services.AuthService.DeleteUserAsync(String email) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 214
   at Project_Keystone.Api.Controllers.AuthController.DeleteUser(DeleteUserDTO deleteUserDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 112
[29-06-2024 17:44:52905 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:44:52908 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.DeleteUser (Project-Keystone)" in 167.6235ms
[29-06-2024 17:44:52908 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.DeleteUser (Project-Keystone)"'
[29-06-2024 17:44:52909 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/auth/delete""" - 500 null "application/json; charset=utf-8" 174.4332ms
[29-06-2024 17:46:33224 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[29-06-2024 17:46:33253 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[29-06-2024 17:46:33254 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[29-06-2024 17:46:33255 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[29-06-2024 17:46:33261 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
[29-06-2024 17:46:33268 +03:00 Microsoft.EntityFrameworkCore.Migrations ] Applying migration '"20240629144624_CascadeUpdates"'.
[29-06-2024 17:46:33313 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [USER_ROLES]
WHERE [RoleId] = N'dda0e414-944b-4c35-804b-4e4784abc301' AND [UserId] = N'f0ded707-eebc-481a-ae49-260a9855d0e4';
SELECT @@ROWCOUNT;"
[29-06-2024 17:46:33317 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [USERS]
WHERE [Id] = N'f0ded707-eebc-481a-ae49-260a9855d0e4';
SELECT @@ROWCOUNT;"
[29-06-2024 17:46:33325 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CONCURRENCY_STAMP', N'CREATED_AT', N'EMAIL', N'FIRSTNAME', N'LASTNAME', N'NormalizedEmail', N'NORMALIZED_USER_NAME', N'PASSWORD_HASH', N'RefreshToken', N'RefreshTokenExpiryTime', N'UPDATED_AT', N'UserName') AND [object_id] = OBJECT_ID(N'[USERS]'))
    SET IDENTITY_INSERT [USERS] ON;
INSERT INTO [USERS] ([Id], [CONCURRENCY_STAMP], [CREATED_AT], [EMAIL], [FIRSTNAME], [LASTNAME], [NormalizedEmail], [NORMALIZED_USER_NAME], [PASSWORD_HASH], [RefreshToken], [RefreshTokenExpiryTime], [UPDATED_AT], [UserName])
VALUES (N'491ee86a-a604-4a6b-9625-64baaf396bf3', N'2ace200f-3ee2-49ed-a9d1-cd6d15003671', '2024-06-29T14:46:24.6401927Z', N'admin@example.com', N'Admin', N'User', N'ADMIN@EXAMPLE.COM', N'ADMIN@EXAMPLE.COM', N'AQAAAAIAAYagAAAAEMhrvDC6MTVlFOTdd+BUwGaQrE5HBKUTWzQp1ZESr5n9J5NQooBofu/mGRHBjuP2IQ==', NULL, '0001-01-01T00:00:00.0000000', '2024-06-29T14:46:24.6401929Z', N'admin@example.com');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CONCURRENCY_STAMP', N'CREATED_AT', N'EMAIL', N'FIRSTNAME', N'LASTNAME', N'NormalizedEmail', N'NORMALIZED_USER_NAME', N'PASSWORD_HASH', N'RefreshToken', N'RefreshTokenExpiryTime', N'UPDATED_AT', N'UserName') AND [object_id] = OBJECT_ID(N'[USERS]'))
    SET IDENTITY_INSERT [USERS] OFF;"
[29-06-2024 17:46:33331 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'RoleId', N'UserId') AND [object_id] = OBJECT_ID(N'[USER_ROLES]'))
    SET IDENTITY_INSERT [USER_ROLES] ON;
INSERT INTO [USER_ROLES] ([RoleId], [UserId])
VALUES (N'dda0e414-944b-4c35-804b-4e4784abc301', N'491ee86a-a604-4a6b-9625-64baaf396bf3');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'RoleId', N'UserId') AND [object_id] = OBJECT_ID(N'[USER_ROLES]'))
    SET IDENTITY_INSERT [USER_ROLES] OFF;"
[29-06-2024 17:46:33331 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629144624_CascadeUpdates', N'8.0.5');"
[29-06-2024 17:47:09147 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 17:47:09293 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 17:47:09294 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 17:47:09295 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 17:47:09296 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 17:47:09296 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 17:47:10331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 17:47:10460 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 132.6896ms
[29-06-2024 17:47:10487 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 17:47:10487 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 17:47:10487 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 17:47:10497 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 10.4095ms
[29-06-2024 17:47:10506 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 17:47:10507 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 20.377ms
[29-06-2024 17:47:10523 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 36.4036ms
[29-06-2024 17:47:10560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 17:47:10563 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 17:47:10564 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 4.0885ms
[29-06-2024 17:47:10600 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 17:47:10704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 103.6946ms
[29-06-2024 17:47:13982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:47:13985 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:13986 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.726ms
[29-06-2024 17:47:13987 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:47:13988 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:14001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:47:14002 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:14052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:47:14070 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:47:14098 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:47:14101 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:47:15119 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 17:47:15355 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:47:15355 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:47:15409 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:47:15424 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 1320.6269ms
[29-06-2024 17:47:15425 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:47:15428 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:47:15430 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 1443.3316ms
[29-06-2024 17:47:15439 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1367.321ms
[29-06-2024 17:47:15439 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:47:15440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1438.4938ms
[29-06-2024 17:47:16629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:47:16630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:47:16631 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:16631 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:16632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.489ms
[29-06-2024 17:47:16632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.8425ms
[29-06-2024 17:47:16633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:47:16633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:47:16635 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:16636 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:16639 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:47:16639 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:47:16642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:47:16642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:47:16691 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:47:16691 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:47:16702 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:47:16703 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 61.1085ms
[29-06-2024 17:47:16704 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:47:16704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 71.5381ms
[29-06-2024 17:47:16715 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:47:16718 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 74.8807ms
[29-06-2024 17:47:16718 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:47:16719 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 86.2881ms
[29-06-2024 17:47:18817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/delete""" - null null
[29-06-2024 17:47:18818 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:18818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/delete""" - 204 null null 1.7351ms
[29-06-2024 17:47:18819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/auth/delete""" - "application/json" 28
[29-06-2024 17:47:18820 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:18822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.DeleteUser (Project-Keystone)"'
[29-06-2024 17:47:18825 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"DeleteUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(Project_Keystone.Api.Models.DTOs.DeleteUserDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:47:18847 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:47:18907 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [USERS]
OUTPUT 1
WHERE [Id] = @p0 AND [CONCURRENCY_STAMP] = @p1;"
[29-06-2024 17:47:18917 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" deleted successfully.
[29-06-2024 17:47:18917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:47:18919 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.DeleteUser (Project-Keystone)" in 93.9129ms
[29-06-2024 17:47:18920 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.DeleteUser (Project-Keystone)"'
[29-06-2024 17:47:18920 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/auth/delete""" - 200 null "application/json; charset=utf-8" 100.9835ms
[29-06-2024 17:47:18930 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:47:18931 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:18932 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:47:18933 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:47:18942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:47:18951 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:47:18953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 19.6303ms
[29-06-2024 17:47:18954 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:47:18954 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 23.8133ms
[29-06-2024 17:47:47186 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/register""" - null null
[29-06-2024 17:47:47190 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:47190 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/register""" - 204 null null 4.6363ms
[29-06-2024 17:47:47191 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/register""" - "application/json" 110
[29-06-2024 17:47:47192 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:47193 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Register (Project-Keystone)"'
[29-06-2024 17:47:47195 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Register\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Project_Keystone.Api.Models.DTOs.UserDTOs.UserRegisterDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:47:47216 +03:00 Project_Keystone.Core.Services.AuthService ] Attempting to create user: User ID: 27ce21ad-3455-465f-b340-425b5d8fa41e, UserName: user@example.com
[29-06-2024 17:47:47309 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:47:47315 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:47:47334 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (Size = 4000), @p5='?' (Size = 450), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 512), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USERS] ([Id], [CONCURRENCY_STAMP], [CREATED_AT], [EMAIL], [FIRSTNAME], [LASTNAME], [NormalizedEmail], [NORMALIZED_USER_NAME], [PASSWORD_HASH], [RefreshToken], [RefreshTokenExpiryTime], [UPDATED_AT], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
[29-06-2024 17:47:47344 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [ROLES] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0"
[29-06-2024 17:47:47359 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [USER_ROLES] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1"
[29-06-2024 17:47:47362 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [ROLES] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0"
[29-06-2024 17:47:47369 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:47:47372 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:47:47396 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p14='?' (Size = 450), @p15='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;
INSERT INTO [USER_ROLES] ([RoleId], [UserId])
VALUES (@p14, @p15);"
[29-06-2024 17:47:47404 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" registered successfully.
[29-06-2024 17:47:47404 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:47:47405 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Register (Project-Keystone)" in 209.3188ms
[29-06-2024 17:47:47406 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Register (Project-Keystone)"'
[29-06-2024 17:47:47406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/register""" - 200 null "application/json; charset=utf-8" 214.893ms
[29-06-2024 17:47:54715 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 17:47:54716 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:54716 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.5769ms
[29-06-2024 17:47:54717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 17:47:54719 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:54719 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:47:54721 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:47:54729 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:47:54812 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 17:47:54822 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 17:47:54824 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:47:54827 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 17:47:54828 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 17:47:54829 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 17:47:54830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 108.3292ms
[29-06-2024 17:47:54831 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 17:47:54831 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 113.7417ms
[29-06-2024 17:47:54843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:47:54844 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:47:54844 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:47:54845 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:47:54852 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:47:54860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:47:54861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.5713ms
[29-06-2024 17:47:54862 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:47:54862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 19.3698ms
[29-06-2024 17:48:00200 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:48:00201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:48:00201 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:00202 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:00202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.2802ms
[29-06-2024 17:48:00203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:48:00203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:48:00202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.5975ms
[29-06-2024 17:48:00207 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:00208 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:00210 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:48:00210 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:48:00210 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:48:00210 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:48:00214 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:48:00215 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:48:00218 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:48:00248 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 36.7131ms
[29-06-2024 17:48:00255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:48:00255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:48:00256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 44.34ms
[29-06-2024 17:48:00256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 52.8291ms
[29-06-2024 17:48:00256 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:48:00258 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 54.7403ms
[29-06-2024 17:48:02981 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:48:02982 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:02982 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:48:02983 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:48:02987 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:48:03015 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:48:03015 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 31.7186ms
[29-06-2024 17:48:03015 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:48:03016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 35.0968ms
[29-06-2024 17:48:04989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - null null
[29-06-2024 17:48:04990 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:04990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address/add""" - 204 null null 1.434ms
[29-06-2024 17:48:04991 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - "application/json" 88
[29-06-2024 17:48:04992 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:04993 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 17:48:04995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAddress(Project_Keystone.Api.Models.DTOs.AddressDTos.AddAddressDTO)" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:48:05001 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:48:05023 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p4='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ADDRESSES] ([CITY], [COUNTRY], [STREET_ADDRESS], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ADDRESS_ID]
VALUES (@p0, @p1, @p2, @p3, @p4);"
[29-06-2024 17:48:05031 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:48:05032 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)" in 36.0766ms
[29-06-2024 17:48:05032 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.AddAddress (Project-Keystone)"'
[29-06-2024 17:48:05032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/address/add""" - 200 null "application/json; charset=utf-8" 41.2747ms
[29-06-2024 17:48:05036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:48:05037 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:05038 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:48:05038 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:48:05043 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:48:05045 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:48:05046 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.9486ms
[29-06-2024 17:48:05046 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:48:05046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:48:05047 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 10.7432ms
[29-06-2024 17:48:05047 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:48:05048 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:05049 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:48:05050 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:48:05050 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:48:05050 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:48:05050 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:48:05055 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:48:05056 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:48:05058 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:48:05058 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.2293ms
[29-06-2024 17:48:05058 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:48:05059 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:48:05059 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.5041ms
[29-06-2024 17:48:05060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.2497ms
[29-06-2024 17:48:05060 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:48:05061 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 14.4573ms
[29-06-2024 17:49:43725 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:49:43728 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:43729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.0624ms
[29-06-2024 17:49:43730 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:49:43731 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:43731 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:49:43732 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:49:43737 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:49:43738 +03:00 Project_Keystone.Core.Services.BasketService ] Basket not found for user 27ce21ad-3455-465f-b340-425b5d8fa41e. Creating a new one.
[29-06-2024 17:49:43745 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKETS] ([CREATED_AT], [UPDATED_AT], [USER_ID])
OUTPUT INSERTED.[BASKET_ID]
VALUES (@p0, @p1, @p2);"
[29-06-2024 17:49:43748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:49:43749 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:43749 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:49:43750 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:49:43750 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:49:43751 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 18.2151ms
[29-06-2024 17:49:43753 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:49:43754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 24.7795ms
[29-06-2024 17:49:43758 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:49:43765 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:49:43766 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.6983ms
[29-06-2024 17:49:43766 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:49:43767 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 18.9845ms
[29-06-2024 17:49:45152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 17:49:45152 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:45153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.3177ms
[29-06-2024 17:49:45154 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:49:45155 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:45156 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:49:45158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:49:45167 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:49:45172 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:49:45177 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:49:45185 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:49:45204 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:49:45210 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:49:45213 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:49:45214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 54.9342ms
[29-06-2024 17:49:45214 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:49:45215 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 61.2997ms
[29-06-2024 17:49:45638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:49:45639 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:45640 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:49:45641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:49:45646 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:49:45649 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:49:45651 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:49:45653 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:49:45656 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:49:45659 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:49:45662 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:49:45663 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 20.5985ms
[29-06-2024 17:49:45663 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:49:45664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 25.244ms
[29-06-2024 17:49:48837 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:49:48838 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:48838 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4054ms
[29-06-2024 17:49:48839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:49:48840 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:48841 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:49:48842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:49:48847 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:49:48850 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:49:48856 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 17:49:48858 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:49:48861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:49:48861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 17.9975ms
[29-06-2024 17:49:48862 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:49:48862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 23.0765ms
[29-06-2024 17:49:52331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:49:52332 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:52332 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:49:52333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.787ms
[29-06-2024 17:49:52333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:49:52333 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:52335 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:52336 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.2847ms
[29-06-2024 17:49:52337 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:49:52336 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:49:52338 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:52338 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:49:52339 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:49:52339 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:49:52342 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:49:52344 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:49:52345 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:49:52346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.9945ms
[29-06-2024 17:49:52346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:49:52346 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:49:52347 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.9176ms
[29-06-2024 17:49:52347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.0031ms
[29-06-2024 17:49:52348 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:49:52349 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.2597ms
[29-06-2024 17:49:54767 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:49:54768 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:54768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4318ms
[29-06-2024 17:49:54769 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:49:54770 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:54770 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:49:54771 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:49:54774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:49:54778 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:49:54779 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.673ms
[29-06-2024 17:49:54779 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:49:54780 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.3136ms
[29-06-2024 17:49:54806 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:49:54807 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:54808 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:49:54808 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:49:54812 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:49:54815 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:49:54815 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.1566ms
[29-06-2024 17:49:54815 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:49:54816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:49:54816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.7809ms
[29-06-2024 17:49:54817 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:54822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:49:54822 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:49:54832 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:49:54836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:49:54836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 13.1838ms
[29-06-2024 17:49:54839 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:49:54840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 24.1719ms
[29-06-2024 17:49:54851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:49:54852 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:54853 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.7987ms
[29-06-2024 17:49:54858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:49:54861 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:54861 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:49:54863 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:49:54869 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:49:54882 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 17:49:54886 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:49:54887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 23.0744ms
[29-06-2024 17:49:54888 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:49:54888 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 30.0306ms
[29-06-2024 17:49:58602 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:49:58603 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:58604 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:49:58604 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:49:58608 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:49:58611 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:49:58611 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.5771ms
[29-06-2024 17:49:58612 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:49:58612 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.9194ms
[29-06-2024 17:49:58625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:49:58626 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:49:58626 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:49:58627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:49:58632 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:49:58638 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:49:58639 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.552ms
[29-06-2024 17:49:58639 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:49:58640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.7973ms
[29-06-2024 17:50:14447 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:50:14448 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:14449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3101ms
[29-06-2024 17:50:14450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:50:14451 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:14451 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:50:14452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:50:14456 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:14459 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:50:14460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.6933ms
[29-06-2024 17:50:14460 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:50:14462 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.327ms
[29-06-2024 17:50:14509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:50:14510 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:14511 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:50:14511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:50:14519 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:50:14526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:50:14527 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.2413ms
[29-06-2024 17:50:14528 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:50:14528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 19.6351ms
[29-06-2024 17:50:15699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 17:50:15700 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:15701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.397ms
[29-06-2024 17:50:15702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:50:15702 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:15703 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:50:15703 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:50:15708 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:15710 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:50:15711 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:50:15712 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:50:15714 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:50:15715 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:15718 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:50:15718 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 14.3998ms
[29-06-2024 17:50:15719 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:50:15719 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 17.5184ms
[29-06-2024 17:50:16129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:50:16130 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:16130 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:50:16131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:50:16135 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:16137 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:50:16138 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:50:16139 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:50:16141 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:50:16142 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:16144 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:50:16145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 13.7472ms
[29-06-2024 17:50:16145 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:50:16146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 17.0762ms
[29-06-2024 17:50:21739 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:50:21740 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:21740 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.3701ms
[29-06-2024 17:50:21741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:50:21742 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:21743 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:21743 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:50:21747 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:50:21749 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:50:21749 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.0031ms
[29-06-2024 17:50:21750 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:21750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.4887ms
[29-06-2024 17:50:21753 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:50:21753 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:21754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2775ms
[29-06-2024 17:50:21755 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:50:21756 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:21756 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:50:21757 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:50:21760 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:50:21762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:50:21763 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.465ms
[29-06-2024 17:50:21763 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:50:21763 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 8.8249ms
[29-06-2024 17:50:21766 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - null null
[29-06-2024 17:50:21767 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:21767 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - 204 null null 1.2809ms
[29-06-2024 17:50:21768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - "application/json" 119
[29-06-2024 17:50:21769 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:21769 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 17:50:21772 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateOrder\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] CreateOrder(Project_Keystone.Api.Models.DTOs.OrderDTOs.CreateOrderDTO)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:50:21778 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:50:21780 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:21803 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:50:21813 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 450), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;
INSERT INTO [ORDERS] ([CITY], [COUNTRY], [ORDER_DATE], [STREET_ADDRESS], [TOTAL_AMOUNT], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ORDER_ID]
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[29-06-2024 17:50:21822 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p9='?' (DbType = Int32), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [ORDER_DETAILS] USING (
VALUES (@p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, 1)) AS i ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL])
VALUES (i.[ORDER_ID], i.[PRICE], i.[PRODUCT_ID], i.[QUANTITY], i.[TOTAL])
OUTPUT INSERTED.[ORDER_DETAIL_ID], i._Position;"
[29-06-2024 17:50:21828 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO"'.
[29-06-2024 17:50:21840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)" in 67.6368ms
[29-06-2024 17:50:21840 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 17:50:21841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - 201 null "application/json; charset=utf-8" 73.3455ms
[29-06-2024 17:50:21844 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:50:21845 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:21845 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3325ms
[29-06-2024 17:50:21846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:50:21847 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:21847 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:50:21848 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:50:21852 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:21854 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:50:21856 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:21858 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:50:21858 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 10.1584ms
[29-06-2024 17:50:21859 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:50:21859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.4674ms
[29-06-2024 17:50:23304 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:50:23305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:23306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:50:23306 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:50:23307 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:23307 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:50:23307 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:23308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:50:23311 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:50:23313 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:50:23315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:50:23315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.5158ms
[29-06-2024 17:50:23315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:50:23316 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:50:23316 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.2655ms
[29-06-2024 17:50:23317 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.3022ms
[29-06-2024 17:50:23317 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:23318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.5122ms
[29-06-2024 17:50:24716 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:50:24717 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:24718 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:50:24718 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:50:24721 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:24724 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:50:24725 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.3063ms
[29-06-2024 17:50:24725 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:50:24726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.8973ms
[29-06-2024 17:50:24763 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:50:24763 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:24764 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:24764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:50:24768 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:50:24771 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:50:24771 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.0412ms
[29-06-2024 17:50:24771 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:24772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:50:24772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 9.5516ms
[29-06-2024 17:50:24773 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:24774 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:24774 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:50:24778 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:50:24780 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:50:24781 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.8914ms
[29-06-2024 17:50:24781 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:24782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.0752ms
[29-06-2024 17:50:24784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:50:24785 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:24785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.2821ms
[29-06-2024 17:50:24786 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:50:24787 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:24787 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:50:24788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:50:24792 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:50:24794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 17:50:24799 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:50:24799 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 10.7338ms
[29-06-2024 17:50:24800 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:50:24800 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 13.9936ms
[29-06-2024 17:50:26262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:50:26263 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:26264 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:50:26264 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:50:26268 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:26271 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:50:26272 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.7714ms
[29-06-2024 17:50:26272 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:50:26272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.2316ms
[29-06-2024 17:50:26285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:50:26286 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:26286 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:50:26287 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:50:26291 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:50:26298 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:50:26299 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.887ms
[29-06-2024 17:50:26300 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:50:26300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 15.1543ms
[29-06-2024 17:50:29792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 17:50:29793 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:29793 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.3146ms
[29-06-2024 17:50:29794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:50:29795 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:29796 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:50:29796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:50:29800 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:29802 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:50:29803 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:50:29804 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:50:29806 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:50:29807 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:29809 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:50:29810 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 13.3682ms
[29-06-2024 17:50:29810 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:50:29811 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 16.9018ms
[29-06-2024 17:50:30204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:50:30205 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:30205 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:50:30206 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:50:30209 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:30211 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:50:30213 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:50:30214 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:50:30215 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:50:30216 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:50:30219 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:50:30219 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 13.0071ms
[29-06-2024 17:50:30220 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:50:30220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 16.3607ms
[29-06-2024 17:50:49445 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:50:49446 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:49446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:50:49447 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:50:49446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.6834ms
[29-06-2024 17:50:49447 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:49448 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:49450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.6453ms
[29-06-2024 17:50:49450 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:50:49451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:50:49451 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:50:49452 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:50:49453 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:49454 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:50:49456 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:50:49458 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:50:49459 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:50:49460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.9542ms
[29-06-2024 17:50:49460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:50:49461 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:50:49461 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.7717ms
[29-06-2024 17:50:49461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.5171ms
[29-06-2024 17:50:49462 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:50:49463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.0437ms
[29-06-2024 17:51:24064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:51:24072 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:24072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 8.0499ms
[29-06-2024 17:51:24095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:51:24101 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:24102 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:24103 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:51:24115 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:51:24118 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:51:24119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 15.5101ms
[29-06-2024 17:51:24120 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:24120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 24.8602ms
[29-06-2024 17:51:24138 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:51:24142 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:24142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 4.2294ms
[29-06-2024 17:51:24143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:51:24143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:51:24148 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:24149 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:24149 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:24149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.1876ms
[29-06-2024 17:51:24150 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:51:24150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:51:24152 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:24153 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:24153 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:51:24155 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:51:24157 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:51:24157 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.7954ms
[29-06-2024 17:51:24158 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:24159 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:51:24160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 16.3243ms
[29-06-2024 17:51:24161 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:51:24162 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.2221ms
[29-06-2024 17:51:24162 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:24163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.6951ms
[29-06-2024 17:51:37066 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:51:37068 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:37068 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.533ms
[29-06-2024 17:51:37069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:51:37070 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:37070 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:37071 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:51:37078 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:51:37081 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:51:37081 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.1919ms
[29-06-2024 17:51:37082 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:37082 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.7409ms
[29-06-2024 17:51:37111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:51:37112 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:37112 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.279ms
[29-06-2024 17:51:37113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:51:37113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:51:37114 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:37115 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:37116 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:37116 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.1309ms
[29-06-2024 17:51:37116 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:51:37116 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:51:37119 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:37119 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:37119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:51:37122 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:51:37123 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:51:37124 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.529ms
[29-06-2024 17:51:37125 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:51:37125 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:37126 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.2732ms
[29-06-2024 17:51:37127 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:51:37128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.9968ms
[29-06-2024 17:51:37128 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:37129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.5163ms
[29-06-2024 17:51:44375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:51:44376 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:44377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2495ms
[29-06-2024 17:51:44377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:51:44378 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:44379 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:44379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:51:44383 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:51:44386 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:51:44387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.7907ms
[29-06-2024 17:51:44387 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:44388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.6326ms
[29-06-2024 17:51:44419 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:51:44420 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:44420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:51:44421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:51:44420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3932ms
[29-06-2024 17:51:44421 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:44422 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:44423 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.0444ms
[29-06-2024 17:51:44423 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:44424 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:51:44425 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:51:44425 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:44426 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:44427 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:51:44429 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:51:44431 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:51:44431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:51:44433 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.3708ms
[29-06-2024 17:51:44434 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:51:44434 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:44434 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.05ms
[29-06-2024 17:51:44434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.6553ms
[29-06-2024 17:51:44435 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:44436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.4553ms
[29-06-2024 17:51:56291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:51:56292 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:56292 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2925ms
[29-06-2024 17:51:56293 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:51:56294 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:56294 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:56295 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:51:56298 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:51:56301 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:51:56302 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.5086ms
[29-06-2024 17:51:56302 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:56303 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0453ms
[29-06-2024 17:51:56333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:51:56334 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:56335 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:51:56335 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4455ms
[29-06-2024 17:51:56335 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:51:56336 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:56337 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:56338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.1884ms
[29-06-2024 17:51:56338 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:56339 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:51:56340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:51:56340 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:56341 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:56342 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:51:56344 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:51:56346 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:51:56347 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:51:56348 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.1178ms
[29-06-2024 17:51:56348 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:51:56348 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:56349 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.5553ms
[29-06-2024 17:51:56349 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.962ms
[29-06-2024 17:51:56350 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:56351 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.459ms
[29-06-2024 17:51:58300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:51:58301 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:58301 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:58302 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:51:58306 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:51:58310 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:51:58310 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.8032ms
[29-06-2024 17:51:58311 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:51:58311 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.2327ms
[29-06-2024 17:51:58343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:51:58344 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:58345 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:51:58345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:58346 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:51:58346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:51:58346 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:58347 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:51:58352 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:51:58352 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:51:58360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:51:58361 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:51:58361 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 13.9123ms
[29-06-2024 17:51:58361 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 13.074ms
[29-06-2024 17:51:58362 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:51:58362 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:51:58362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 19.0019ms
[29-06-2024 17:51:58363 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 18.0311ms
[29-06-2024 17:52:05113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:52:05114 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:05114 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2886ms
[29-06-2024 17:52:05115 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:52:05116 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:05117 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:52:05117 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:52:05121 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:52:05124 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:52:05124 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.6085ms
[29-06-2024 17:52:05125 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:52:05125 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.2656ms
[29-06-2024 17:52:05155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:52:05156 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:05156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:52:05156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.485ms
[29-06-2024 17:52:05157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:52:05157 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:05159 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:05159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.3351ms
[29-06-2024 17:52:05160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:52:05160 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:52:05161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:05161 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:52:05162 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:52:05163 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:52:05165 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:52:05167 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:52:05169 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:52:05169 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.8325ms
[29-06-2024 17:52:05169 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:52:05170 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:52:05170 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.7246ms
[29-06-2024 17:52:05170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.4987ms
[29-06-2024 17:52:05171 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:52:05172 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.0819ms
[29-06-2024 17:52:40984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:52:40987 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:40988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.9847ms
[29-06-2024 17:52:40989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:52:40989 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:40990 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:52:40990 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:52:40998 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:52:41000 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:52:41001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.7365ms
[29-06-2024 17:52:41001 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:52:41002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.3079ms
[29-06-2024 17:52:41052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:52:41053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:52:41061 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:41061 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:41062 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 9.5882ms
[29-06-2024 17:52:41066 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:52:41065 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:52:41062 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 8.9041ms
[29-06-2024 17:52:41070 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:41071 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:52:41072 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:52:41072 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:52:41073 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:52:41073 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:52:41078 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:52:41079 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:52:41081 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:52:41081 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.8542ms
[29-06-2024 17:52:41081 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:52:41082 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:52:41082 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.1037ms
[29-06-2024 17:52:41082 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 16.6828ms
[29-06-2024 17:52:41083 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:52:41085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 19.7552ms
[29-06-2024 17:53:06774 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:06775 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:06775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3853ms
[29-06-2024 17:53:06776 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:06777 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:06778 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:06778 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:53:06782 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:53:06785 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:53:06785 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9279ms
[29-06-2024 17:53:06786 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:06786 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.4138ms
[29-06-2024 17:53:06816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:06817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:06817 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:06818 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:06818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.2894ms
[29-06-2024 17:53:06819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.8949ms
[29-06-2024 17:53:06821 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:06822 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:06827 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:06828 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:06828 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:06829 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:06829 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:53:06829 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:53:06833 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:53:06834 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:53:06836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:53:06836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.4663ms
[29-06-2024 17:53:06836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:53:06837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:06837 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.696ms
[29-06-2024 17:53:06837 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 16.1102ms
[29-06-2024 17:53:06838 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:06839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 16.8438ms
[29-06-2024 17:53:17243 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:17244 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:17244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3909ms
[29-06-2024 17:53:17245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:17246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:17246 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:17247 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:53:17251 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:53:17254 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:53:17254 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.6384ms
[29-06-2024 17:53:17255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:17255 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0327ms
[29-06-2024 17:53:17285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:17285 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:17286 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:17287 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:17286 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.6887ms
[29-06-2024 17:53:17287 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:17288 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:17289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.7161ms
[29-06-2024 17:53:17290 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:17290 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:17291 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:17292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:53:17292 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:17293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:53:17296 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:53:17297 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:53:17299 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:53:17299 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.9236ms
[29-06-2024 17:53:17299 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:53:17300 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:17300 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.6899ms
[29-06-2024 17:53:17301 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.589ms
[29-06-2024 17:53:17301 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:17302 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.1475ms
[29-06-2024 17:53:27860 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:27861 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:27862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3451ms
[29-06-2024 17:53:27862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:27864 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:27864 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:27864 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:53:27868 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:53:27871 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:53:27872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.7236ms
[29-06-2024 17:53:27872 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:27873 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.4882ms
[29-06-2024 17:53:27908 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:27909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:27910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.6091ms
[29-06-2024 17:53:27910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:27911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:27912 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:27913 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:27913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.1104ms
[29-06-2024 17:53:27914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:27914 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:27916 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:27916 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:53:27916 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:27917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:53:27920 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:53:27922 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:53:27923 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:53:27924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.7794ms
[29-06-2024 17:53:27924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:53:27924 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:27925 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.5922ms
[29-06-2024 17:53:27925 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.2138ms
[29-06-2024 17:53:27925 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:27927 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.5685ms
[29-06-2024 17:53:36263 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:36264 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:36264 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3514ms
[29-06-2024 17:53:36265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:36266 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:36266 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:36267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:53:36274 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:53:36276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:53:36277 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.7457ms
[29-06-2024 17:53:36277 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:36278 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.2127ms
[29-06-2024 17:53:36306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:36307 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:36307 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:36308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:36307 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.6472ms
[29-06-2024 17:53:36308 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:36309 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:36311 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.611ms
[29-06-2024 17:53:36311 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:36312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:36313 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:53:36313 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:36314 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:36315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:53:36318 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:53:36321 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:53:36321 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:53:36321 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.0878ms
[29-06-2024 17:53:36322 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:36323 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:53:36323 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.7497ms
[29-06-2024 17:53:36323 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.8333ms
[29-06-2024 17:53:36325 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:36325 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.5706ms
[29-06-2024 17:53:52867 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:52869 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:52869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4658ms
[29-06-2024 17:53:52870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:53:52871 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:52871 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:52872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:53:52879 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:53:52882 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:53:52882 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.7269ms
[29-06-2024 17:53:52883 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:53:52883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.4831ms
[29-06-2024 17:53:52929 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:52947 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:52948 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:52948 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:52949 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 21.9976ms
[29-06-2024 17:53:52950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:53:52949 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.3283ms
[29-06-2024 17:53:52950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:53:52951 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:52953 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:53:52953 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:52953 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:52954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:53:52954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:53:52959 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:53:52960 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:53:52962 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:53:52962 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.3062ms
[29-06-2024 17:53:52962 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:53:52962 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:53:52963 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.8345ms
[29-06-2024 17:53:52963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.7175ms
[29-06-2024 17:53:52964 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:53:52965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 15.3452ms
[29-06-2024 17:54:06290 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:54:06291 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:06291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4956ms
[29-06-2024 17:54:06292 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:54:06293 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:06294 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:54:06294 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:54:06298 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:54:06301 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:54:06302 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9342ms
[29-06-2024 17:54:06302 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:54:06303 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.7297ms
[29-06-2024 17:54:06346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:54:06347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:54:06347 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:06348 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:06349 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.8606ms
[29-06-2024 17:54:06349 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.1139ms
[29-06-2024 17:54:06350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:54:06352 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:54:06358 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:06359 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:06359 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:54:06359 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:54:06359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:54:06360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:54:06367 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:54:06369 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:54:06388 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:54:06388 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 27.535ms
[29-06-2024 17:54:06388 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:54:06388 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:54:06389 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 27.8924ms
[29-06-2024 17:54:06389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 39.1609ms
[29-06-2024 17:54:06390 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:54:06392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 39.6363ms
[29-06-2024 17:54:27709 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:54:27710 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:27711 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2394ms
[29-06-2024 17:54:27711 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:54:27713 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:27713 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:54:27713 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:54:27717 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:54:27720 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:54:27720 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.4548ms
[29-06-2024 17:54:27721 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:54:27721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.23ms
[29-06-2024 17:54:27752 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:54:27753 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:27753 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:54:27755 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:54:27754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4902ms
[29-06-2024 17:54:27758 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:27758 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:27760 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 6.6264ms
[29-06-2024 17:54:27760 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:54:27760 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:54:27761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:54:27762 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:27763 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:54:27763 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:54:27766 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:54:27768 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:54:27769 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:54:27769 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.7119ms
[29-06-2024 17:54:27770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:54:27770 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:54:27770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.3703ms
[29-06-2024 17:54:27771 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 16.1415ms
[29-06-2024 17:54:27771 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:54:27772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.8276ms
[29-06-2024 17:54:45048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:54:45049 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:45049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3555ms
[29-06-2024 17:54:45050 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:54:45051 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:45052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:54:45052 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:54:45060 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:54:45062 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:54:45063 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.8633ms
[29-06-2024 17:54:45063 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:54:45064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.0441ms
[29-06-2024 17:54:45107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:54:45107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:54:45108 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:45109 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:45109 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.691ms
[29-06-2024 17:54:45109 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.6991ms
[29-06-2024 17:54:45111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:54:45111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:54:45117 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:45118 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:45118 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:54:45118 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:54:45119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:54:45119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:54:45125 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:54:45127 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:54:45128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:54:45128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:54:45128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.8256ms
[29-06-2024 17:54:45129 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.6461ms
[29-06-2024 17:54:45129 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:54:45130 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:54:45130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 19.735ms
[29-06-2024 17:54:45131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 19.7633ms
[29-06-2024 17:54:54234 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:54:54235 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:54235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.7799ms
[29-06-2024 17:54:54237 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:54:54238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:54240 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:54:54240 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:54:54250 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:54:54253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:54:54253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.3781ms
[29-06-2024 17:54:54254 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:54:54254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.5759ms
[29-06-2024 17:54:54313 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:54:54314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:54:54314 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:54315 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:54316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.772ms
[29-06-2024 17:54:54316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.7796ms
[29-06-2024 17:54:54316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:54:54316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:54:54319 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:54320 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:54:54320 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:54:54320 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:54:54321 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:54:54321 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:54:54326 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:54:54327 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:54:54329 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:54:54329 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.3652ms
[29-06-2024 17:54:54329 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:54:54329 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:54:54330 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.5892ms
[29-06-2024 17:54:54330 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.8266ms
[29-06-2024 17:54:54331 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:54:54332 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 15.6528ms
[29-06-2024 17:55:00988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:00989 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:00990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4584ms
[29-06-2024 17:55:00991 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:00992 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:00992 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:00993 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:55:00996 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:55:01000 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:55:01000 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.0065ms
[29-06-2024 17:55:01001 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:01001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.7283ms
[29-06-2024 17:55:01047 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:01048 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:01049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.5856ms
[29-06-2024 17:55:01049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:01049 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:01051 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:01052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:01052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.7173ms
[29-06-2024 17:55:01053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:01053 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:01054 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:01055 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:55:01055 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:01056 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:55:01059 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:55:01060 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:55:01062 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:55:01062 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.7977ms
[29-06-2024 17:55:01063 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:55:01063 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:01063 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.9885ms
[29-06-2024 17:55:01064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.4218ms
[29-06-2024 17:55:01064 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:01065 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.3522ms
[29-06-2024 17:55:02374 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:02375 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:02375 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:02376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:55:02380 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:55:02383 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:55:02384 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.1313ms
[29-06-2024 17:55:02384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:02384 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.8664ms
[29-06-2024 17:55:02437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:02438 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:02439 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:02440 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:02440 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:02440 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:02440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:55:02441 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:55:02446 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:55:02447 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:55:02449 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:55:02450 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.3049ms
[29-06-2024 17:55:02450 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:55:02451 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:02452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 9.6946ms
[29-06-2024 17:55:02452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.8498ms
[29-06-2024 17:55:02452 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:02454 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.9618ms
[29-06-2024 17:55:10200 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:10201 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:10201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5395ms
[29-06-2024 17:55:10202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:10203 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:10204 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:10204 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:55:10208 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:55:10212 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:55:10212 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.7007ms
[29-06-2024 17:55:10213 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:10214 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.5188ms
[29-06-2024 17:55:10248 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:10249 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:10249 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2821ms
[29-06-2024 17:55:10250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:10250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:10251 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:10252 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:10253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.6262ms
[29-06-2024 17:55:10253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:10253 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:10255 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:10255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:55:10256 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:10257 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:55:10261 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:55:10262 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:55:10264 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:55:10265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.3412ms
[29-06-2024 17:55:10265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:55:10265 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:10265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.004ms
[29-06-2024 17:55:10266 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 15.5511ms
[29-06-2024 17:55:10266 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:10268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 14.1865ms
[29-06-2024 17:55:17849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:17850 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:17850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5867ms
[29-06-2024 17:55:17851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:17852 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:17852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:17853 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:55:17857 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:55:17860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:55:17860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.6486ms
[29-06-2024 17:55:17861 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:17861 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.1595ms
[29-06-2024 17:55:17901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:17902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:17903 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:17903 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:17904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.5505ms
[29-06-2024 17:55:17904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.7677ms
[29-06-2024 17:55:17905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:17905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:17910 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:17911 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:17911 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:17912 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:17912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:55:17912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:55:17916 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:55:17917 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:55:17919 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:55:17919 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.8815ms
[29-06-2024 17:55:17919 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:55:17920 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:17920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.1085ms
[29-06-2024 17:55:17921 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.3748ms
[29-06-2024 17:55:17921 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:17922 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 17.4268ms
[29-06-2024 17:55:19681 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:19682 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:19683 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:19683 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:55:19689 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:55:19692 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:55:19693 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.0531ms
[29-06-2024 17:55:19693 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:19694 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.2517ms
[29-06-2024 17:55:19744 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:19745 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:19746 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:19746 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:19747 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:19747 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:19747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:55:19748 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:55:19751 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:55:19754 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:55:19755 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:55:19756 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.4154ms
[29-06-2024 17:55:19756 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:55:19756 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:19757 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.6882ms
[29-06-2024 17:55:19757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.8853ms
[29-06-2024 17:55:19757 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:19759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.655ms
[29-06-2024 17:55:34646 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:34647 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:34647 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6118ms
[29-06-2024 17:55:34648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:34649 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:34650 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:34650 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:55:34655 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:55:34658 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:55:34659 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.2244ms
[29-06-2024 17:55:34660 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:34661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.4505ms
[29-06-2024 17:55:34697 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:34699 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:34699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.637ms
[29-06-2024 17:55:34701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:34702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:34702 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:34703 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:34704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.5281ms
[29-06-2024 17:55:34705 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:34704 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:34706 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:34707 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:55:34707 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:34708 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:55:34712 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:55:34714 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:55:34716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:55:34716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.8471ms
[29-06-2024 17:55:34716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:55:34717 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:34717 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.7598ms
[29-06-2024 17:55:34718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 15.9463ms
[29-06-2024 17:55:34718 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:34720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.0987ms
[29-06-2024 17:55:56835 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:56839 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:56840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.0429ms
[29-06-2024 17:55:56844 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:56846 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:56847 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:56847 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:55:56857 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:55:56860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:55:56860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.6156ms
[29-06-2024 17:55:56861 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:56862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.6303ms
[29-06-2024 17:55:56912 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:56912 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:56916 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:56916 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:56917 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 5.3242ms
[29-06-2024 17:55:56917 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.1091ms
[29-06-2024 17:55:56918 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:56918 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:56920 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:56921 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:56922 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:56922 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:56922 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:55:56922 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:55:56929 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:55:56929 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:55:56931 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:55:56931 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 8.2857ms
[29-06-2024 17:55:56931 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:55:56932 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:56932 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.6461ms
[29-06-2024 17:55:56933 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.5613ms
[29-06-2024 17:55:56933 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:56934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 16.2275ms
[29-06-2024 17:55:58248 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:55:58249 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:58249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:58250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:55:58254 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:55:58257 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:55:58257 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.8243ms
[29-06-2024 17:55:58258 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:55:58259 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.4763ms
[29-06-2024 17:55:58305 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:55:58305 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:55:58306 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:58307 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:55:58307 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:58307 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:58307 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:55:58308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:55:58312 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:55:58313 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:55:58319 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:55:58320 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:55:58320 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 11.6391ms
[29-06-2024 17:55:58320 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 11.4766ms
[29-06-2024 17:55:58321 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:55:58321 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:55:58322 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 17.1384ms
[29-06-2024 17:55:58322 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 16.8023ms
[29-06-2024 17:56:06832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:06834 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:06835 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 2.3423ms
[29-06-2024 17:56:06837 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:06838 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:06839 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:06839 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:56:06844 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:56:06847 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:56:06848 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.33ms
[29-06-2024 17:56:06849 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:06849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.7278ms
[29-06-2024 17:56:06894 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:06895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:06896 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:06898 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:06898 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 3.9364ms
[29-06-2024 17:56:06898 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.7178ms
[29-06-2024 17:56:06900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:06900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:06902 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:06903 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:06903 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:06903 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:06904 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:56:06904 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:56:06910 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:56:06910 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:56:06914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:56:06914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:56:06914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.8034ms
[29-06-2024 17:56:06914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 9.7528ms
[29-06-2024 17:56:06915 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:06915 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:06916 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.8168ms
[29-06-2024 17:56:06916 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 16.2394ms
[29-06-2024 17:56:13749 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:13750 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:13750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6349ms
[29-06-2024 17:56:13751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:13753 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:13753 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:13754 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:56:13758 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:56:13761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:56:13762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9785ms
[29-06-2024 17:56:13762 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:13763 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.4438ms
[29-06-2024 17:56:13805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:13805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:13806 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:13807 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:13807 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.4235ms
[29-06-2024 17:56:13808 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4022ms
[29-06-2024 17:56:13809 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:13809 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:13811 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:13812 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:13812 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:13812 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:13813 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:56:13813 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:56:13817 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:56:13817 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:56:13820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:56:13820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:56:13820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.8431ms
[29-06-2024 17:56:13821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.6895ms
[29-06-2024 17:56:13821 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:13822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:13822 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.1163ms
[29-06-2024 17:56:13822 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.4168ms
[29-06-2024 17:56:28550 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:28551 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:28551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5199ms
[29-06-2024 17:56:28553 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:28554 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:28554 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:28555 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:56:28560 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:56:28563 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:56:28564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.0178ms
[29-06-2024 17:56:28566 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:28566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.6261ms
[29-06-2024 17:56:28626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:28628 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:28628 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.6569ms
[29-06-2024 17:56:28629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:28629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:28630 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:28631 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:28631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4215ms
[29-06-2024 17:56:28632 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:28633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:28633 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:56:28634 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:28635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:28636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:56:28638 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:56:28640 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:56:28641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:56:28642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.3665ms
[29-06-2024 17:56:28642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:56:28643 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:28643 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.0536ms
[29-06-2024 17:56:28644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.4258ms
[29-06-2024 17:56:28644 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:28646 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 13.0867ms
[29-06-2024 17:56:34727 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:34728 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:34728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3867ms
[29-06-2024 17:56:34729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:34730 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:34731 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:34731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:56:34735 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:56:34739 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:56:34739 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.4024ms
[29-06-2024 17:56:34740 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:34740 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.0842ms
[29-06-2024 17:56:34781 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:34781 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:34782 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:34783 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:34783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.5515ms
[29-06-2024 17:56:34784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4583ms
[29-06-2024 17:56:34785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:34785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:34787 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:34788 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:34788 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:34788 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:34789 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:56:34789 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:56:34793 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:56:34794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:56:34797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:56:34797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.481ms
[29-06-2024 17:56:34797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:56:34798 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:34798 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.7916ms
[29-06-2024 17:56:34798 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.3992ms
[29-06-2024 17:56:34799 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:34800 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.3812ms
[29-06-2024 17:56:39807 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:39808 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:39809 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.9072ms
[29-06-2024 17:56:39810 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:39811 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:39812 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:39812 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:56:39817 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:56:39820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:56:39821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.3328ms
[29-06-2024 17:56:39821 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:39822 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.0706ms
[29-06-2024 17:56:39868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:39869 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:39870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:39871 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:39870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.8285ms
[29-06-2024 17:56:39871 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:39872 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:39873 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.7916ms
[29-06-2024 17:56:39874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:39874 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:39876 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:39876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:56:39876 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:39877 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:56:39879 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:56:39881 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:56:39883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:56:39883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.4603ms
[29-06-2024 17:56:39883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:56:39884 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:39884 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.5489ms
[29-06-2024 17:56:39884 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 13.741ms
[29-06-2024 17:56:39885 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:39886 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.044ms
[29-06-2024 17:56:44421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:44422 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:44423 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:44423 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:56:44427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:56:44430 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:56:44431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.0675ms
[29-06-2024 17:56:44431 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:44432 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.4517ms
[29-06-2024 17:56:44485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:56:44486 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:44486 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:44486 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:56:44488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:56:44489 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:44490 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:44490 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:56:44491 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:56:44494 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:56:44495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.8662ms
[29-06-2024 17:56:44495 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:56:44496 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:56:44497 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 12.001ms
[29-06-2024 17:56:44498 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:56:44499 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.0366ms
[29-06-2024 17:56:44499 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:56:44500 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.8274ms
[29-06-2024 17:56:54056 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/77""" - null null
[29-06-2024 17:56:54057 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:54058 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/77""" - 204 null null 1.3966ms
[29-06-2024 17:56:54058 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket/items/77""" - null null
[29-06-2024 17:56:54059 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:54060 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.RemoveFromBasket (Project-Keystone)"'
[29-06-2024 17:56:54063 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] RemoveFromBasket(Int32)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:56:54071 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:56:54074 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:56:54076 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;"
[29-06-2024 17:56:54077 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:56:54079 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:56:54080 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.RemoveFromBasket (Project-Keystone)" in 16.3418ms
[29-06-2024 17:56:54080 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.RemoveFromBasket (Project-Keystone)"'
[29-06-2024 17:56:54080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket/items/77""" - 200 null "application/json; charset=utf-8" 22.3684ms
[29-06-2024 17:56:57966 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:57967 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:57967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6833ms
[29-06-2024 17:56:57968 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:56:57970 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:57970 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:57970 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:56:57978 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:56:57980 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:56:57981 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.0976ms
[29-06-2024 17:56:57981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:56:57982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.6465ms
[29-06-2024 17:56:57992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:56:57993 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:56:57993 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:56:57994 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:56:58007 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:56:58015 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:56:58016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 21.8918ms
[29-06-2024 17:56:58017 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:56:58018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 25.9342ms
[29-06-2024 17:57:00516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:57:00517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:57:00517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:57:00517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4532ms
[29-06-2024 17:57:00518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:57:00518 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:57:00520 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:57:00520 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.3413ms
[29-06-2024 17:57:00521 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:57:00521 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:57:00522 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:57:00523 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:57:00524 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:57:00524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:57:00527 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:57:00530 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:57:00530 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:57:00531 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 7.2148ms
[29-06-2024 17:57:00531 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:57:00531 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:57:00532 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.9894ms
[29-06-2024 17:57:00532 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 14.1695ms
[29-06-2024 17:57:00533 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:57:00534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.6394ms
[29-06-2024 17:57:17755 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:57:17756 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:57:17756 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4763ms
[29-06-2024 17:57:17758 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:57:17759 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:57:17759 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:57:17759 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:57:17764 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:57:17768 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:57:17769 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.5443ms
[29-06-2024 17:57:17769 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:57:17770 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.0959ms
[29-06-2024 17:57:17785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:57:17786 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:57:17787 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:57:17787 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:57:17792 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:57:17799 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:57:17800 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 12.4237ms
[29-06-2024 17:57:17800 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:57:17801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 15.8737ms
[29-06-2024 17:59:13588 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 17:59:13594 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:13594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 6.2718ms
[29-06-2024 17:59:13595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 17:59:13596 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:13596 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 17:59:13598 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 17:59:13604 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:13617 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 17:59:13645 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:59:13645 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 46.3955ms
[29-06-2024 17:59:13646 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 17:59:13646 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 404 null "application/json; charset=utf-8" 51.5679ms
[29-06-2024 17:59:15459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:15460 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:15460 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3883ms
[29-06-2024 17:59:15461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:15462 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:15463 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:15463 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:15470 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:15472 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:15473 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.1876ms
[29-06-2024 17:59:15474 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:15474 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.7148ms
[29-06-2024 17:59:15506 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:59:15507 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:15507 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4917ms
[29-06-2024 17:59:15509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:59:15508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:15514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:15518 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:15519 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:15519 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 11.8732ms
[29-06-2024 17:59:15520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:59:15521 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:15523 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:15524 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:15524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:59:15528 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:59:15531 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:15532 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:59:15533 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 10.505ms
[29-06-2024 17:59:15533 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:59:15533 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:15533 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.4279ms
[29-06-2024 17:59:15534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 25.1933ms
[29-06-2024 17:59:15534 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:15536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 15.2392ms
[29-06-2024 17:59:17325 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:17329 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:17330 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:17331 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:17336 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:17339 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:17340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.8053ms
[29-06-2024 17:59:17340 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:17341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 15.869ms
[29-06-2024 17:59:17401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 17:59:17403 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:17403 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 17:59:17404 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 17:59:17410 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:17412 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 17:59:17436 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 17:59:17437 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 32.2471ms
[29-06-2024 17:59:17437 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 17:59:17438 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 404 null "application/json; charset=utf-8" 36.3266ms
[29-06-2024 17:59:18163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:18164 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:18164 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:18164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:18168 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:18172 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:18173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.9358ms
[29-06-2024 17:59:18173 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:18174 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.2343ms
[29-06-2024 17:59:18212 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:59:18213 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:18214 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:18214 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:18215 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:18215 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:18215 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:59:18216 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:59:18219 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:59:18221 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:18222 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:59:18223 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.415ms
[29-06-2024 17:59:18223 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:59:18223 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:18224 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.828ms
[29-06-2024 17:59:18224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 11.9942ms
[29-06-2024 17:59:18224 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:18226 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.8175ms
[29-06-2024 17:59:19538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:19539 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:19539 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:19539 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:19543 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:19547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:19548 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.6813ms
[29-06-2024 17:59:19548 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:19549 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.3125ms
[29-06-2024 17:59:19580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:19581 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:19581 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:19582 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:59:19587 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:19589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:59:19590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.1453ms
[29-06-2024 17:59:19590 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:19590 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:19591 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 10.9679ms
[29-06-2024 17:59:19591 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:19593 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:19593 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:59:19598 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:19600 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:59:19601 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 6.9686ms
[29-06-2024 17:59:19601 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:19602 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 11.4796ms
[29-06-2024 17:59:19614 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:59:19615 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:19615 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 204 null null 1.3609ms
[29-06-2024 17:59:19616 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:59:19617 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:19617 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:59:19618 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:59:19622 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:59:19627 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 17:59:19630 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:59:19631 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 12.6754ms
[29-06-2024 17:59:19631 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:59:19632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 16.0926ms
[29-06-2024 17:59:21106 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:21107 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:21107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.5942ms
[29-06-2024 17:59:21108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:21109 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:21109 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:21110 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:21114 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:21117 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:21117 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9962ms
[29-06-2024 17:59:21118 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:21118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.1891ms
[29-06-2024 17:59:21157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:59:21158 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:21158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4711ms
[29-06-2024 17:59:21159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:59:21160 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:21161 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:21161 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:59:21165 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:59:21167 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:59:21168 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 6.1594ms
[29-06-2024 17:59:21168 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:21168 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:21169 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:21170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 10.4439ms
[29-06-2024 17:59:21171 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:21170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.7624ms
[29-06-2024 17:59:21172 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:21174 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:21174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:59:21179 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:21182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:59:21182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.5367ms
[29-06-2024 17:59:21183 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:21184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.983ms
[29-06-2024 17:59:22399 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:22400 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:22401 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:22401 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:22405 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:22407 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:22408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.5768ms
[29-06-2024 17:59:22409 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:22409 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.7595ms
[29-06-2024 17:59:22437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:22438 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:22439 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:22439 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:59:22445 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:22448 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:59:22448 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 8.5092ms
[29-06-2024 17:59:22449 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:22449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:22450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.3619ms
[29-06-2024 17:59:22450 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:22452 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:22452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:59:22457 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:22460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:59:22460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 7.9242ms
[29-06-2024 17:59:22461 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:22461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 12.3928ms
[29-06-2024 17:59:22472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - null null
[29-06-2024 17:59:22473 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:22474 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:59:22474 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetOrdersByUserEmail\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]]] GetOrdersByUserEmail(System.String)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:59:22478 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:59:22480 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [o].[ORDER_ID], [o].[CITY], [o].[COUNTRY], [o].[ORDER_DATE], [o].[STREET_ADDRESS], [o].[TOTAL_AMOUNT], [o].[USER_ID], [o].[ZIP_CODE], [t].[ORDER_DETAIL_ID], [t].[ORDER_ID], [t].[PRICE], [t].[PRODUCT_ID], [t].[QUANTITY], [t].[TOTAL], [t].[PRODUCT_ID0], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE0], [t].[UPDATED_AT]
FROM [ORDERS] AS [o]
LEFT JOIN (
    SELECT [o0].[ORDER_DETAIL_ID], [o0].[ORDER_ID], [o0].[PRICE], [o0].[PRODUCT_ID], [o0].[QUANTITY], [o0].[TOTAL], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE] AS [PRICE0], [p].[UPDATED_AT]
    FROM [ORDER_DETAILS] AS [o0]
    INNER JOIN [PRODUCTS] AS [p] ON [o0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t] ON [o].[ORDER_ID] = [t].[ORDER_ID]
WHERE [o].[USER_ID] = @__userId_0
ORDER BY [o].[ORDER_ID], [t].[ORDER_DETAIL_ID]"
[29-06-2024 17:59:22484 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:59:22484 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)" in 8.8758ms
[29-06-2024 17:59:22484 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.GetOrdersByUserEmail (Project-Keystone)"'
[29-06-2024 17:59:22485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/orders/user/user@example.com""" - 200 null "application/json; charset=utf-8" 12.8163ms
[29-06-2024 17:59:31318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/76""" - null null
[29-06-2024 17:59:31319 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:31319 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/76""" - 204 null null 1.3028ms
[29-06-2024 17:59:31320 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket/items/76""" - null null
[29-06-2024 17:59:31321 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:31322 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.RemoveFromBasket (Project-Keystone)"'
[29-06-2024 17:59:31322 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] RemoveFromBasket(Int32)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:31326 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:31328 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:59:31330 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;"
[29-06-2024 17:59:31331 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:31334 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:31334 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.RemoveFromBasket (Project-Keystone)" in 11.5229ms
[29-06-2024 17:59:31335 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.RemoveFromBasket (Project-Keystone)"'
[29-06-2024 17:59:31335 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket/items/76""" - 200 null "application/json; charset=utf-8" 14.9136ms
[29-06-2024 17:59:33156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:33157 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:33157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6877ms
[29-06-2024 17:59:33158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:33159 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:33159 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:33160 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:33164 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:33167 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:33168 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.218ms
[29-06-2024 17:59:33168 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 17:59:33169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.6022ms
[29-06-2024 17:59:33180 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:59:33181 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:33181 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:59:33182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:59:33194 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:59:33201 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:59:33202 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 20.1149ms
[29-06-2024 17:59:33203 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:59:33204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 23.9016ms
[29-06-2024 17:59:34482 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 17:59:34483 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:34483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.3843ms
[29-06-2024 17:59:34484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:59:34485 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:34485 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:59:34485 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:34489 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:34491 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:59:34493 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:59:34494 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:59:34496 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:59:34498 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:34500 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:34500 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 14.5085ms
[29-06-2024 17:59:34501 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:59:34501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 17.6145ms
[29-06-2024 17:59:39770 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:39771 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:39772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.4514ms
[29-06-2024 17:59:39772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:39773 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:39774 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:39774 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:59:39777 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:39779 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:59:39780 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.4606ms
[29-06-2024 17:59:39780 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:39781 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.65ms
[29-06-2024 17:59:39783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:59:39784 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:39784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2774ms
[29-06-2024 17:59:39785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:59:39786 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:39786 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:39787 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:59:39790 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:59:39792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:59:39792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 4.9758ms
[29-06-2024 17:59:39793 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:39793 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 8.1201ms
[29-06-2024 17:59:39795 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - null null
[29-06-2024 17:59:39796 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:39796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - 204 null null 1.1751ms
[29-06-2024 17:59:39797 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - "application/json" 119
[29-06-2024 17:59:39798 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:39799 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 17:59:39799 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateOrder\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] CreateOrder(Project_Keystone.Api.Models.DTOs.OrderDTOs.CreateOrderDTO)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:59:39803 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:59:39804 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:39806 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:59:39809 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (Size = 450), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
INSERT INTO [ORDERS] ([CITY], [COUNTRY], [ORDER_DATE], [STREET_ADDRESS], [TOTAL_AMOUNT], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ORDER_ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[29-06-2024 17:59:39811 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p8='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ORDER_DETAILS] ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL])
OUTPUT INSERTED.[ORDER_DETAIL_ID]
VALUES (@p8, @p9, @p10, @p11, @p12);"
[29-06-2024 17:59:39814 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO"'.
[29-06-2024 17:59:39814 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)" in 14.8646ms
[29-06-2024 17:59:39815 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 17:59:39815 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - 201 null "application/json; charset=utf-8" 18.1113ms
[29-06-2024 17:59:39818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:39819 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:39819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2661ms
[29-06-2024 17:59:39820 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:39821 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:39821 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:59:39822 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:39825 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:39827 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:59:39828 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:39831 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:39831 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 8.7276ms
[29-06-2024 17:59:39831 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:59:39832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.0431ms
[29-06-2024 17:59:42854 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:59:42855 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:42855 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:59:42855 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:59:42860 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:59:42865 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:59:42866 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.2188ms
[29-06-2024 17:59:42867 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:59:42867 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.4658ms
[29-06-2024 17:59:49478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 17:59:49479 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:49480 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.1673ms
[29-06-2024 17:59:49480 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:59:49481 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:49482 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:59:49482 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:49485 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:49487 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:59:49488 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:59:49489 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:59:49491 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:59:49492 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:49494 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:49495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.2789ms
[29-06-2024 17:59:49495 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:59:49496 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.3723ms
[29-06-2024 17:59:49783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 17:59:49784 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:49784 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:59:49785 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:49788 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:49790 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 17:59:49792 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 17:59:49793 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:59:49794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 17:59:49796 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:49798 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:49798 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 13.1352ms
[29-06-2024 17:59:49799 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 17:59:49799 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 16.1076ms
[29-06-2024 17:59:56866 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:56867 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:56867 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.1707ms
[29-06-2024 17:59:56868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 17:59:56869 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:56870 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:56870 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 17:59:56873 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 17:59:56875 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 17:59:56876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 5.1418ms
[29-06-2024 17:59:56876 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 17:59:56877 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 8.5731ms
[29-06-2024 17:59:56878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:59:56879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:56879 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.0943ms
[29-06-2024 17:59:56879 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 17:59:56881 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:56881 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:56881 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 17:59:56885 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 17:59:56887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO"'.
[29-06-2024 17:59:56888 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 5.5414ms
[29-06-2024 17:59:56888 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 17:59:56888 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 200 null "application/json; charset=utf-8" 8.8667ms
[29-06-2024 17:59:56890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - null null
[29-06-2024 17:59:56891 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:56891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/orders""" - 204 null null 1.1585ms
[29-06-2024 17:59:56892 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - "application/json" 119
[29-06-2024 17:59:56893 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:56893 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 17:59:56894 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"CreateOrder\", controller = \"Orders\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO]] CreateOrder(Project_Keystone.Api.Models.DTOs.OrderDTOs.CreateOrderDTO)" on controller "Project_Keystone.Api.Controllers.OrdersController" ("Project-Keystone").
[29-06-2024 17:59:56897 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 17:59:56899 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:56900 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:59:56903 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 450), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;
INSERT INTO [ORDERS] ([CITY], [COUNTRY], [ORDER_DATE], [STREET_ADDRESS], [TOTAL_AMOUNT], [USER_ID], [ZIP_CODE])
OUTPUT INSERTED.[ORDER_ID]
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[29-06-2024 17:59:56908 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@p9='?' (DbType = Int32), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [ORDER_DETAILS] USING (
VALUES (@p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, 1)) AS i ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ORDER_ID], [PRICE], [PRODUCT_ID], [QUANTITY], [TOTAL])
VALUES (i.[ORDER_ID], i.[PRICE], i.[PRODUCT_ID], i.[QUANTITY], i.[TOTAL])
OUTPUT INSERTED.[ORDER_DETAIL_ID], i._Position;"
[29-06-2024 17:59:56911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"Project_Keystone.Api.Models.DTOs.OrderDTOs.OrderDTO"'.
[29-06-2024 17:59:56911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)" in 17.2517ms
[29-06-2024 17:59:56912 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.OrdersController.CreateOrder (Project-Keystone)"'
[29-06-2024 17:59:56912 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/orders""" - 201 null "application/json; charset=utf-8" 20.4796ms
[29-06-2024 17:59:56913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:56914 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:56914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2852ms
[29-06-2024 17:59:56915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 17:59:56916 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:56917 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:59:56917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 17:59:56920 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:56922 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 17:59:56923 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 17:59:56925 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 17:59:56926 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 8.3347ms
[29-06-2024 17:59:56926 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 17:59:56927 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.6585ms
[29-06-2024 17:59:59933 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 17:59:59934 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 17:59:59934 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:59:59935 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 17:59:59940 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 17:59:59945 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 17:59:59946 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.5667ms
[29-06-2024 17:59:59947 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 17:59:59947 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.2957ms
[29-06-2024 18:00:00368 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/category/2""?page=1&pageSize=20" - null null
[29-06-2024 18:00:00369 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 18:00:00369 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)"'
[29-06-2024 18:00:00371 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductsByCategoryId\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductsByCategoryId(Int32, Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 18:00:00385 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 18:00:00395 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t].[ProductId], [t].[CategoryId], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p0].[PRODUCT_ID], [p0].[CREATED_AT], [p0].[DESCRIPTION], [p0].[IMAGE_URL], [p0].[NAME], [p0].[PRICE], [p0].[UPDATED_AT], [p].[ProductId], [p].[CategoryId]
    FROM [PRODUCT_CATEGORIES] AS [p]
    INNER JOIN [PRODUCTS] AS [p0] ON [p].[ProductId] = [p0].[PRODUCT_ID]
    WHERE [p].[CategoryId] = @__categoryId_0
    ORDER BY [p0].[NAME]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p1]
    INNER JOIN [CATEGORIES] AS [c] ON [p1].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p2].[ProductId], [p2].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p2]
    INNER JOIN [GENRES] AS [g] ON [p2].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[ProductId], [t].[CategoryId], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 18:00:00399 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 18:00:00400 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)" in 27.8692ms
[29-06-2024 18:00:00400 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)"'
[29-06-2024 18:00:00401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/category/2""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 33.003ms
[29-06-2024 18:00:00765 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/category/1""?page=1&pageSize=20" - null null
[29-06-2024 18:00:00766 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 18:00:00766 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)"'
[29-06-2024 18:00:00766 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductsByCategoryId\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductsByCategoryId(Int32, Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 18:00:00770 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t].[ProductId], [t].[CategoryId], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p0].[PRODUCT_ID], [p0].[CREATED_AT], [p0].[DESCRIPTION], [p0].[IMAGE_URL], [p0].[NAME], [p0].[PRICE], [p0].[UPDATED_AT], [p].[ProductId], [p].[CategoryId]
    FROM [PRODUCT_CATEGORIES] AS [p]
    INNER JOIN [PRODUCTS] AS [p0] ON [p].[ProductId] = [p0].[PRODUCT_ID]
    WHERE [p].[CategoryId] = @__categoryId_0
    ORDER BY [p0].[NAME]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p1]
    INNER JOIN [CATEGORIES] AS [c] ON [p1].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p2].[ProductId], [p2].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p2]
    INNER JOIN [GENRES] AS [g] ON [p2].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[ProductId], [t].[CategoryId], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 18:00:00775 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 18:00:00776 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)" in 9.1893ms
[29-06-2024 18:00:00776 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)"'
[29-06-2024 18:00:00777 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/category/1""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 12.2737ms
[29-06-2024 18:00:02072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/category/2""?page=1&pageSize=20" - null null
[29-06-2024 18:00:02073 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 18:00:02074 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)"'
[29-06-2024 18:00:02074 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductsByCategoryId\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductsByCategoryId(Int32, Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 18:00:02078 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t].[ProductId], [t].[CategoryId], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p0].[PRODUCT_ID], [p0].[CREATED_AT], [p0].[DESCRIPTION], [p0].[IMAGE_URL], [p0].[NAME], [p0].[PRICE], [p0].[UPDATED_AT], [p].[ProductId], [p].[CategoryId]
    FROM [PRODUCT_CATEGORIES] AS [p]
    INNER JOIN [PRODUCTS] AS [p0] ON [p].[ProductId] = [p0].[PRODUCT_ID]
    WHERE [p].[CategoryId] = @__categoryId_0
    ORDER BY [p0].[NAME]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p1]
    INNER JOIN [CATEGORIES] AS [c] ON [p1].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p2].[ProductId], [p2].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p2]
    INNER JOIN [GENRES] AS [g] ON [p2].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[ProductId], [t].[CategoryId], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 18:00:02083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 18:00:02083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)" in 8.8331ms
[29-06-2024 18:00:02084 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductsByCategoryId (Project-Keystone)"'
[29-06-2024 18:00:02084 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/category/2""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 12.1058ms
[29-06-2024 18:00:02568 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 18:00:02569 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 18:00:02569 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1672ms
[29-06-2024 18:00:02569 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 18:00:02571 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 18:00:02571 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 18:00:02571 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 18:00:02574 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 18:00:02577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 18:00:02578 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.1203ms
[29-06-2024 18:00:02578 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 18:00:02579 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.3996ms
[29-06-2024 18:00:02582 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 18:00:02583 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 18:00:02583 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 18:00:02583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 18:00:02588 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 18:00:02593 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 18:00:02594 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.2772ms
[29-06-2024 18:00:02595 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 18:00:02595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.8646ms
