[29-06-2024 00:05:07038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:07042 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07042 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.4684ms
[29-06-2024 00:05:07044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:07049 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07050 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 8:54:12 PM', Current time (UTC): '6/28/2024 9:05:07 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:05:07050 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:05:07051 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 8:54:12 PM', Current time (UTC): '6/28/2024 9:05:07 PM'."
[29-06-2024 00:05:07052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07052 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 00:05:07052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:05:07053 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 00:05:07053 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:05:07053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 9.7271ms
[29-06-2024 00:05:07072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 00:05:07072 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:05:07073 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 2.7464ms
[29-06-2024 00:05:07076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 741
[29-06-2024 00:05:07082 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07083 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 8:54:12 PM', Current time (UTC): '6/28/2024 9:05:07 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:05:07086 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 8:54:12 PM', Current time (UTC): '6/28/2024 9:05:07 PM'."
[29-06-2024 00:05:07086 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 00:05:07087 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:05:07088 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:05:07089 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 35.0649ms
[29-06-2024 00:05:07090 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:05:07093 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 42.2693ms
[29-06-2024 00:05:07093 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:05:07097 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 00:05:07101 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 00:05:07103 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:05:07108 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 00:05:07109 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 00:05:07109 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 22.304ms
[29-06-2024 00:05:07110 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 00:05:07111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 34.2323ms
[29-06-2024 00:05:07130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:07131 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:07132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:05:07132 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:05:07140 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:05:07143 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:05:07144 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.1983ms
[29-06-2024 00:05:07144 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:05:07145 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.7762ms
[29-06-2024 00:05:08482 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:05:08483 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:08484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3508ms
[29-06-2024 00:05:08485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:05:08484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:05:08486 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:08487 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:08487 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:05:08487 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.9122ms
[29-06-2024 00:05:08488 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:05:08489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:05:08490 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:08491 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:05:08491 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:05:08493 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:05:08521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:05:08522 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 32.3395ms
[29-06-2024 00:05:08522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:05:08523 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:05:08523 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 38.7649ms
[29-06-2024 00:05:08525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:05:08525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 33.3889ms
[29-06-2024 00:05:08526 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:05:08526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 37.6985ms
[29-06-2024 00:05:35854 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:35858 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.4467ms
[29-06-2024 00:05:35859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:05:35860 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35860 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:05:35861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:05:35864 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:05:35866 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:05:35867 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.5068ms
[29-06-2024 00:05:35867 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:05:35868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.9073ms
[29-06-2024 00:05:35900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:05:35901 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.5279ms
[29-06-2024 00:05:35902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:05:35903 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:05:35909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35909 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 7.4158ms
[29-06-2024 00:05:35910 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:05:35910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:05:35911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:05:35912 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:05:35913 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:05:35913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:05:35915 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:05:35995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:05:35995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:05:35996 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 83.9054ms
[29-06-2024 00:05:36000 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:05:36000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 97.0418ms
[29-06-2024 00:05:36001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:05:36002 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 88.0666ms
[29-06-2024 00:05:36002 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:05:36003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 92.5716ms
[29-06-2024 00:10:20318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:20323 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:20323 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.9194ms
[29-06-2024 00:10:20327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:20329 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:20330 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:20330 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:20339 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:20343 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:20344 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.4963ms
[29-06-2024 00:10:20345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:20345 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.2305ms
[29-06-2024 00:10:31044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:31045 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:31045 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4602ms
[29-06-2024 00:10:31046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:31047 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:31047 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:31047 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:31055 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:31057 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:31058 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.8037ms
[29-06-2024 00:10:31058 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:31059 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.0277ms
[29-06-2024 00:10:34441 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:10:34441 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:34442 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:34442 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:34446 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:34449 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:34450 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.0378ms
[29-06-2024 00:10:34450 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:10:34451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.388ms
[29-06-2024 00:10:52179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - null null
[29-06-2024 00:10:52180 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:52181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - 204 null null 1.2363ms
[29-06-2024 00:10:52181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 34
[29-06-2024 00:10:52182 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:52183 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:10:52183 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:52186 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:52188 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 00:10:52190 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:10:52191 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:52193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:52193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 9.973ms
[29-06-2024 00:10:52194 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:10:52194 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 13.049ms
[29-06-2024 00:10:54767 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 34
[29-06-2024 00:10:54768 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:10:54768 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:10:54769 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:10:54772 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:54773 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 00:10:54774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:10:54775 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:10:54777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:10:54778 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 8.4928ms
[29-06-2024 00:10:54778 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:10:54779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 11.587ms
[29-06-2024 00:11:06791 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:06792 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:06792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2351ms
[29-06-2024 00:11:06793 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:06794 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:06795 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:06795 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:11:06799 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:11:06803 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:11:06804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.2102ms
[29-06-2024 00:11:06805 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:06805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.8485ms
[29-06-2024 00:11:29990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:29994 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:29994 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.0677ms
[29-06-2024 00:11:29995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:29996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:29996 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:29996 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:11:30000 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:11:30003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:11:30003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.0552ms
[29-06-2024 00:11:30004 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:30004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.4996ms
[29-06-2024 00:11:39275 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:39276 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:39276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4436ms
[29-06-2024 00:11:39277 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:11:39278 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:11:39279 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:39279 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:11:39289 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:11:39293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:11:39293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.5027ms
[29-06-2024 00:11:39294 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:11:39294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.2825ms
[29-06-2024 00:12:38071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:12:38076 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:12:38076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.8998ms
[29-06-2024 00:12:38080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:12:38082 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:12:38083 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:12:38083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:12:38093 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:12:38097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:12:38097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.498ms
[29-06-2024 00:12:38098 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:12:38099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.645ms
[29-06-2024 00:12:45158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:12:45158 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:12:45159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1805ms
[29-06-2024 00:12:45159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:12:45161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:12:45161 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:12:45161 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:12:45170 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:12:45173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:12:45173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.2191ms
[29-06-2024 00:12:45174 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:12:45174 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.7785ms
[29-06-2024 00:13:05434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:05438 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:05439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.33ms
[29-06-2024 00:13:05442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:05444 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:05444 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:05445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:05449 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:05453 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:05453 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.7906ms
[29-06-2024 00:13:05454 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:05454 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.334ms
[29-06-2024 00:13:20119 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:20119 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:20120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1688ms
[29-06-2024 00:13:20120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:20122 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:20122 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:20122 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:20126 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:20131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:20131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.6098ms
[29-06-2024 00:13:20132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:20132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.1128ms
[29-06-2024 00:13:29123 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:29124 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:29124 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1784ms
[29-06-2024 00:13:29125 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:29126 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:29126 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:29126 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:29129 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:29132 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:29132 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.6067ms
[29-06-2024 00:13:29133 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:29133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.9149ms
[29-06-2024 00:13:37298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:37299 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:37299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1139ms
[29-06-2024 00:13:37300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:37301 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:37302 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:37302 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:37305 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:37308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:37308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.4873ms
[29-06-2024 00:13:37308 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:37309 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.8134ms
[29-06-2024 00:13:44324 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:44324 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:44325 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3387ms
[29-06-2024 00:13:44326 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:44327 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:44327 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:44328 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:44337 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:44340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:44340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.1849ms
[29-06-2024 00:13:44341 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:44341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 15.4384ms
[29-06-2024 00:13:59039 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:59040 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:59040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.225ms
[29-06-2024 00:13:59041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:13:59042 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:13:59042 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:59043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:13:59049 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:13:59051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:13:59052 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.722ms
[29-06-2024 00:13:59052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:13:59053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.9594ms
[29-06-2024 00:14:03567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:14:03568 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:14:03568 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:14:03568 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:14:03572 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:14:03574 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:14:03575 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.6608ms
[29-06-2024 00:14:03575 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:14:03575 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.6333ms
[29-06-2024 00:14:41318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:14:41321 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:14:41321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.6007ms
[29-06-2024 00:14:41323 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:14:41325 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:14:41326 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:14:41326 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:14:41330 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:14:41332 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:14:41333 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.845ms
[29-06-2024 00:14:41333 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:14:41334 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.5088ms
[29-06-2024 00:17:27972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:27976 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:27976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.3561ms
[29-06-2024 00:17:27979 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:27981 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:27981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:27982 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:17:27990 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:17:27994 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:17:27995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.0794ms
[29-06-2024 00:17:27996 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:27996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 17.3918ms
[29-06-2024 00:17:36632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:36633 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:36633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2102ms
[29-06-2024 00:17:36634 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:36635 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:36635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:36635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:17:36638 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:17:36641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:17:36641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.5819ms
[29-06-2024 00:17:36642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:36642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.6739ms
[29-06-2024 00:17:54253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:54254 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:54254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.1483ms
[29-06-2024 00:17:54255 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:17:54256 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:17:54256 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:54256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:17:54260 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:17:54262 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:17:54262 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.5926ms
[29-06-2024 00:17:54263 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:17:54264 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 8.9248ms
[29-06-2024 00:18:27246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:27250 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:27250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.3098ms
[29-06-2024 00:18:27253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:27255 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:27255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:18:27256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:18:27263 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:27266 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:18:27266 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.2296ms
[29-06-2024 00:18:27267 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:18:27268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.9359ms
[29-06-2024 00:18:30482 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:30482 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:30483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2083ms
[29-06-2024 00:18:30484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:30485 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:30485 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:18:30488 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:18:30492 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:30495 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:18:30508 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p2;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p3;"
[29-06-2024 00:18:30515 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:30517 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:18:30518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 29.5193ms
[29-06-2024 00:18:30518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:18:30518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 34.9309ms
[29-06-2024 00:18:33528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:18:33529 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:33530 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:18:33530 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:18:33541 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:18:33546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:18:33547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 16.8082ms
[29-06-2024 00:18:33550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:18:33551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 22.843ms
[29-06-2024 00:18:52397 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:52398 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:52398 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3411ms
[29-06-2024 00:18:52399 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:18:52400 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:52400 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:18:52400 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:18:52403 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:52404 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:18:52405 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:18:52408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:18:52408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 7.2383ms
[29-06-2024 00:18:52408 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:18:52409 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.2232ms
[29-06-2024 00:18:55433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:18:55434 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:18:55434 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:18:55434 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:18:55439 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:18:55444 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:18:55445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 9.7349ms
[29-06-2024 00:18:55445 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:18:55446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 12.8933ms
[29-06-2024 00:19:49197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:19:49200 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:19:49203 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:49204 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:49204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 7.0097ms
[29-06-2024 00:19:49204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 4.0419ms
[29-06-2024 00:19:49207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:19:49208 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:19:49212 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:49213 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:49214 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:19:49214 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:19:49214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:19:49214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:19:49218 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:19:49250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:19:49253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 37.8332ms
[29-06-2024 00:19:49253 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:19:49253 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:19:49254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 47.2471ms
[29-06-2024 00:19:49255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:19:49255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 40.2967ms
[29-06-2024 00:19:49256 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:19:49256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 48.7066ms
[29-06-2024 00:19:56444 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:19:56444 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:56445 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.362ms
[29-06-2024 00:19:56446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:19:56447 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:56447 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:19:56447 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:19:56453 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:19:56456 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:19:56457 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.045ms
[29-06-2024 00:19:56457 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:19:56458 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.4337ms
[29-06-2024 00:19:56470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:19:56471 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:56472 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:19:56472 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:19:56485 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:19:56492 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:19:56494 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 21.0415ms
[29-06-2024 00:19:56494 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:19:56495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 24.3824ms
[29-06-2024 00:19:58725 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:19:58725 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:58726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2989ms
[29-06-2024 00:19:58727 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:19:58728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:19:58728 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:58729 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:58729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.512ms
[29-06-2024 00:19:58731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:19:58730 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:19:58732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:19:58732 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:19:58733 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:19:58734 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:19:58736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:19:58738 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:19:58761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:19:58761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 28.0726ms
[29-06-2024 00:19:58762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:19:58762 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:19:58762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 27.863ms
[29-06-2024 00:19:58762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 34.9164ms
[29-06-2024 00:19:58763 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:19:58764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 33.5699ms
[29-06-2024 00:20:04620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:20:04621 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:04621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:20:04622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:20:04622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.4169ms
[29-06-2024 00:20:04622 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:04623 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:04624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.0766ms
[29-06-2024 00:20:04625 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:04625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:20:04626 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:20:04627 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:04628 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:20:04628 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:20:04630 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:20:04654 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:20:04654 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:20:04655 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 27.3501ms
[29-06-2024 00:20:04656 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:04656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:20:04656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 34.1011ms
[29-06-2024 00:20:04657 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 27.9877ms
[29-06-2024 00:20:04658 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:20:04658 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 33.3636ms
[29-06-2024 00:20:05859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:20:05860 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:05860 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:05860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:20:05864 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:20:05887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:20:05888 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 26.9863ms
[29-06-2024 00:20:05888 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:05889 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 30.2449ms
[29-06-2024 00:20:07099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:20:07100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:20:07100 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:07101 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:07101 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:07101 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:20:07102 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:20:07102 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:20:07105 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:20:07106 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:20:07130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:20:07130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 27.4918ms
[29-06-2024 00:20:07131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:20:07131 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:20:07131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 27.8639ms
[29-06-2024 00:20:07132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 32.393ms
[29-06-2024 00:20:07132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:20:07133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 33.0726ms
[29-06-2024 00:20:14403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:20:14404 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:14404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2899ms
[29-06-2024 00:20:14405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:20:14406 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:14407 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:20:14407 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:20:14410 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:14413 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:20:14414 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.986ms
[29-06-2024 00:20:14414 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:20:14415 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.6428ms
[29-06-2024 00:20:14427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:20:14428 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:14428 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:20:14429 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:20:14434 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:20:14440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:20:14441 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.8786ms
[29-06-2024 00:20:14442 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:20:14442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 15.6202ms
[29-06-2024 00:20:30080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:20:30081 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:30081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.2803ms
[29-06-2024 00:20:30082 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:20:30083 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:30083 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:20:30084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:20:30090 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:30092 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:20:30094 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:20:30096 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:20:30098 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:20:30102 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:30104 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:20:30104 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 19.8362ms
[29-06-2024 00:20:30105 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:20:30105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 23.2114ms
[29-06-2024 00:20:30733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:20:30734 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:30734 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:20:30734 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:20:30737 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:30739 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:20:30741 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:20:30742 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:20:30744 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:20:30745 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:30747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:20:30748 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.9234ms
[29-06-2024 00:20:30748 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:20:30749 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.9473ms
[29-06-2024 00:20:36622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:20:36623 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:36623 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4218ms
[29-06-2024 00:20:36624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:20:36625 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:36625 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:20:36626 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:20:36629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:36630 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:20:36633 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:20:36634 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:20:36636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:20:36637 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 10.606ms
[29-06-2024 00:20:36637 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:20:36638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.8179ms
[29-06-2024 00:20:39661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:20:39662 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:20:39662 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:20:39662 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:20:39672 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:20:39677 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:20:39677 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.5186ms
[29-06-2024 00:20:39678 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:20:39678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.6678ms
[29-06-2024 00:24:00358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:24:00362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:00362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 3.9212ms
[29-06-2024 00:24:00364 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:24:00366 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:00367 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:24:00367 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:24:00373 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:00375 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:24:00377 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:24:00378 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:24:00380 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:24:00384 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:00386 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:24:00387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 19.1759ms
[29-06-2024 00:24:00387 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:24:00387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 24.5176ms
[29-06-2024 00:24:00787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:24:00788 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:00788 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:24:00788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:24:00791 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:00793 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:24:00795 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:24:00796 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:24:00797 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:24:00799 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:00801 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:24:00801 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.3823ms
[29-06-2024 00:24:00802 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:24:00802 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.4378ms
[29-06-2024 00:24:09103 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:24:09104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:09104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2547ms
[29-06-2024 00:24:09105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:24:09106 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:09106 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:24:09106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:24:09109 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:09110 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:24:09112 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:24:09114 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:09116 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:24:09116 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 9.4546ms
[29-06-2024 00:24:09117 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:24:09117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.371ms
[29-06-2024 00:24:12142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:24:12143 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:12143 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:24:12144 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:24:12154 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:24:12159 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:24:12159 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.7875ms
[29-06-2024 00:24:12160 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:24:12160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 18.3612ms
[29-06-2024 00:24:23547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:24:23548 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:23548 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2508ms
[29-06-2024 00:24:23549 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:24:23550 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:24:23551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:24:23551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:24:23555 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:24:23558 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:24:23558 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.311ms
[29-06-2024 00:24:23559 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:24:23559 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0926ms
[29-06-2024 00:26:04848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:04853 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04853 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.2695ms
[29-06-2024 00:26:04857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:04859 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04860 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 9:20:07 PM', Current time (UTC): '6/28/2024 9:26:04 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:26:04861 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 9:20:07 PM', Current time (UTC): '6/28/2024 9:26:04 PM'."
[29-06-2024 00:26:04862 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 00:26:04863 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 00:26:04863 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 5.7929ms
[29-06-2024 00:26:04921 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - null null
[29-06-2024 00:26:04922 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04923 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/refresh-token""" - 204 null null 1.2987ms
[29-06-2024 00:26:04923 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - "application/json" 741
[29-06-2024 00:26:04925 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04925 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 9:20:07 PM', Current time (UTC): '6/28/2024 9:26:04 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:26:04927 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 9:20:07 PM', Current time (UTC): '6/28/2024 9:26:04 PM'."
[29-06-2024 00:26:04927 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 00:26:04927 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RefreshToken\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Project_Keystone.Api.Models.DTOs.TokenModel)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:26:04936 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:26:04940 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 00:26:04943 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 00:26:04944 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:26:04949 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 00:26:04950 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 00:26:04951 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)" in 22.195ms
[29-06-2024 00:26:04951 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.RefreshToken (Project-Keystone)"'
[29-06-2024 00:26:04952 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/refresh-token""" - 200 null "application/json; charset=utf-8" 28.2551ms
[29-06-2024 00:26:04955 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:04956 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:04956 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:04956 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:04963 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:04966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:04966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.0189ms
[29-06-2024 00:26:04967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:04967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.3401ms
[29-06-2024 00:26:07508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:26:07508 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:07509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.2327ms
[29-06-2024 00:26:07509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:26:07510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:26:07514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:07514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:07515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.9682ms
[29-06-2024 00:26:07515 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:26:07516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:26:07517 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:26:07517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:07518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:26:07519 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:26:07522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:26:07538 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:26:07550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:26:07551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 33.0045ms
[29-06-2024 00:26:07551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:26:07551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:26:07552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 32.5505ms
[29-06-2024 00:26:07552 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 42.5256ms
[29-06-2024 00:26:07553 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:26:07554 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 38.1448ms
[29-06-2024 00:26:09544 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:09545 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:09546 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:09546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:09550 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:09553 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:09554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.6556ms
[29-06-2024 00:26:09554 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:09554 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0672ms
[29-06-2024 00:26:09571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:26:09572 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:09572 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:09573 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:26:09586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:26:09595 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:26:09597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 23.6711ms
[29-06-2024 00:26:09597 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:09598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 27.2001ms
[29-06-2024 00:26:11001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:26:11002 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:11003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.4202ms
[29-06-2024 00:26:11003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:26:11004 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:11005 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:26:11005 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:11008 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:11010 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:26:11012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:26:11014 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:26:11016 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:26:11020 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:11023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:11023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 17.5596ms
[29-06-2024 00:26:11024 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:26:11024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 20.688ms
[29-06-2024 00:26:11364 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:26:11365 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:11365 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:26:11366 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:11369 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:11371 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:26:11373 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:26:11374 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:26:11376 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:26:11377 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:11379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:11380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 13.2624ms
[29-06-2024 00:26:11380 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:26:11380 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 16.6868ms
[29-06-2024 00:26:16690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:16691 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:16692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3547ms
[29-06-2024 00:26:16692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:16693 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:16694 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:26:16694 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:16697 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:16698 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:26:16700 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:26:16702 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:16704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:16704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 9.853ms
[29-06-2024 00:26:16705 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:26:16705 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.8824ms
[29-06-2024 00:26:19729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:26:19730 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:19731 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:19731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:26:19736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:26:19741 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:26:19742 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.1204ms
[29-06-2024 00:26:19743 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:19743 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 13.6108ms
[29-06-2024 00:26:44193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:44196 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:44197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.0805ms
[29-06-2024 00:26:44199 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:44201 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:44201 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:44202 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:44206 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:44209 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:44210 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.5462ms
[29-06-2024 00:26:44211 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:44211 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.328ms
[29-06-2024 00:26:47509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:47510 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:47511 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:47511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:47515 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:47521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:47521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 9.3173ms
[29-06-2024 00:26:47521 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:47522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.629ms
[29-06-2024 00:26:47536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:26:47537 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:47537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:47538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:26:47542 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:26:47551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:26:47552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 14.2453ms
[29-06-2024 00:26:47553 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:47554 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.635ms
[29-06-2024 00:26:49728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:49729 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:49730 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.7419ms
[29-06-2024 00:26:49731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:26:49732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:49732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:49732 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:26:49736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:26:49739 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:26:49739 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.437ms
[29-06-2024 00:26:49740 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:26:49741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.0845ms
[29-06-2024 00:26:49751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:26:49752 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:26:49752 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:49753 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:26:49757 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:26:49764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:26:49765 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 11.6382ms
[29-06-2024 00:26:49765 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:26:49766 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 14.79ms
[29-06-2024 00:27:07227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:07228 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:07228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3784ms
[29-06-2024 00:27:07229 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:07230 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:07231 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:07231 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:07241 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:07245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:07247 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 14.6748ms
[29-06-2024 00:27:07247 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:07248 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.9053ms
[29-06-2024 00:27:09516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:09517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:09518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:09518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:09522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:09527 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:09527 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 8.3536ms
[29-06-2024 00:27:09528 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:09529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.5658ms
[29-06-2024 00:27:16845 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:16846 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:16846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.229ms
[29-06-2024 00:27:16847 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:16848 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:16849 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:16849 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:16854 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:16857 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:16858 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.5511ms
[29-06-2024 00:27:16859 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:16859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.977ms
[29-06-2024 00:27:23281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:23282 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:23282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3567ms
[29-06-2024 00:27:23283 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:23285 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:23285 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:23285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:23288 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:23291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:23291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.5463ms
[29-06-2024 00:27:23292 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:23292 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.262ms
[29-06-2024 00:27:24996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:24996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:24997 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:24997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:25001 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:25003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:25004 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.2133ms
[29-06-2024 00:27:25004 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:25005 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.304ms
[29-06-2024 00:27:32319 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:32320 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:32321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2451ms
[29-06-2024 00:27:32321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:32322 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:32323 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:32323 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:32327 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:32331 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:32331 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.2586ms
[29-06-2024 00:27:32332 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:32333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 11.2318ms
[29-06-2024 00:27:41721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:41722 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:41722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3264ms
[29-06-2024 00:27:41723 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:41724 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:41724 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:41725 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:41728 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:41731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:41731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 5.9026ms
[29-06-2024 00:27:41732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:41732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.3804ms
[29-06-2024 00:27:46776 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:46777 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:46778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.387ms
[29-06-2024 00:27:46778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:46779 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:46780 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:46780 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:46784 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:46787 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:46788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.1092ms
[29-06-2024 00:27:46788 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:46789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.9277ms
[29-06-2024 00:27:46801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:27:46802 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:46802 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:27:46803 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:27:46814 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:27:46821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:27:46822 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 18.5081ms
[29-06-2024 00:27:46822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:27:46823 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.9397ms
[29-06-2024 00:27:49358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:27:49359 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:49360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.2043ms
[29-06-2024 00:27:49360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:27:49362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:49362 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:27:49363 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:27:49367 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:27:49370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:27:49373 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:27:49373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:27:49374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 10.4055ms
[29-06-2024 00:27:49374 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:27:49374 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 14.13ms
[29-06-2024 00:27:52850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:52851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:52851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3554ms
[29-06-2024 00:27:52852 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:27:52853 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:52853 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:52854 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:27:52858 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:27:52860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:27:52861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.7107ms
[29-06-2024 00:27:52861 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:27:52862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.369ms
[29-06-2024 00:27:52875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:27:52875 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:52876 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:27:52876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:27:52883 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:27:52892 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:27:52893 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.9635ms
[29-06-2024 00:27:52894 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:27:52895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 20.5934ms
[29-06-2024 00:27:54341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - null null
[29-06-2024 00:27:54342 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:54342 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/37""" - 204 null null 1.2756ms
[29-06-2024 00:27:54343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - "application/json" 2
[29-06-2024 00:27:54344 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:54344 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 00:27:54345 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:27:54348 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:27:54350 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[29-06-2024 00:27:54351 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 37 to wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:27:54352 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:27:54352 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 6.6882ms
[29-06-2024 00:27:54352 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 00:27:54353 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/37""" - 200 null "application/json; charset=utf-8" 9.7885ms
[29-06-2024 00:27:54961 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/25""" - null null
[29-06-2024 00:27:54962 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:54963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/add/25""" - 204 null null 1.3579ms
[29-06-2024 00:27:54963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/25""" - "application/json" 2
[29-06-2024 00:27:54964 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:27:54965 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 00:27:54965 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddToWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:27:54970 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:27:54972 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WISHLIST_ITEMS] ([ADDED_AT], [PRODUCT_ID], [WISHLIST_ID])
OUTPUT INSERTED.[WISHLIST_ITEM_ID]
VALUES (@p0, @p1, @p2);"
[29-06-2024 00:27:54973 +03:00 Project_Keystone.Core.Services.WishlistService ] Added product 25 to wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:27:54973 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:27:54973 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)" in 7.7771ms
[29-06-2024 00:27:54974 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.AddToWishlist (Project-Keystone)"'
[29-06-2024 00:27:54974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/wishlist/add/25""" - 200 null "application/json; charset=utf-8" 10.7855ms
[29-06-2024 00:28:00382 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:28:00383 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:00383 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.3682ms
[29-06-2024 00:28:00384 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:28:00385 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:00385 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:28:00385 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:00388 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:00390 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:28:00392 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:28:00394 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:28:00396 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:28:00400 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:00402 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:00403 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 16.5926ms
[29-06-2024 00:28:00403 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:28:00403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 19.8754ms
[29-06-2024 00:28:00762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:28:00763 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:00764 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:28:00764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:00767 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:00768 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:28:00770 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:28:00772 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:28:00773 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:28:00774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:00777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:00777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.5032ms
[29-06-2024 00:28:00778 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:28:00778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.535ms
[29-06-2024 00:28:07607 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - null null
[29-06-2024 00:28:07608 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:07609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/update""" - 204 null null 1.4297ms
[29-06-2024 00:28:07609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 32
[29-06-2024 00:28:07610 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:07611 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:28:07611 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:07617 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:07618 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 00:28:07620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:28:07621 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:07624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:07624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 12.5517ms
[29-06-2024 00:28:07625 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:28:07625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 15.6386ms
[29-06-2024 00:28:09539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - "application/json" 32
[29-06-2024 00:28:09540 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:09540 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:28:09540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"UpdateBasketItem\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] UpdateBasketItem(Project_Keystone.Api.Models.DTOs.BasketDTOs.UpdateBasketItemDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:09543 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:09545 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__item_BasketItemId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ITEM_ID] = @__item_BasketItemId_0"
[29-06-2024 00:28:09546 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BASKET_ITEMS] SET [QUANTITY] = @p0
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:28:09547 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:09549 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:09549 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)" in 8.318ms
[29-06-2024 00:28:09550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.UpdateBasketItem (Project-Keystone)"'
[29-06-2024 00:28:09550 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/update""" - 200 null "application/json; charset=utf-8" 11.3856ms
[29-06-2024 00:28:23766 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:28:23767 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:23768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2925ms
[29-06-2024 00:28:23768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:28:23769 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:23770 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:28:23770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:28:23773 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:23775 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:28:23777 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:28:23778 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:28:23780 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:28:23781 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 10.3725ms
[29-06-2024 00:28:23781 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:28:23782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 13.2598ms
[29-06-2024 00:28:26802 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:28:26803 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:26804 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:28:26804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:28:26815 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:28:26819 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:28:26820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 15.7694ms
[29-06-2024 00:28:26823 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:28:26823 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.2708ms
[29-06-2024 00:28:34803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:28:34804 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:34804 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.2944ms
[29-06-2024 00:28:34805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:28:34806 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:28:34806 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:28:34807 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:28:34811 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:28:34814 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:28:34817 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:28:34817 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:28:34818 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 10.0747ms
[29-06-2024 00:28:34818 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:28:34819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 13.7678ms
[29-06-2024 00:29:29598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:29:29602 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:29:29602 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.8018ms
[29-06-2024 00:29:29603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:29:29611 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:29:29611 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:29:29612 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:29:29620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:29:29623 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:29:29624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 11.5699ms
[29-06-2024 00:29:29624 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:29:29626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 22.0446ms
[29-06-2024 00:29:29643 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:29:29644 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:29:29644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.3771ms
[29-06-2024 00:29:29645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:29:29646 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:29:29647 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:29:29647 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:29:29654 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:29:29662 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:29:29665 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:29:29665 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:29:29666 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 17.963ms
[29-06-2024 00:29:29666 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:29:29666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 21.2135ms
[29-06-2024 00:30:07108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:07112 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:07113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 4.8917ms
[29-06-2024 00:30:07117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:07118 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:07119 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:30:07119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:07123 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:07127 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:07128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 7.4264ms
[29-06-2024 00:30:07128 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:30:07129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 12.6164ms
[29-06-2024 00:30:07149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:07150 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:07150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.2665ms
[29-06-2024 00:30:07152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:07153 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:07154 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:07154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:30:07158 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:30:07161 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:30:07165 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:30:07165 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:30:07166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 11.3807ms
[29-06-2024 00:30:07166 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:07167 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 15.057ms
[29-06-2024 00:30:09356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - null null
[29-06-2024 00:30:09357 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:09358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket/items/add""" - 204 null null 1.4186ms
[29-06-2024 00:30:09358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:30:09359 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:09360 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:30:09360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:09363 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:09365 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:30:09366 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:30:09368 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:30:09370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:30:09374 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:09376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:09376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 15.8566ms
[29-06-2024 00:30:09377 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:30:09377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 19.0314ms
[29-06-2024 00:30:10520 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - "application/json" 29
[29-06-2024 00:30:10521 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:10522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:30:10522 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddToBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] AddToBasket(Project_Keystone.Api.Models.DTOs.BasketDTOs.AddToBasketDTO)" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:10525 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:10527 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
FROM [PRODUCTS] AS [p]
WHERE [p].[PRODUCT_ID] = @__p_0"
[29-06-2024 00:30:10528 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BASKET_ITEM_ID], [b].[ADDED_AT], [b].[BASKET_ID], [b].[PRODUCT_ID], [b].[QUANTITY]
FROM [BASKET_ITEMS] AS [b]
WHERE [b].[BASKET_ID] = @__basketId_0 AND [b].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:30:10530 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:30:10531 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BASKET_ITEMS] ([ADDED_AT], [BASKET_ID], [PRODUCT_ID], [QUANTITY])
OUTPUT INSERTED.[BASKET_ITEM_ID]
VALUES (@p0, @p1, @p2, @p3);"
[29-06-2024 00:30:10532 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:10534 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:10535 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)" in 12.2588ms
[29-06-2024 00:30:10535 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.AddToBasket (Project-Keystone)"'
[29-06-2024 00:30:10536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/basket/items/add""" - 200 null "application/json; charset=utf-8" 15.3645ms
[29-06-2024 00:30:28509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:28510 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:28510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.2059ms
[29-06-2024 00:30:28511 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:28512 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:28512 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:30:28513 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ClearBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] ClearBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:28518 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:28520 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__basketId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[BASKET_ID] = @__basketId_0
) AS [t]
LEFT JOIN [BASKET_ITEMS] AS [b0] ON [t].[BASKET_ID] = [b0].[BASKET_ID]
ORDER BY [t].[BASKET_ID]"
[29-06-2024 00:30:28522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p0;
DELETE FROM [BASKET_ITEMS]
OUTPUT 1
WHERE [BASKET_ITEM_ID] = @p1;"
[29-06-2024 00:30:28523 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:28526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:28526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)" in 12.9563ms
[29-06-2024 00:30:28526 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.ClearBasket (Project-Keystone)"'
[29-06-2024 00:30:28527 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.2129ms
[29-06-2024 00:30:29757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:29758 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:29758 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.4274ms
[29-06-2024 00:30:29759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:29760 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:29760 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:29761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:30:29764 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:30:29768 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:30:29770 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:30:29770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:30:29771 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 9.835ms
[29-06-2024 00:30:29771 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:29772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 12.9839ms
[29-06-2024 00:30:31549 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:30:31550 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:31550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:30:31551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:30:31561 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:30:31567 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:30:31567 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 16.1242ms
[29-06-2024 00:30:31568 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:30:31568 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 19.2827ms
[29-06-2024 00:30:39956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:39957 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:39957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.3732ms
[29-06-2024 00:30:39958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:30:39959 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:39960 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:39960 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:30:39963 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:30:39964 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:30:39967 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:30:39967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:30:39967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 6.9669ms
[29-06-2024 00:30:39968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:30:39968 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 10.4429ms
[29-06-2024 00:30:40794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:40795 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:40795 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.3947ms
[29-06-2024 00:30:40796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:30:40797 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:40797 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:30:40797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:30:40801 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:30:40804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:30:40805 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.9554ms
[29-06-2024 00:30:40805 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:30:40806 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 10.2346ms
[29-06-2024 00:30:40818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:30:40819 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:30:40819 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:30:40819 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:30:40824 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:30:40829 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:30:40830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 10.1997ms
[29-06-2024 00:30:40834 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:30:40835 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 17.5069ms
[29-06-2024 00:32:17893 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:32:17897 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:17897 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:32:17900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 6.8757ms
[29-06-2024 00:32:17902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:32:17905 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:17907 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:17907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 9.5592ms
[29-06-2024 00:32:17908 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:32:17908 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:32:17909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:17910 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:32:17910 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:32:17911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:32:17915 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:32:17940 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:32:17942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:32:17942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 31.4193ms
[29-06-2024 00:32:17943 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:32:17944 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:32:17944 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 42.152ms
[29-06-2024 00:32:17944 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 33.0038ms
[29-06-2024 00:32:17946 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:32:17946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 38.4053ms
[29-06-2024 00:32:20219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:20220 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:20220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4315ms
[29-06-2024 00:32:20221 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:20222 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:20222 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:20223 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:32:20232 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:32:20236 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:32:20237 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.4859ms
[29-06-2024 00:32:20237 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:20238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.8471ms
[29-06-2024 00:32:52221 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:52226 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52226 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 5.874ms
[29-06-2024 00:32:52231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:52233 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52233 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:52234 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:32:52241 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:32:52244 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:32:52245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.3206ms
[29-06-2024 00:32:52245 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:52246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.9984ms
[29-06-2024 00:32:52294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:32:52295 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52296 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.3388ms
[29-06-2024 00:32:52297 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:32:52298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:32:52298 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52299 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 2.4557ms
[29-06-2024 00:32:52301 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:32:52301 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:32:52305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:52305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:32:52306 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:32:52306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:32:52310 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:32:52311 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:32:52339 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:32:52339 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 33.1558ms
[29-06-2024 00:32:52340 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:32:52340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:32:52340 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 42.0681ms
[29-06-2024 00:32:52340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 33.452ms
[29-06-2024 00:32:52342 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:32:52342 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 41.4934ms
[29-06-2024 00:32:53775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:32:53776 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:53776 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:53777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:32:53780 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:32:53783 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:32:53784 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 6.3204ms
[29-06-2024 00:32:53784 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:32:53784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 9.5149ms
[29-06-2024 00:32:53798 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:32:53799 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:32:53799 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:32:53800 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:32:53811 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:32:53818 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:32:53819 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 18.4672ms
[29-06-2024 00:32:53819 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:32:53820 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 21.83ms
[29-06-2024 00:34:01537 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Wishlist""" - null null
[29-06-2024 00:34:01538 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 7:46:09 PM', Current time (UTC): '6/28/2024 9:34:01 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[29-06-2024 00:34:01538 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/28/2024 7:46:09 PM', Current time (UTC): '6/28/2024 9:34:01 PM'."
[29-06-2024 00:34:01539 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 00:34:01539 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 00:34:01539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Wishlist""" - 401 0 null 3.4682ms
[29-06-2024 00:40:26676 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 00:40:27036 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 00:40:27036 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 00:40:27037 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 00:40:27038 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 00:40:27038 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 00:40:28060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 00:40:28195 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 137.8299ms
[29-06-2024 00:40:28216 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 00:40:28216 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 00:40:28216 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 00:40:28224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 7.8904ms
[29-06-2024 00:40:28231 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 00:40:28231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.461ms
[29-06-2024 00:40:28245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 29.3838ms
[29-06-2024 00:40:28272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 00:40:28274 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 00:40:28274 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.5254ms
[29-06-2024 00:40:28304 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 00:40:28410 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 106.3186ms
[29-06-2024 00:40:29871 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:29873 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:29874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 3.5655ms
[29-06-2024 00:40:29875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:29877 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:29895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:40:29897 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:29959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:40:29979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:40:30002 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:30005 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:40:31064 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 00:40:31427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:40:31427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:40:31473 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:40:31487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 1478.8041ms
[29-06-2024 00:40:31488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:31490 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:40:31492 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 1616.539ms
[29-06-2024 00:40:31499 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 1518.9154ms
[29-06-2024 00:40:31500 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:40:31501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 1605.1367ms
[29-06-2024 00:40:33142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:33143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:33143 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:33144 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:33144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 2.569ms
[29-06-2024 00:40:33144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 1.41ms
[29-06-2024 00:40:33146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:33146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:33148 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:33148 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:33152 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:33152 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:33154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:40:33154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:40:33202 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:40:33202 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:40:33243 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:40:33245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 90.1301ms
[29-06-2024 00:40:33246 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:33246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 100.5575ms
[29-06-2024 00:40:33263 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:40:33266 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 110.0325ms
[29-06-2024 00:40:33266 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:33267 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 121.4805ms
[29-06-2024 00:40:37603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:37604 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:37604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.6473ms
[29-06-2024 00:40:37605 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:37606 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:37608 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:37608 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:40:37617 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:40:37621 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:40:37622 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 13.345ms
[29-06-2024 00:40:37622 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:37623 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 18.5314ms
[29-06-2024 00:40:37624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:40:37625 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:37626 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:40:37627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:40:37637 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:40:37650 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:40:37654 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 26.6015ms
[29-06-2024 00:40:37655 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:40:37655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 30.9831ms
[29-06-2024 00:40:38651 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:38652 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:38652 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:38653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.7059ms
[29-06-2024 00:40:38654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:38654 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:38656 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:38656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 3.649ms
[29-06-2024 00:40:38656 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:38657 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:38658 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:40:38658 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:38660 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:38660 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:40:38663 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:40:38759 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:40:38760 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 100.6656ms
[29-06-2024 00:40:38760 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:38760 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 107.0917ms
[29-06-2024 00:40:38762 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:40:38765 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:40:38766 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 104.6901ms
[29-06-2024 00:40:38766 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:38767 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 110.4295ms
[29-06-2024 00:40:39344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:40:39345 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:39345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:39346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:40:39355 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:40:39358 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:40:39359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 12.2682ms
[29-06-2024 00:40:39359 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:40:39360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 16.1225ms
[29-06-2024 00:40:39381 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:40:39383 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:40:39383 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:39383 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:40:39384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:39384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:39384 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:40:39385 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:40:39389 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:40:39420 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:40:39421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 35.7524ms
[29-06-2024 00:40:39421 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:40:39422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 40.5812ms
[29-06-2024 00:40:39428 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:40:39430 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:40:39431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 45.0529ms
[29-06-2024 00:40:39431 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:40:39432 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 49.1606ms
[29-06-2024 00:43:18622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:43:18623 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:43:18624 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:43:18624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:43:18646 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:43:18655 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:43:18657 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 25.1545ms
[29-06-2024 00:43:18660 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:43:18661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 39.1306ms
[29-06-2024 00:43:46791 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 00:43:46943 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 00:43:46943 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 00:43:46944 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 00:43:46945 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 00:43:46945 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 00:44:04722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 00:44:04824 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 102.1933ms
[29-06-2024 00:44:04841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 00:44:04841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 00:44:04841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 00:44:04851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 9.612ms
[29-06-2024 00:44:04856 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 00:44:04857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 15.7277ms
[29-06-2024 00:44:04872 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.7683ms
[29-06-2024 00:44:04901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 00:44:04903 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 00:44:04904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.8293ms
[29-06-2024 00:44:04930 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 00:44:05028 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 97.2517ms
[29-06-2024 00:44:35908 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:44:35914 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:44:35981 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
[29-06-2024 00:44:35984 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[29-06-2024 00:44:35984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 401 0 null 76.4263ms
[29-06-2024 00:44:44651 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - null null
[29-06-2024 00:44:44653 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:44:44653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/login""" - 204 null null 1.9958ms
[29-06-2024 00:44:44655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - "application/json" 57
[29-06-2024 00:44:44656 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:44:44659 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 00:44:44672 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:44:45716 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:44:45854 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 00:44:45882 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 00:44:45889 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 00:44:45950 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 00:44:45958 +03:00 Project_Keystone.Core.Services.AuthService ] User "user@example.com" logged in successfully.
[29-06-2024 00:44:45962 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 00:44:45967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1292.2248ms
[29-06-2024 00:44:45968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 00:44:45972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/auth/login""" - 200 null "application/json; charset=utf-8" 1317.5206ms
[29-06-2024 00:44:45988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:44:45989 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:44:45990 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:44:45994 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:44:46082 +03:00 Microsoft.EntityFrameworkCore.Query ] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[29-06-2024 00:44:46094 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:44:46146 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:44:46160 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 165.5306ms
[29-06-2024 00:44:46161 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:44:46161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 172.9629ms
[29-06-2024 00:47:06878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:47:06879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:06879 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:47:06882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - null null
[29-06-2024 00:47:06880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/address""" - 204 null null 1.7044ms
[29-06-2024 00:47:06883 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:06884 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:06885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/auth/me""" - 204 null null 5.6717ms
[29-06-2024 00:47:06886 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - null null
[29-06-2024 00:47:06887 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:06913 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:47:06913 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:47:06915 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetCurrentUser\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser()" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 00:47:06915 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetAddress\", controller = \"Address\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.AddressDTos.AddressDTO]] GetAddress()" on controller "Project_Keystone.Api.Controllers.AddressController" ("Project-Keystone").
[29-06-2024 00:47:06934 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:06939 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ADDRESS_ID], [a].[CITY], [a].[COUNTRY], [a].[STREET_ADDRESS], [a].[USER_ID], [a].[ZIP_CODE]
FROM [ADDRESSES] AS [a]
WHERE [a].[USER_ID] = @__userId_0"
[29-06-2024 00:47:06939 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.UserDTOs.UserDTO"'.
[29-06-2024 00:47:06978 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:47:06979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)" in 62.6366ms
[29-06-2024 00:47:06979 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.GetCurrentUser (Project-Keystone)"'
[29-06-2024 00:47:06980 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/auth/me""" - 200 null "application/json; charset=utf-8" 93.7886ms
[29-06-2024 00:47:06980 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)" in 63.4151ms
[29-06-2024 00:47:06981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AddressController.GetAddress (Project-Keystone)"'
[29-06-2024 00:47:06982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/address""" - 404 null "application/json; charset=utf-8" 99.0674ms
[29-06-2024 00:47:09596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:47:09597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:09598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.526ms
[29-06-2024 00:47:09599 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:47:09600 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:09602 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:47:09604 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:47:09638 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:47:09651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:47:09653 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 48.077ms
[29-06-2024 00:47:09653 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:47:09654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 55.3476ms
[29-06-2024 00:47:09677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:47:09678 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:09678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist""" - 204 null null 1.4557ms
[29-06-2024 00:47:09679 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:47:09680 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:09681 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:09683 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:09691 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:09707 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:09727 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 2 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:09727 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:47:09730 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 46.118ms
[29-06-2024 00:47:09732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:09732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 53.0585ms
[29-06-2024 00:47:11565 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/25""" - null null
[29-06-2024 00:47:11566 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:11566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/25""" - 204 null null 1.2725ms
[29-06-2024 00:47:11567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/25""" - null null
[29-06-2024 00:47:11568 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:11568 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 00:47:11571 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:11576 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:11578 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:11586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:47:11606 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[29-06-2024 00:47:11610 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 25 from wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:11610 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:47:11611 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 39.5727ms
[29-06-2024 00:47:11611 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 00:47:11612 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/25""" - 200 null "application/json; charset=utf-8" 45.1017ms
[29-06-2024 00:47:11615 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:47:11616 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:11616 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:11617 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:11629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:11631 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:11634 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 1 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:11634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:47:11635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 17.2506ms
[29-06-2024 00:47:11635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:11635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 20.6868ms
[29-06-2024 00:47:12359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/37""" - null null
[29-06-2024 00:47:12360 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:12360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/wishlist/remove/37""" - 204 null null 1.4792ms
[29-06-2024 00:47:12361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/37""" - null null
[29-06-2024 00:47:12362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:12363 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 00:47:12363 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RemoveFromWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RemoveFromWishlist(Int32)" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:12368 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:12369 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:12370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__wishlistId_0='?' (DbType = Int32), @__productId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [w].[WISHLIST_ITEM_ID], [w].[ADDED_AT], [w].[PRODUCT_ID], [w].[WISHLIST_ID]
FROM [WISHLIST_ITEMS] AS [w]
WHERE [w].[WISHLIST_ID] = @__wishlistId_0 AND [w].[PRODUCT_ID] = @__productId_1"
[29-06-2024 00:47:12372 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WISHLIST_ITEMS]
OUTPUT 1
WHERE [WISHLIST_ITEM_ID] = @p0;"
[29-06-2024 00:47:12373 +03:00 Project_Keystone.Core.Services.WishlistService ] Removed product 37 from wishlist for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:12373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 00:47:12374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)" in 9.965ms
[29-06-2024 00:47:12374 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.RemoveFromWishlist (Project-Keystone)"'
[29-06-2024 00:47:12375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "DELETE" "https"://"localhost:7298""""/api/wishlist/remove/37""" - 200 null "application/json; charset=utf-8" 13.7599ms
[29-06-2024 00:47:12378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - null null
[29-06-2024 00:47:12378 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:12379 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:12379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetWishlist\", controller = \"Wishlist\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO]] GetWishlist()" on controller "Project_Keystone.Api.Controllers.WishlistController" ("Project-Keystone").
[29-06-2024 00:47:12383 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[Id] = @__p_0"
[29-06-2024 00:47:12385 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[WISHLIST_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[WISHLIST_ITEM_ID], [t0].[ADDED_AT], [t0].[PRODUCT_ID], [t0].[WISHLIST_ID], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [w].[WISHLIST_ID], [w].[CREATED_AT], [w].[UPDATED_AT], [w].[USER_ID]
    FROM [WISHLISTS] AS [w]
    WHERE [w].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [w0].[WISHLIST_ITEM_ID], [w0].[ADDED_AT], [w0].[PRODUCT_ID], [w0].[WISHLIST_ID], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [WISHLIST_ITEMS] AS [w0]
    INNER JOIN [PRODUCTS] AS [p] ON [w0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[WISHLIST_ID] = [t0].[WISHLIST_ID]
ORDER BY [t].[WISHLIST_ID], [t0].[WISHLIST_ITEM_ID]"
[29-06-2024 00:47:12388 +03:00 Project_Keystone.Core.Services.WishlistService ] Retrieved 0 wishlist items for user "effa8f4c-c852-492f-b888-4d2c0a14f56f"
[29-06-2024 00:47:12388 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.Wishlist.WishlistDTO"'.
[29-06-2024 00:47:12389 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)" in 8.5887ms
[29-06-2024 00:47:12389 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.WishlistController.GetWishlist (Project-Keystone)"'
[29-06-2024 00:47:12390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/wishlist""" - 200 null "application/json; charset=utf-8" 11.9531ms
[29-06-2024 00:47:15077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:47:15077 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:15078 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7298""""/api/basket""" - 204 null null 1.4919ms
[29-06-2024 00:47:15080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - null null
[29-06-2024 00:47:15081 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:15081 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:47:15082 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBasket\", controller = \"Basket\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO]] GetBasket()" on controller "Project_Keystone.Api.Controllers.BasketController" ("Project-Keystone").
[29-06-2024 00:47:15089 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[BASKET_ID], [t].[CREATED_AT], [t].[UPDATED_AT], [t].[USER_ID], [t0].[BASKET_ITEM_ID], [t0].[ADDED_AT], [t0].[BASKET_ID], [t0].[PRODUCT_ID], [t0].[QUANTITY], [t0].[PRODUCT_ID0], [t0].[CREATED_AT], [t0].[DESCRIPTION], [t0].[IMAGE_URL], [t0].[NAME], [t0].[PRICE], [t0].[UPDATED_AT]
FROM (
    SELECT TOP(1) [b].[BASKET_ID], [b].[CREATED_AT], [b].[UPDATED_AT], [b].[USER_ID]
    FROM [BASKETS] AS [b]
    WHERE [b].[USER_ID] = @__userId_0
) AS [t]
LEFT JOIN (
    SELECT [b0].[BASKET_ITEM_ID], [b0].[ADDED_AT], [b0].[BASKET_ID], [b0].[PRODUCT_ID], [b0].[QUANTITY], [p].[PRODUCT_ID] AS [PRODUCT_ID0], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [BASKET_ITEMS] AS [b0]
    INNER JOIN [PRODUCTS] AS [p] ON [b0].[PRODUCT_ID] = [p].[PRODUCT_ID]
) AS [t0] ON [t].[BASKET_ID] = [t0].[BASKET_ID]
ORDER BY [t].[BASKET_ID], [t0].[BASKET_ITEM_ID]"
[29-06-2024 00:47:15092 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.BasketDTOs.BasketDTO"'.
[29-06-2024 00:47:15093 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)" in 10.2682ms
[29-06-2024 00:47:15093 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.BasketController.GetBasket (Project-Keystone)"'
[29-06-2024 00:47:15094 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/basket""" - 200 null "application/json; charset=utf-8" 14.1305ms
[29-06-2024 00:47:15103 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - null null
[29-06-2024 00:47:15104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 00:47:15105 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:47:15106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetProductWithDetails\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO]]] GetProductWithDetails(Int32, Int32)" on controller "Project_Keystone.Api.Controllers.ProductController" ("Project-Keystone").
[29-06-2024 00:47:15120 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[PRODUCT_ID], [t].[CREATED_AT], [t].[DESCRIPTION], [t].[IMAGE_URL], [t].[NAME], [t].[PRICE], [t].[UPDATED_AT], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t0].[NAME], [t1].[ProductId], [t1].[GenreId], [t1].[GENRE_ID], [t1].[NAME]
FROM (
    SELECT [p].[PRODUCT_ID], [p].[CREATED_AT], [p].[DESCRIPTION], [p].[IMAGE_URL], [p].[NAME], [p].[PRICE], [p].[UPDATED_AT]
    FROM [PRODUCTS] AS [p]
    ORDER BY [p].[NAME]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[CategoryId], [c].[CATEGORY_ID], [c].[NAME]
    FROM [PRODUCT_CATEGORIES] AS [p0]
    INNER JOIN [CATEGORIES] AS [c] ON [p0].[CategoryId] = [c].[CATEGORY_ID]
) AS [t0] ON [t].[PRODUCT_ID] = [t0].[ProductId]
LEFT JOIN (
    SELECT [p1].[ProductId], [p1].[GenreId], [g].[GENRE_ID], [g].[NAME]
    FROM [PRODUCT_GENRES] AS [p1]
    INNER JOIN [GENRES] AS [g] ON [p1].[GenreId] = [g].[GENRE_ID]
) AS [t1] ON [t].[PRODUCT_ID] = [t1].[ProductId]
ORDER BY [t].[NAME], [t].[PRODUCT_ID], [t0].[ProductId], [t0].[CategoryId], [t0].[CATEGORY_ID], [t1].[ProductId], [t1].[GenreId]"
[29-06-2024 00:47:15134 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[Project_Keystone.Api.Models.DTOs.ProductDTOs.ProductDTO, Project-Keystone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[29-06-2024 00:47:15153 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)" in 46.2ms
[29-06-2024 00:47:15153 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.ProductController.GetProductWithDetails (Project-Keystone)"'
[29-06-2024 00:47:15154 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/api/Product/details""?page=1&pageSize=20" - 200 null "application/json; charset=utf-8" 50.9275ms
[29-06-2024 01:00:20565 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 01:00:20717 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 01:00:20717 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 01:00:20719 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 01:00:20719 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 01:00:20720 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 01:00:22477 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 01:00:22593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 119.3424ms
[29-06-2024 01:00:22621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 01:00:22621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 01:00:22621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 01:00:22631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 10.0512ms
[29-06-2024 01:00:22635 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 01:00:22635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 14.2996ms
[29-06-2024 01:00:22653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 31.6135ms
[29-06-2024 01:00:22682 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 01:00:22684 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 01:00:22685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.9088ms
[29-06-2024 01:00:22717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 01:00:22821 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 104.2134ms
[29-06-2024 01:00:35352 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 69
[29-06-2024 01:00:35355 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 01:00:35405 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:00:35419 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 01:00:36481 +03:00 Microsoft.EntityFrameworkCore.Database.Connection ] An error occurred using the connection to database '"ProjectKeystone"' on server '"localhost\\sqlexpress"'.
[29-06-2024 01:00:36491 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"Project_Keystone.Infrastructure.Data.ProjectKeystoneDbContext"'."
""System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[29-06-2024 01:00:36546 +03:00 Project_Keystone.Api.Controllers.AuthController ] An unexpected error occurred during login for user "admin@example.com"
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Project_Keystone.Core.Services.AuthService.LoginUserAsync(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Core\Services\AuthService.cs:line 60
   at Project_Keystone.Api.Controllers.AuthController.Login(UserLoginDTO loginDTO) in C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone\Api\Controllers\AuthController.cs:line 60
[29-06-2024 01:00:36560 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[29-06-2024 01:00:36565 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1143.4026ms
[29-06-2024 01:00:36566 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:00:36571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 500 null "application/json; charset=utf-8" 1219.3031ms
[29-06-2024 01:03:41586 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 01:03:41722 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 01:03:41723 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 01:03:41724 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 01:03:41725 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 01:03:41725 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 01:03:43924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 01:03:44031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 109.808ms
[29-06-2024 01:03:44055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 01:03:44055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 01:03:44055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 01:03:44064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 8.8664ms
[29-06-2024 01:03:44070 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 01:03:44071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 16.0714ms
[29-06-2024 01:03:44085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 30.3066ms
[29-06-2024 01:03:44111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 01:03:44113 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 01:03:44113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.4703ms
[29-06-2024 01:03:44145 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 01:03:44256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 111.2836ms
[29-06-2024 01:03:52515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 69
[29-06-2024 01:03:52518 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 01:03:52566 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:03:52579 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 01:03:53743 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 01:03:53888 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 01:03:53916 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 01:03:53923 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 01:03:53988 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 01:03:53996 +03:00 Project_Keystone.Core.Services.AuthService ] User "admin@example.com" logged in successfully.
[29-06-2024 01:03:54002 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 01:03:54007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1424.8884ms
[29-06-2024 01:03:54008 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:03:54013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1497.8527ms
[29-06-2024 01:06:02070 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\alexs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[29-06-2024 01:06:02215 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7298"
[29-06-2024 01:06:02215 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5153"
[29-06-2024 01:06:02217 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[29-06-2024 01:06:02217 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[29-06-2024 01:06:02217 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\WorkSpace\NetApps\Project-Keystone\Project-Keystone"
[29-06-2024 01:06:06794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - null null
[29-06-2024 01:06:06905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 114.0566ms
[29-06-2024 01:06:06928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - null null
[29-06-2024 01:06:06928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - null null
[29-06-2024 01:06:06928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - null null
[29-06-2024 01:06:06942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 13.6495ms
[29-06-2024 01:06:06947 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
[29-06-2024 01:06:06948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 19.8633ms
[29-06-2024 01:06:06963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 34.3511ms
[29-06-2024 01:06:06991 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - null null
[29-06-2024 01:06:06993 +03:00 Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware ] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"'
[29-06-2024 01:06:06994 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.8704ms
[29-06-2024 01:06:07027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - null null
[29-06-2024 01:06:07131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7298""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 105.2417ms
[29-06-2024 01:06:11891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - "application/json" 69
[29-06-2024 01:06:11894 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[29-06-2024 01:06:11945 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:06:11959 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"Login\", controller = \"Auth\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Project_Keystone.Api.Models.DTOs.UserDTOs.UserLoginDTO)" on controller "Project_Keystone.Api.Controllers.AuthController" ("Project-Keystone").
[29-06-2024 01:06:13091 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 01:06:13236 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [USER_ROLES] AS [u]
INNER JOIN [ROLES] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[29-06-2024 01:06:13265 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NORMALIZED_USER_NAME] = @__normalizedUserName_0"
[29-06-2024 01:06:13272 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[CONCURRENCY_STAMP], [u].[CREATED_AT], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NormalizedEmail], [u].[NORMALIZED_USER_NAME], [u].[PASSWORD_HASH], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[UPDATED_AT], [u].[UserName]
FROM [USERS] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[29-06-2024 01:06:13337 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@p12='?' (Size = 450), @p0='?' (Size = 4000), @p13='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 256), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 512), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [USERS] SET [CONCURRENCY_STAMP] = @p0, [CREATED_AT] = @p1, [EMAIL] = @p2, [FIRSTNAME] = @p3, [LASTNAME] = @p4, [NormalizedEmail] = @p5, [NORMALIZED_USER_NAME] = @p6, [PASSWORD_HASH] = @p7, [RefreshToken] = @p8, [RefreshTokenExpiryTime] = @p9, [UPDATED_AT] = @p10, [UserName] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [CONCURRENCY_STAMP] = @p13;"
[29-06-2024 01:06:13345 +03:00 Project_Keystone.Core.Services.AuthService ] User "admin@example.com" logged in successfully.
[29-06-2024 01:06:13350 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"Project_Keystone.Api.Models.DTOs.TokenModel"'.
[29-06-2024 01:06:13355 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)" in 1392.9331ms
[29-06-2024 01:06:13356 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"Project_Keystone.Api.Controllers.AuthController.Login (Project-Keystone)"'
[29-06-2024 01:06:13360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7298""""/api/Auth/login""" - 200 null "application/json; charset=utf-8" 1469.4169ms
